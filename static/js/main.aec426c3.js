/*! For license information please see main.aec426c3.js.LICENSE.txt */
(()=>{"use strict";var t={463:(t,e,n)=>{var r=n(791),i=n(296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=M&&t[M]||t["@@iterator"])?t:null}var L,F=Object.assign;function j(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function U(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function B(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function z(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case x:return"Portal";case k:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case N:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case D:return null!==(e=t.displayName||null)?e:z(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return z(t(e))}catch(n){}}return null}function q(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function ot(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,lt,ht=(lt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return lt(t,e)}))}:lt);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var vt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,St=null,Et=null;function kt(t){if(t=bi(t)){if("function"!==typeof xt)throw Error(o(280));var e=t.stateNode;e&&(e=_i(e),xt(t.stateNode,t.type,e))}}function Tt(t){St?Et?Et.push(t):Et=[t]:St=t}function It(){if(St){var t=St,e=Et;if(Et=St=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function Nt(t,e){return t(e)}function At(){}var Ct=!1;function Dt(t,e,n){if(Ct)return t(e,n);Ct=!0;try{return Nt(t,e,n)}finally{Ct=!1,(null!==St||null!==Et)&&(At(),It())}}function Pt(t,e){var n=t.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Ot=!1;if(l)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch(lt){Ot=!1}function Rt(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var Lt=!1,Ft=null,jt=!1,Vt=null,Ut={onError:function(t){Lt=!0,Ft=t}};function Bt(t,e,n,r,i,o,a,s,u){Lt=!1,Ft=null,Rt.apply(Ut,arguments)}function zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function qt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(zt(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=zt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ht(i),t;if(a===r)return Ht(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Yt=i.unstable_cancelCallback,$t=i.unstable_shouldYield,Qt=i.unstable_requestPaint,Xt=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/ue|0)|0},se=Math.log,ue=Math.LN2;var ce=64,le=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!==(o&=a)&&(r=he(o))}else 0!==(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,xe,Se,Ee,ke,Te=!1,Ie=[],Ne=null,Ae=null,Ce=null,De=new Map,Pe=new Map,Oe=[],Me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":Ne=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":Ce=null;break;case"pointerover":case"pointerout":De.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Le(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&xe(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=yi(t.target);if(null!==e){var n=zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=qt(n)))return t.blockedOn=e,void ke(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&xe(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,e.shift()}return!0}function Ve(t,e,n){je(t)&&n.delete(e)}function Ue(){Te=!1,null!==Ne&&je(Ne)&&(Ne=null),null!==Ae&&je(Ae)&&(Ae=null),null!==Ce&&je(Ce)&&(Ce=null),De.forEach(Ve),Pe.forEach(Ve)}function Be(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ue)))}function ze(t){function e(e){return Be(e,t)}if(0<Ie.length){Be(Ie[0],t);for(var n=1;n<Ie.length;n++){var r=Ie[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ne&&Be(Ne,t),null!==Ae&&Be(Ae,t),null!==Ce&&Be(Ce,t),De.forEach(e),Pe.forEach(e),n=0;n<Oe.length;n++)(r=Oe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Oe.length&&null===(n=Oe[0]).blockedOn;)Fe(n),null===n.blockedOn&&Oe.shift()}var qe=w.ReactCurrentBatchConfig,He=!0;function We(t,e,n,r){var i=be,o=qe.transition;qe.transition=null;try{be=1,Ge(t,e,n,r)}finally{be=i,qe.transition=o}}function Ke(t,e,n,r){var i=be,o=qe.transition;qe.transition=null;try{be=4,Ge(t,e,n,r)}finally{be=i,qe.transition=o}}function Ge(t,e,n,r){if(He){var i=$e(t,e,n,r);if(null===i)Hr(t,e,r,Ye,n),Re(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ne=Le(Ne,t,e,n,r,i),!0;case"dragenter":return Ae=Le(Ae,t,e,n,r,i),!0;case"mouseover":return Ce=Le(Ce,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return De.set(o,Le(De.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pe.set(o,Le(Pe.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Re(t,r),4&e&&-1<Me.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&_e(o),null===(o=$e(t,e,n,r))&&Hr(t,e,r,Ye,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(t,e,r,null,n)}}var Ye=null;function $e(t,e,n,r){if(Ye=null,null!==(t=yi(t=_t(r))))if(null===(e=zt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=qt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,r=n.length,i="value"in Xe?Xe.value:Xe.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=F({},cn,{view:0,detail:0}),fn=on(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(an=t.screenX-un.screenX,sn=t.screenY-un.screenY):sn=an=0,un=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(dn),gn=on(F({},dn,{dataTransfer:0})),mn=on(F({},hn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function kn(){return En}var Tn=F({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),In=on(Tn),Nn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Cn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Dn),On=[9,13,27,32],Mn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Rn,Fn=l&&(!Mn||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),Vn=!1;function Un(t,e){switch(t){case"keyup":return-1!==On.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!qn[t.type]:"textarea"===e}function Wn(t,e,n,r){Tt(r),0<(e=Kr(e,"onChange")).length&&(n=new ln("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Yn(t){jr(t,0)}function $n(t){if(G(wi(t)))return t}function Qn(t,e){if("change"===t)return e}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(t){if("value"===t.propertyName&&$n(Gn)){var e=[];Wn(e,Gn,t,_t(t)),Dt(Yn,e)}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return $n(Gn)}function or(t,e){if("click"===t)return $n(e)}function ar(t,e){if("input"===t||"change"===t)return $n(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ur(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lr(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=fr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(e=new ln("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function _r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Er={};function kr(t){if(Sr[t])return Sr[t];if(!xr[t])return t;var e,n=xr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Er)return Sr[t]=n[e];return t}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=kr("animationend"),Ir=kr("animationiteration"),Nr=kr("animationstart"),Ar=kr("transitionend"),Cr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){Cr.set(t,e),u(e,[t])}for(var Or=0;Or<Dr.length;Or++){var Mr=Dr[Or];Pr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,u,c){if(Bt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var l=Ft;Lt=!1,Ft=null,jt||(jt=!0,Vt=l)}}(r,e,void 0,t),t.currentTarget=null}function jr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Fr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Fr(i,s,c),o=u}}}if(jt)throw t=Vt,jt=!1,Vt=null,t}function Vr(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(qr(e,t,2,!1),n.add(r))}function Ur(t,e,n){var r=0;e&&(r|=4),qr(n,t,r,e)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(t){if(!t[Br]){t[Br]=!0,a.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Ur(e,!1,t),Ur(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Br]||(e[Br]=!0,Ur("selectionchange",!1,e))}}function qr(t,e,n,r){switch(Qe(e)){case 1:var i=We;break;case 4:i=Ke;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!Ot||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}Dt((function(){var r=o,i=_t(n),a=[];t:{var s=Cr.get(t);if(void 0!==s){var u=ln,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Tr:case Ir:case Nr:u=vn;break;case Ar:u=Cn;break;case"scroll":u=fn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&e),h=!l&&"scroll"===t,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Pt(p,f))&&l.push(Wr(p,g,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=zt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(l=Nn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(g,p+"leave",u,n,i)).target=h,s.relatedTarget=d,g=null,yi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,g=l),h=g,u&&c)t:{for(f=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,g=f;g;g=Gr(g))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break t;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==u&&Yr(a,s,u,l,!1),null!==c&&null!==h&&Yr(a,h,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(Hn(s))if(Xn)m=ar;else{m=ir;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(t,r))?Wn(a,m,n,i):(v&&v(t,s,r),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&tt(s,"number",s.value)),v=r?wi(r):window,t){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Mn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else zn?Un(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=tn()):(Je="value"in(Xe=i)?Xe.value:Xe.textContent,zn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(t,e){switch(t){case"compositionend":return Bn(e);case"keypress":return 32!==e.which?null:(Vn=!0,jn);case"textInput":return(t=e.data)===jn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(zn)return"compositionend"===t||!Mn&&Un(t,e)?(t=tn(),Ze=Je=Xe=null,zn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,e)}))}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pt(t,n))&&r.unshift(Wr(t,o,i)),null!=(o=Pt(t,e))&&r.push(Wr(t,o,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pt(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Pt(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(t){return("string"===typeof t?t:""+t).replace($r,"\n").replace(Qr,"")}function Jr(t,e,n){if(e=Xr(e),Xr(t)!==e&&n)throw Error(o(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function ui(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void ze(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);ze(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function li(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(t){var e=t[fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[fi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=li(t);null!==t;){if(n=t[fi])return n;t=li(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[fi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function _i(t){return t[di]||null}var xi=[],Si=-1;function Ei(t){return{current:t}}function ki(t){0>Si||(t.current=xi[Si],xi[Si]=null,Si--)}function Ti(t,e){Si++,xi[Si]=t.current,t.current=e}var Ii={},Ni=Ei(Ii),Ai=Ei(!1),Ci=Ii;function Di(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Oi(){ki(Ai),ki(Ni)}function Mi(t,e,n){if(Ni.current!==Ii)throw Error(o(168));Ti(Ni,e),Ti(Ai,n)}function Ri(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,q(t)||"Unknown",i));return F({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,Ci=Ni.current,Ti(Ni,t),Ti(Ai,Ai.current),!0}function Fi(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Ri(t,e,Ci),r.__reactInternalMemoizedMergedChildContext=t,ki(Ai),ki(Ni),Ti(Ni,t)):ki(Ai),Ti(Ai,n)}var ji=null,Vi=!1,Ui=!1;function Bi(t){null===ji?ji=[t]:ji.push(t)}function zi(){if(!Ui&&null!==ji){Ui=!0;var t=0,e=be;try{var n=ji;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(t+1)),Gt(Zt,zi),i}finally{be=e,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Yi=0,$i=null,Qi=1,Xi="";function Ji(t,e){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=t,Ki=e}function Zi(t,e,n){Gi[Yi++]=Qi,Gi[Yi++]=Xi,Gi[Yi++]=$i,$i=t;var r=Qi;t=Xi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-ae(e)+i|n<<i|r,Xi=o+t}else Qi=1<<o|n<<i|r,Xi=t}function to(t){null!==t.return&&(Ji(t,1),Zi(t,1,0))}function eo(t){for(;t===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;t===$i;)$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null,Qi=Gi[--Yi],Gi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==$i?{id:Qi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function uo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(uo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(uo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function lo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return lo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(uo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=ci(e.nextSibling)}if(lo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=ci(t.nextSibling)}function po(){ro=no=null,io=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var mo=w.ReactCurrentBatchConfig;function vo(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var yo=Ei(null),bo=null,wo=null,_o=null;function xo(){_o=wo=bo=null}function So(t){var e=yo.current;ki(yo),t._currentValue=e}function Eo(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ko(t,e){bo=t,_o=wo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ws=!0),t.firstContext=null)}function To(t){var e=t._currentValue;if(_o!==t)if(t={context:t,memoizedValue:e,next:null},null===wo){if(null===bo)throw Error(o(308));wo=t,bo.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var Io=null;function No(t){null===Io?Io=[t]:Io.push(t)}function Ao(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,No(e)):(n.next=i.next,i.next=n),e.interleaved=n,Co(t,r)}function Co(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Po(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Co(t,n)}return null===(i=r.interleaved)?(e.next=e,No(r)):(e.next=i.next,i.next=e),r.interleaved=e,Co(t,n)}function Lo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Fo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jo(t,e,n,r){var i=t.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=t.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(f=e,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break t;h=F({},h,f);break t;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Fu|=a,t.lanes=a,t.memoizedState=h}}function Vo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Bo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var zo={isMounted:function(t){return!!(t=t._reactInternals)&&zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ec(),i=nc(t),o=Mo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ro(t,o,i))&&(rc(e,t,i,r),Lo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ec(),i=nc(t),o=Mo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ro(t,o,i))&&(rc(e,t,i,r),Lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),r=nc(t),i=Mo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Ro(t,i,r))&&(rc(e,t,r,n),Lo(e,t,r))}};function qo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ho(t,e,n){var r=!1,i=Ii,o=e.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Pi(e)?Ci:Ni.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Di(t,i):Ii),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=zo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zo.enqueueReplaceState(e,e.state,null)}function Ko(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Uo,Po(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Pi(e)?Ci:Ni.current,i.context=Di(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Bo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&zo.enqueueReplaceState(i,i.state,null),jo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Go(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Uo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Yo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $o(t){return(0,t._init)(t._payload)}function Qo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Mc(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=jc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===S?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&$o(o)===e.type)?((r=i(e,n.props)).ref=Go(t,e,n),r.return=t,r):((r=Rc(n.type,n.key,n.props,null,t.mode,r)).ref=Go(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Vc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Lc(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=jc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Rc(e.type,e.key,e.props,null,t.mode,n)).ref=Go(t,null,e),n.return=t,n;case x:return(e=Vc(e,t.mode,n)).return=t,e;case P:return f(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Lc(e,t.mode,n,null)).return=t,e;Yo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(t,e,n,r):null;case x:return n.key===i?l(t,e,n,r):null;case P:return d(t,e,(i=n._init)(n._payload),r)}if(et(n)||R(n))return null!==i?null:h(t,e,n,r,null);Yo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case x:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i);case P:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||R(r))return h(e,t=t.get(n)||null,r,i,null);Yo(e,r)}return null}function g(i,o,s,u){for(var c=null,l=null,h=o,g=o=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(i,h,s[g],u);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(i,h),o=a(v,o,g),null===l?c=v:l.sibling=v,l=v,h=m}if(g===s.length)return n(i,h),io&&Ji(i,g),c;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(o=a(h,o,g),null===l?c=h:l.sibling=h,l=h);return io&&Ji(i,g),c}for(h=r(i,h);g<s.length;g++)null!==(m=p(h,i,g,s[g],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=a(m,o,g),null===l?c=m:l.sibling=m,l=m);return t&&h.forEach((function(t){return e(i,t)})),io&&Ji(i,g),c}function m(i,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,g=s,m=s=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=d(i,g,y.value,c);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(i,g),s=a(b,s,m),null===h?l=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),io&&Ji(i,m),l;if(null===g){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return io&&Ji(i,m),l}for(g=r(i,g);!y.done;m++,y=u.next())null!==(y=p(g,i,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(i,t)})),io&&Ji(i,m),l}return function t(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:t:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break t}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&$o(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break t}n(r,l);break}e(r,l),l=l.sibling}a.type===S?((o=Lc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Rc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case x:t:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=Vc(a,r.mode,u)).return=r,r=o}return s(r);case P:return t(r,o,(l=a._init)(a._payload),u)}if(et(a))return g(r,o,a,u);if(R(a))return m(r,o,a,u);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Qo(!0),Jo=Qo(!1),Zo={},ta=Ei(Zo),ea=Ei(Zo),na=Ei(Zo);function ra(t){if(t===Zo)throw Error(o(174));return t}function ia(t,e){switch(Ti(na,e),Ti(ea,t),Ti(ta,Zo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ki(ta),Ti(ta,e)}function oa(){ki(ta),ki(ea),ki(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=ut(e,t.type);e!==n&&(Ti(ea,t),Ti(ta,n))}function sa(t){ea.current===t&&(ki(ta),ki(ea))}var ua=Ei(0);function ca(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var la=[];function ha(){for(var t=0;t<la.length;t++)la[t]._workInProgressVersionPrimary=null;la.length=0}var fa=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,va=null,ya=!1,ba=!1,wa=0,_a=0;function xa(){throw Error(o(321))}function Sa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ea(t,e,n,r,i,a){if(pa=a,ga=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=null===t||null===t.memoizedState?ss:us,t=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,va=ma=null,e.updateQueue=null,fa.current=cs,t=n(r,i)}while(ba)}if(fa.current=as,e=null!==ma&&null!==ma.next,pa=0,va=ma=ga=null,ya=!1,e)throw Error(o(300));return t}function ka(){var t=0!==wa;return wa=0,t}function Ta(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=t:va=va.next=t,va}function Ia(){if(null===ma){var t=ga.alternate;t=null!==t?t.memoizedState:null}else t=ma.next;var e=null===va?ga.memoizedState:va.next;if(null!==e)va=e,ma=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ma=t).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?ga.memoizedState=va=t:va=va.next=t}return va}function Na(t,e){return"function"===typeof e?e(t):e}function Aa(t){var e=Ia(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,ga.lanes|=h,Fu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,e.memoizedState)||(ws=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ga.lanes|=a,Fu|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ca(t){var e=Ia(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(ws=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Pa(t,e){var n=ga,r=Ia(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Ha(Ra.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Va(9,Ma.bind(null,n,r,i,e),void 0,null),null===Cu)throw Error(o(349));0!==(30&pa)||Oa(n,e,i)}return i}function Oa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ma(t,e,n,r){e.value=n,e.getSnapshot=r,La(e)&&Fa(t)}function Ra(t,e,n){return n((function(){La(e)&&Fa(t)}))}function La(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function Fa(t){var e=Co(t,1);null!==e&&rc(e,t,1,-1)}function ja(t){var e=Ta();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ga,t),[e.memoizedState,t]}function Va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ua(){return Ia().memoizedState}function Ba(t,e,n,r){var i=Ta();ga.flags|=t,i.memoizedState=Va(1|e,n,void 0,void 0===r?null:r)}function za(t,e,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Va(e,n,o,r))}ga.flags|=t,i.memoizedState=Va(1|e,n,o,r)}function qa(t,e){return Ba(8390656,8,t,e)}function Ha(t,e){return za(2048,8,t,e)}function Wa(t,e){return za(4,2,t,e)}function Ka(t,e){return za(4,4,t,e)}function Ga(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ya(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,za(4,4,Ga.bind(null,e,t),n)}function $a(){}function Qa(t,e){var n=Ia();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xa(t,e){var n=Ia();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ja(t,e,n){return 0===(21&pa)?(t.baseState&&(t.baseState=!1,ws=!0),t.memoizedState=n):(sr(n,e)||(n=ge(),ga.lanes|=n,Fu|=n,t.baseState=!0),e)}function Za(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=da.transition;da.transition={};try{t(!1),e()}finally{be=n,da.transition=r}}function ts(){return Ia().memoizedState}function es(t,e,n){var r=nc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t))is(e,n);else if(null!==(n=Ao(t,e,n,r))){rc(n,t,r,ec()),os(n,e,r)}}function ns(t,e,n){var r=nc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=e.interleaved;return null===u?(i.next=i,No(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=Ao(t,e,i,r))&&(rc(n,t,r,i=ec()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ga||null!==e&&e===ga}function is(t,e){ba=ya=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}var as={readContext:To,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(t,e){return Ta().memoizedState=[t,void 0===e?null:e],t},useContext:To,useEffect:qa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ba(4194308,4,Ga.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ba(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ba(4,2,t,e)},useMemo:function(t,e){var n=Ta();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ta();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ga,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ta().memoizedState=t},useState:ja,useDebugValue:$a,useDeferredValue:function(t){return Ta().memoizedState=t},useTransition:function(){var t=ja(!1),e=t[0];return t=Za.bind(null,t[1]),Ta().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ga,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Cu)throw Error(o(349));0!==(30&pa)||Oa(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,qa(Ra.bind(null,r,a,t),[t]),r.flags|=2048,Va(9,Ma.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ta(),e=Cu.identifierPrefix;if(io){var n=Xi;e=":"+e+"R"+(n=(Qi&~(1<<32-ae(Qi)-1)).toString(32)+n),0<(n=wa++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=_a++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},us={readContext:To,useCallback:Qa,useContext:To,useEffect:Ha,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:Xa,useReducer:Aa,useRef:Ua,useState:function(){return Aa(Na)},useDebugValue:$a,useDeferredValue:function(t){return Ja(Ia(),ma.memoizedState,t)},useTransition:function(){return[Aa(Na)[0],Ia().memoizedState]},useMutableSource:Da,useSyncExternalStore:Pa,useId:ts,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Qa,useContext:To,useEffect:Ha,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:Xa,useReducer:Ca,useRef:Ua,useState:function(){return Ca(Na)},useDebugValue:$a,useDeferredValue:function(t){var e=Ia();return null===ma?e.memoizedState=t:Ja(e,ma.memoizedState,t)},useTransition:function(){return[Ca(Na)[0],Ia().memoizedState]},useMutableSource:Da,useSyncExternalStore:Pa,useId:ts,unstable_isNewReconciler:!1};function ls(t,e){try{var n="",r=e;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),fs(0,e)},n}function gs(t,e,n){(n=Mo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,e),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ms(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ds;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Tc.bind(null,t,e,n),e.then(t,t))}function vs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Mo(-1,1)).tag=2,Ro(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var bs=w.ReactCurrentOwner,ws=!1;function _s(t,e,n,r){e.child=null===t?Jo(e,null,n,r):Xo(e,t.child,n,r)}function xs(t,e,n,r,i){n=n.render;var o=e.ref;return ko(e,i),r=Ea(t,e,n,r,o,i),n=ka(),null===t||ws?(io&&n&&to(e),e.flags|=1,_s(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Ss(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Rc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Es(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,(t=Mc(o,r)).ref=e.ref,t.return=e,e.child=t}function Es(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(ur(o,r)&&t.ref===e.ref){if(ws=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Ws(t,e,i);0!==(131072&t.flags)&&(ws=!0)}}return Is(t,e,n,r,i)}function ks(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Mu,Ou),Ou|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ti(Mu,Ou),Ou|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Mu,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ti(Mu,Ou),Ou|=r;return _s(t,e,i,n),e.child}function Ts(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Is(t,e,n,r,i){var o=Pi(n)?Ci:Ni.current;return o=Di(e,o),ko(e,i),n=Ea(t,e,n,r,o,i),r=ka(),null===t||ws?(io&&r&&to(e),e.flags|=1,_s(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Ns(t,e,n,r,i){if(Pi(n)){var o=!0;Li(e)}else o=!1;if(ko(e,i),null===e.stateNode)Hs(t,e),Ho(e,n,r),Ko(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Di(e,c=Pi(n)?Ci:Ni.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wo(e,a,r,c),Do=!1;var f=e.memoizedState;a.state=f,jo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||Ai.current||Do?("function"===typeof l&&(Bo(e,n,l,r),u=e.memoizedState),(s=Do||qo(e,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Oo(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:vo(e.type,s),a.props=c,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=To(u):u=Di(e,u=Pi(n)?Ci:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Wo(e,a,r,u),Do=!1,f=e.memoizedState,a.state=f,jo(e,r,a,i);var p=e.memoizedState;s!==h||f!==p||Ai.current||Do?("function"===typeof d&&(Bo(e,n,d,r),p=e.memoizedState),(c=Do||qo(e,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return As(t,e,n,r,o,i)}function As(t,e,n,r,i,o){Ts(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&Fi(e,n,!1),Ws(t,e,o);r=e.stateNode,bs.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Xo(e,t.child,null,o),e.child=Xo(e,null,s,o)):_s(t,e,s,o),e.memoizedState=r.state,i&&Fi(e,n,!0),e.child}function Cs(t){var e=t.stateNode;e.pendingContext?Mi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Mi(0,e.context,!1),ia(t,e.containerInfo)}function Ds(t,e,n,r,i){return po(),go(i),e.flags|=256,_s(t,e,n,r),e.child}var Ps,Os,Ms,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(t){return{baseLanes:t,cachePool:null,transitions:null}}function js(t,e,n){var r,i=e.pendingProps,a=ua.current,s=!1,u=0!==(128&e.flags);if((r=u)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ti(ua,1&a),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(u=i.children,t=i.fallback,s?(i=e.mode,s=e.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),t=Lc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fs(n),e.memoizedState=Ls,t):Vs(e,u));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Us(t,e,s,r=hs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&Xo(e,t.child,null,s),e.child.memoizedState=Fs(s),e.memoizedState=Ls,a);if(0===(1&e.mode))return Us(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(t,e,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&t.childLanes),ws||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Co(t,i),rc(r,t,i,-1))}return mc(),Us(t,e,s,r=hs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Nc.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Gi[Yi++]=Qi,Gi[Yi++]=Xi,Gi[Yi++]=$i,Qi=t.id,Xi=t.overflow,$i=e),e=Vs(e,r.children),e.flags|=4096,e)}(t,e,u,i,r,a,n);if(s){s=i.fallback,u=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Mc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,u=null===(u=t.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~n,e.memoizedState=Ls,i}return t=(s=t.child).sibling,i=Mc(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Vs(t,e){return(e=Fc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Us(t,e,n,r){return null!==r&&go(r),Xo(e,t.child,null,n),(t=Vs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Bs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Eo(t.return,e,n)}function zs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(_s(t,e,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bs(t,n,e);else if(19===t.tag)Bs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ti(ua,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ca(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ca(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zs(e,!0,n,null,o);break;case"together":zs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Fu|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Mc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Mc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ks(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ys(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(e),null;case 1:case 17:return Pi(e.type)&&Oi(),Gs(e),null;case 3:return r=e.stateNode,oa(),ki(Ai),ki(Ni),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(sc(oo),oo=null))),Os(t,e),Gs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)Ms(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Gs(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[fi]=e,r[di]=a,t=0!==(1&e.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Q(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":it(r,a),Vr("invalid",r)}for(var u in yt(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[fi]=e,t[di]=r,Ps(t,e,!1,!1),e.stateNode=t;t:{switch(u=bt(n,r),n){case"dialog":Vr("cancel",t),Vr("close",t),i=r;break;case"iframe":case"object":case"embed":Vr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],t);i=r;break;case"source":Vr("error",t),i=r;break;case"img":case"image":case"link":Vr("error",t),Vr("load",t),i=r;break;case"details":Vr("toggle",t),i=r;break;case"input":Q(t,r),i=$(t,r),Vr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Vr("invalid",t)}for(a in yt(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?mt(t,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&ht(t,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&ft(t,l):"number"===typeof l&&ft(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Vr("scroll",t):null!=l&&b(t,a,l,u))}switch(n){case"input":K(t),Z(t,r,!1);break;case"textarea":K(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Gs(e),null;case 6:if(t&&null!=e.stateNode)Rs(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[fi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Jr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=e,e.stateNode=r}return Gs(e),null;case 13:if(ki(ua),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Gs(e),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ua.current)?0===Ru&&(Ru=3):mc())),null!==e.updateQueue&&(e.flags|=4),Gs(e),null);case 4:return oa(),Os(t,e),null===t&&zr(e.stateNode.containerInfo),Gs(e),null;case 10:return So(e.type._context),Gs(e),null;case 19:if(ki(ua),null===(a=e.memoizedState))return Gs(e),null;if(r=0!==(128&e.flags),null===(u=a.rendering))if(r)Ks(a,!1);else{if(0!==Ru||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=ca(t))){for(e.flags|=128,Ks(a,!1),null!==(r=u.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ti(ua,1&ua.current|2),e.child}t=t.sibling}null!==a.tail&&Xt()>qu&&(e.flags|=128,r=!0,Ks(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ca(u))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Gs(e),null}else 2*Xt()-a.renderingStartTime>qu&&1073741824!==n&&(e.flags|=128,r=!0,Ks(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=a.last)?n.sibling=u:e.child=u,a.last=u)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Xt(),e.sibling=null,n=ua.current,Ti(ua,r?1&n|2:1&n),e):(Gs(e),null);case 22:case 23:return fc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Ou)&&(Gs(e),6&e.subtreeFlags&&(e.flags|=8192)):Gs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function $s(t,e){switch(eo(e),e.tag){case 1:return Pi(e.type)&&Oi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),ki(Ai),ki(Ni),ha(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(ki(ua),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return ki(ua),null;case 4:return oa(),null;case 10:return So(e.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ps=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ms=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=$(t,i),r=$(t,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(l in yt(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",t),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(e.updateQueue=l)&&(e.flags|=4)}},Rs=function(t,e,n,r){n!==r&&(e.flags|=4)};var Qs=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function tu(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(t,e,r)}else n.current=null}function eu(t,e,n){try{n()}catch(r){kc(t,e,r)}}var nu=!1;function ru(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(e,n,o)}i=i.next}while(i!==r)}}function iu(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ou(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function au(t){var e=t.alternate;null!==e&&(t.alternate=null,au(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[di],delete e[gi],delete e[mi],delete e[vi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function su(t){return 5===t.tag||3===t.tag||4===t.tag}function uu(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||su(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(cu(t,e,n),t=t.sibling;null!==t;)cu(t,e,n),t=t.sibling}function lu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(lu(t,e,n),t=t.sibling;null!==t;)lu(t,e,n),t=t.sibling}var hu=null,fu=!1;function du(t,e,n){for(n=n.child;null!==n;)pu(t,e,n),n=n.sibling}function pu(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Xs||tu(n,e);case 6:var r=hu,i=fu;hu=null,du(t,e,n),fu=i,null!==(hu=r)&&(fu?(t=hu,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(t=hu,n=n.stateNode,8===t.nodeType?ui(t.parentNode,n):1===t.nodeType&&ui(t,n),ze(t)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(t,e,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,e,a),i=i.next}while(i!==r)}du(t,e,n);break;case 1:if(!Xs&&(tu(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,e,s)}du(t,e,n);break;case 21:du(t,e,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(t,e,n),Xs=r):du(t,e,n);break;default:du(t,e,n)}}function gu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Js),e.forEach((function(e){var r=Ac.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function mu(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,u=s;t:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break t;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break t}u=u.return}if(null===hu)throw Error(o(160));pu(a,s,i),hu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){kc(i,e,l)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vu(e,t),e=e.sibling}function vu(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mu(e,t),yu(t),4&r){try{ru(3,t,t.return),iu(3,t)}catch(m){kc(t,t.return,m)}try{ru(5,t,t.return)}catch(m){kc(t,t.return,m)}}break;case 1:mu(e,t),yu(t),512&r&&null!==n&&tu(n,n.return);break;case 5:if(mu(e,t),yu(t),512&r&&null!==n&&tu(n,n.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(m){kc(t,t.return,m)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,u=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),bt(u,s);var l=bt(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?mt(i,f):"dangerouslySetInnerHTML"===h?ht(i,f):"children"===h?ft(i,f):b(i,h,f,l)}switch(u){case"input":J(i,a);break;case"textarea":ot(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){kc(t,t.return,m)}}break;case 6:if(mu(e,t),yu(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){kc(t,t.return,m)}}break;case 3:if(mu(e,t),yu(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{ze(e.containerInfo)}catch(m){kc(t,t.return,m)}break;case 4:default:mu(e,t),yu(t);break;case 13:mu(e,t),yu(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xt())),4&r&&gu(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Xs=(l=Xs)||h,mu(e,t),Xs=l):mu(e,t),yu(t),8192&r){if(l=null!==t.memoizedState,(t.stateNode.isHidden=l)&&!h&&0!==(1&t.mode))for(Zs=t,h=t.child;null!==h;){for(f=Zs=h;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:tu(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:tu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(f);continue}}null!==p?(p.return=d,Zs=p):xu(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=gt("display",s))}catch(m){kc(t,t.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){kc(t,t.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(e,t),yu(t),4&r&&gu(t);case 21:}}function yu(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(su(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),lu(t,uu(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(t,uu(t),a);break;default:throw Error(o(161))}}catch(s){kc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bu(t,e,n){Zs=t,wu(t,e,n)}function wu(t,e,n){for(var r=0!==(1&t.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=a,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Zs=u):Su(i);for(;null!==o;)Zs=o,wu(o,e,n),o=o.sibling;Zs=i,Qs=s,Xs=c}_u(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):_u(t)}}function _u(t){for(;null!==Zs;){var e=Zs;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xs||iu(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Vo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Vo(e,s,n)}break;case 5:var u=e.stateNode;if(null===n&&4&e.flags){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var l=e.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&ze(f)}}}break;default:throw Error(o(163))}Xs||512&e.flags&&ou(e)}catch(d){kc(e,e.return,d)}}if(e===t){Zs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Zs=n;break}Zs=e.return}}function xu(t){for(;null!==Zs;){var e=Zs;if(e===t){Zs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Zs=n;break}Zs=e.return}}function Su(t){for(;null!==Zs;){var e=Zs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iu(4,e)}catch(u){kc(e,n,u)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(u){kc(e,i,u)}}var o=e.return;try{ou(e)}catch(u){kc(e,o,u)}break;case 5:var a=e.return;try{ou(e)}catch(u){kc(e,a,u)}}}catch(u){kc(e,e.return,u)}if(e===t){Zs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Zs=s;break}Zs=e.return}}var Eu,ku=Math.ceil,Tu=w.ReactCurrentDispatcher,Iu=w.ReactCurrentOwner,Nu=w.ReactCurrentBatchConfig,Au=0,Cu=null,Du=null,Pu=0,Ou=0,Mu=Ei(0),Ru=0,Lu=null,Fu=0,ju=0,Vu=0,Uu=null,Bu=null,zu=0,qu=1/0,Hu=null,Wu=!1,Ku=null,Gu=null,Yu=!1,$u=null,Qu=0,Xu=0,Ju=null,Zu=-1,tc=0;function ec(){return 0!==(6&Au)?Xt():-1!==Zu?Zu:Zu=Xt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&Au)&&0!==Pu?Pu&-Pu:null!==mo.transition?(0===tc&&(tc=ge()),tc):0!==(t=be)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function rc(t,e,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(o(185));ve(t,n,r),0!==(2&Au)&&t===Cu||(t===Cu&&(0===(2&Au)&&(ju|=n),4===Ru&&uc(t,Pu)),ic(t,r),1===n&&0===Au&&0===(1&e.mode)&&(qu=Xt()+500,Vi&&zi()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=de(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=fe(t,t===Cu?Pu:0);if(0===r)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){Vi=!0,Bi(t)}(cc.bind(null,t)):Bi(cc.bind(null,t)),ai((function(){0===(6&Au)&&zi()})),n=null;else{switch(we(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Cc(n,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oc(t,e){if(Zu=-1,tc=0,0!==(6&Au))throw Error(o(327));var n=t.callbackNode;if(Sc()&&t.callbackNode!==n)return null;var r=fe(t,t===Cu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=vc(t,r);else{e=r;var i=Au;Au|=2;var a=gc();for(Cu===t&&Pu===e||(Hu=null,qu=Xt()+500,dc(t,e));;)try{bc();break}catch(u){pc(t,u)}xo(),Tu.current=a,Au=i,null!==Du?e=0:(Cu=null,Pu=0,e=Ru)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=ac(t,i))),1===e)throw n=Lu,dc(t,0),uc(t,r),ic(t,Xt()),n;if(6===e)uc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=vc(t,r))&&(0!==(a=pe(t))&&(r=a,e=ac(t,a))),1===e))throw n=Lu,dc(t,0),uc(t,r),ic(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:xc(t,Bu,Hu);break;case 3:if(uc(t,r),(130023424&r)===r&&10<(e=zu+500-Xt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&r)!==r){ec(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(xc.bind(null,t,Bu,Hu),e);break}xc(t,Bu,Hu);break;case 4:if(uc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){t.timeoutHandle=ri(xc.bind(null,t,Bu,Hu),r);break}xc(t,Bu,Hu);break;default:throw Error(o(329))}}}return ic(t,Xt()),t.callbackNode===n?oc.bind(null,t):null}function ac(t,e){var n=Uu;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Bu,Bu=n,null!==e&&sc(e)),t}function sc(t){null===Bu?Bu=t:Bu.push.apply(Bu,t)}function uc(t,e){for(e&=~Vu,e&=~ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function cc(t){if(0!==(6&Au))throw Error(o(327));Sc();var e=fe(t,0);if(0===(1&e))return ic(t,Xt()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=ac(t,r))}if(1===n)throw n=Lu,dc(t,0),uc(t,e),ic(t,Xt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xc(t,Bu,Hu),ic(t,Xt()),null}function lc(t,e){var n=Au;Au|=1;try{return t(e)}finally{0===(Au=n)&&(qu=Xt()+500,Vi&&zi())}}function hc(t){null!==$u&&0===$u.tag&&0===(6&Au)&&Sc();var e=Au;Au|=1;var n=Nu.transition,r=be;try{if(Nu.transition=null,be=1,t)return t()}finally{be=r,Nu.transition=n,0===(6&(Au=e))&&zi()}}function fc(){Ou=Mu.current,ki(Mu)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:oa(),ki(Ai),ki(Ni),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:ki(ua);break;case 10:So(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cu=t,Du=t=Mc(t.current,null),Pu=Ou=e,Ru=0,Lu=null,Vu=ju=Fu=0,Bu=Uu=null,null!==Io){for(e=0;e<Io.length;e++)if(null!==(r=(n=Io[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return t}function pc(t,e){for(;;){var n=Du;try{if(xo(),fa.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ma=ga=null,ba=!1,wa=0,Iu.current=null,null===n||null===n.return){Ru=1,Lu=e,Du=null;break}t:{var a=t,s=n.return,u=n,c=e;if(e=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,e),1&p.mode&&ms(a,l,e),c=l;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ms(a,l,e),mc();break t}c=Error(o(426))}else if(io&&1&u.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,u,0,e),go(ls(c,u));break t}}a=c=ls(c,u),4!==Ru&&(Ru=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Fo(a,ps(0,c,e));break t;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Fo(a,gs(a,u,e));break t}}a=a.return}while(null!==a)}_c(n)}catch(w){e=w,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function gc(){var t=Tu.current;return Tu.current=as,null===t?as:t}function mc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Cu||0===(268435455&Fu)&&0===(268435455&ju)||uc(Cu,Pu)}function vc(t,e){var n=Au;Au|=2;var r=gc();for(Cu===t&&Pu===e||(Hu=null,dc(t,e));;)try{yc();break}catch(i){pc(t,i)}if(xo(),Au=n,Tu.current=r,null!==Du)throw Error(o(261));return Cu=null,Pu=0,Ru}function yc(){for(;null!==Du;)wc(Du)}function bc(){for(;null!==Du&&!$t();)wc(Du)}function wc(t){var e=Eu(t.alternate,t,Ou);t.memoizedProps=t.pendingProps,null===e?_c(t):Du=e,Iu.current=null}function _c(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ys(n,e,Ou)))return void(Du=n)}else{if(null!==(n=$s(n,e)))return n.flags&=32767,void(Du=n);if(null===t)return Ru=6,void(Du=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Du=e);Du=e=t}while(null!==e);0===Ru&&(Ru=5)}function xc(t,e,n){var r=be,i=Nu.transition;try{Nu.transition=null,be=1,function(t,e,n,r){do{Sc()}while(null!==$u);if(0!==(6&Au))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Cu&&(Du=Cu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yu||(Yu=!0,Cc(ee,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nu.transition,Nu.transition=null;var s=be;be=1;var u=Au;Au|=4,Iu.current=null,function(t,e){if(ti=He,dr(t=fr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break t}var s=0,u=-1,c=-1,l=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++l===i&&(u=s),d===a&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},He=!1,Zs=e;null!==Zs;)if(t=(e=Zs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Zs=t;else for(;null!==Zs;){e=Zs;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:vo(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kc(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,Zs=t;break}Zs=e.return}g=nu,nu=!1}(t,n),vu(n,t),pr(ei),He=!!ti,ei=ti=null,t.current=n,bu(n,t,i),Qt(),Au=u,be=s,Nu.transition=a}else t.current=n;if(Yu&&(Yu=!1,$u=t,Qu=i),a=t.pendingLanes,0===a&&(Gu=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ic(t,Xt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,t=Ku,Ku=null,t;0!==(1&Qu)&&0!==t.tag&&Sc(),a=t.pendingLanes,0!==(1&a)?t===Ju?Xu++:(Xu=0,Ju=t):Xu=0,zi()}(t,e,n,r)}finally{Nu.transition=i,be=r}return null}function Sc(){if(null!==$u){var t=we(Qu),e=Nu.transition,n=be;try{if(Nu.transition=null,be=16>t?16:t,null===$u)var r=!1;else{if(t=$u,$u=null,Qu=0,0!==(6&Au))throw Error(o(331));var i=Au;for(Au|=4,Zs=t.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:ru(8,h,a)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(au(h),h===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else t:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break t}Zs=a.return}}var b=t.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else t:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){kc(u,u.return,x)}if(u===s){Zs=null;break t}var _=u.sibling;if(null!==_){_.return=u.return,Zs=_;break t}Zs=u.return}}if(Au=i,zi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(x){}r=!0}return r}finally{be=n,Nu.transition=e}}return!1}function Ec(t,e,n){t=Ro(t,e=ps(0,e=ls(n,e),1),1),e=ec(),null!==t&&(ve(t,1,e),ic(t,e))}function kc(t,e,n){if(3===t.tag)Ec(t,t,n);else for(;null!==e;){if(3===e.tag){Ec(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){e=Ro(e,t=gs(e,t=ls(n,t),1),1),t=ec(),null!==e&&(ve(e,1,t),ic(e,t));break}}e=e.return}}function Tc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,Cu===t&&(Pu&n)===n&&(4===Ru||3===Ru&&(130023424&Pu)===Pu&&500>Xt()-zu?dc(t,0):Vu|=n),ic(t,e)}function Ic(t,e){0===e&&(0===(1&t.mode)?e=1:(e=le,0===(130023424&(le<<=1))&&(le=4194304)));var n=ec();null!==(t=Co(t,e))&&(ve(t,e,n),ic(t,n))}function Nc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Ic(t,n)}function Ac(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Ic(t,n)}function Cc(t,e){return Gt(t,e)}function Dc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(t,e,n,r){return new Dc(t,e,n,r)}function Oc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Mc(t,e){var n=t.alternate;return null===n?((n=Pc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rc(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Oc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Lc(n.children,i,a,e);case E:s=8,i|=8;break;case k:return(t=Pc(12,n,e,2|i)).elementType=k,t.lanes=a,t;case A:return(t=Pc(13,n,e,i)).elementType=A,t.lanes=a,t;case C:return(t=Pc(19,n,e,i)).elementType=C,t.lanes=a,t;case O:return Fc(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:s=10;break t;case I:s=9;break t;case N:s=11;break t;case D:s=14;break t;case P:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Pc(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Lc(t,e,n,r){return(t=Pc(7,t,r,e)).lanes=n,t}function Fc(t,e,n,r){return(t=Pc(22,t,r,e)).elementType=O,t.lanes=n,t.stateNode={isHidden:!1},t}function jc(t,e,n){return(t=Pc(6,t,null,e)).lanes=n,t}function Vc(t,e,n){return(e=Pc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,r,i,o,a,s,u){return t=new Uc(t,e,n,s,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Pc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),t}function zc(t){if(!t)return Ii;t:{if(zt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Pi(n))return Ri(t,n,e)}return e}function qc(t,e,n,r,i,o,a,s,u){return(t=Bc(n,r,!0,t,0,o,0,s,u)).context=zc(null),n=t.current,(o=Mo(r=ec(),i=nc(n))).callback=void 0!==e&&null!==e?e:null,Ro(n,o,i),t.current.lanes=i,ve(t,i,r),ic(t,r),t}function Hc(t,e,n,r){var i=e.current,o=ec(),a=nc(i);return n=zc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Mo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Ro(i,e,a))&&(rc(t,i,a,o),Lo(t,i,a)),a}function Wc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gc(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}Eu=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ai.current)ws=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ws=!1,function(t,e,n){switch(e.tag){case 3:Cs(e),po();break;case 5:aa(e);break;case 1:Pi(e.type)&&Li(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ti(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ti(ua,1&ua.current),e.flags|=128,null):0!==(n&e.child.childLanes)?js(t,e,n):(Ti(ua,1&ua.current),null!==(t=Ws(t,e,n))?t.sibling:null);Ti(ua,1&ua.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return qs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ua,ua.current),r)break;return null;case 22:case 23:return e.lanes=0,ks(t,e,n)}return Ws(t,e,n)}(t,e,n);ws=0!==(131072&t.flags)}else ws=!1,io&&0!==(1048576&e.flags)&&Zi(e,Ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hs(t,e),t=e.pendingProps;var i=Di(e,Ni.current);ko(e,n),i=Ea(null,e,r,t,i,n);var a=ka();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(r)?(a=!0,Li(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(e),i.updater=zo,e.stateNode=i,i._reactInternals=e,Ko(e,r,t,n),e=As(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),_s(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Hs(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Oc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===N)return 11;if(t===D)return 14}return 2}(r),t=vo(r,t),i){case 0:e=Is(null,e,r,t,n);break t;case 1:e=Ns(null,e,r,t,n);break t;case 11:e=xs(null,e,r,t,n);break t;case 14:e=Ss(null,e,r,vo(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Is(t,e,r,i=e.elementType===r?i:vo(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ns(t,e,r,i=e.elementType===r?i:vo(r,i),n);case 3:t:{if(Cs(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Oo(t,e),jo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ds(t,e,r,n,i=ls(Error(o(423)),e));break t}if(r!==i){e=Ds(t,e,r,n,i=ls(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Jo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Ws(t,e,n);break t}_s(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&co(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Ts(t,e),_s(t,e,s,n),e.child;case 6:return null===t&&co(e),null;case 13:return js(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Xo(e,null,r,n):_s(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,xs(t,e,r,i=e.elementType===r?i:vo(r,i),n);case 7:return _s(t,e,e.pendingProps,n),e.child;case 8:case 12:return _s(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ti(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Mo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,e),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Eo(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ko(e,n),r=r(i=To(i)),e.flags|=1,_s(t,e,r,n),e.child;case 14:return i=vo(r=e.type,e.pendingProps),Ss(t,e,r,i=vo(r.type,i),n);case 15:return Es(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vo(r,i),Hs(t,e),e.tag=1,Pi(r)?(t=!0,Li(e)):t=!1,ko(e,n),Ho(e,r,i),Ko(e,r,i,n),As(null,e,r,!0,t,n);case 19:return qs(t,e,n);case 22:return ks(t,e,n)}throw Error(o(156,e.tag))};var Yc="function"===typeof reportError?reportError:function(t){console.error(t)};function $c(t){this._internalRoot=t}function Qc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Wc(a);s.call(t)}}Hc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Wc(a);o.call(t)}}var a=qc(e,r,t,0,null,!1,0,"",Zc);return t._reactRootContainer=a,t[pi]=a.current,zr(8===t.nodeType?t.parentNode:t),hc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Wc(u);s.call(t)}}var u=Bc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=u,t[pi]=u.current,zr(8===t.nodeType?t.parentNode:t),hc((function(){Hc(e,u,n,r)})),u}(n,e,t,i,r);return Wc(a)}Qc.prototype.render=$c.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Hc(t,e,null,null)},Qc.prototype.unmount=$c.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hc((function(){Hc(null,t,null,null)})),e[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oe.length&&0!==e&&e<Oe[n].priority;n++);Oe.splice(n,0,t),0===n&&Fe(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),ic(e,Xt()),0===(6&Au)&&(qu=Xt()+500,zi()))}break;case 13:hc((function(){var e=Co(t,1);if(null!==e){var n=ec();rc(e,t,1,n)}})),Gc(t,1)}},xe=function(t){if(13===t.tag){var e=Co(t,134217728);if(null!==e)rc(e,t,134217728,ec());Gc(t,134217728)}},Se=function(t){if(13===t.tag){var e=nc(t),n=Co(t,e);if(null!==n)rc(n,t,e,ec());Gc(t,e)}},Ee=function(){return be},ke=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},xt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Nt=lc,At=hc;var el={usingClientEntryPoint:!1,Events:[bi,wi,_i,Tt,It,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{ie=il.inject(rl),oe=il}catch(lt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xc(t))throw Error(o(299));var n=!1,r="",i=Yc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,zr(8===t.nodeType?t.parentNode:t),new $c(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return hc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(o(200));return tl(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xc(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=qc(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,zr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qc(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(o(200));return tl(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(o(40));return!!t._reactRootContainer&&(hc((function(){tl(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=lc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tl(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},250:(t,e,n)=>{var r=n(164);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},164:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},374:(t,e,n)=>{var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:l,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},117:(t,e)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var I=/\/+/g;function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=t),t=""===o?"."+N(u,0):o,_(a)?(i="",null!=t&&(i=t.replace(I,"$&/")+"/"),A(a,e,i,"",(function(t){return t}))):null!=a&&(T(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+t)),e.push(a)),1;if(u=0,o=""===o?".":o+":",_(t))for(var c=0;c<t.length;c++){var l=o+N(s=t[c],c);u+=A(s,e,i,l,a)}else if(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=A(s=s.value,e,i,l=o+N(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function C(t,e,n){if(null==t)return t;var r=[],i=0;return A(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function D(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},O={transition:null},M={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};e.Children={map:C,forEach:function(t,e,n){C(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return C(t,(function(){e++})),e},toArray:function(t){return C(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=l,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)x.call(e,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=O.transition;O.transition={};try{t()}finally{O.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.2.0"},791:(t,e,n)=>{t.exports=n(117)},184:(t,e,n)=>{t.exports=n(374)},813:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=t[s],c=s+1,l=t[c];if(0>o(u,n))c<i&&0>o(l,u)?(t[r]=l,t[c]=n,r=c):(t[r]=u,t[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break t;t[r]=l,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=r(l);null!==e;){if(null===e.callback)i(l);else{if(!(e.startTime<=t))break;i(l),e.sortIndex=e.expirationTime,n(c,e)}e=r(l)}}function _(t){if(m=!1,w(t),!g)if(null!==r(c))g=!0,O(x);else{var e=r(l);null!==e&&M(_,e.startTime-t)}}function x(t,n){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var o=d;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||t&&!A());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&M(_,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,T=-1,I=5,N=-1;function A(){return!(e.unstable_now()-N<I)}function C(){if(null!==k){var t=e.unstable_now();N=t;var n=!0;try{n=k(!0,t)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(C)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=C,S=function(){P.postMessage(null)}}else S=function(){v(C,0)};function O(t){k=t,E||(E=!0,S())}function M(t,n){T=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,O(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(l,t),null===r(c)&&t===r(l)&&(m?(y(T),T=-1):m=!0,M(_,o-a))):(t.sortIndex=s,n(c,t),g||p||(g=!0,O(x))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},296:(t,e,n)=>{t.exports=n(813)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&r;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>r[t]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/NBA-Betting-App/",(()=>{var t,e=n(791),r=n.t(e,2),i=n(250);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));const a="popstate";function s(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function u(t){return{usr:t.state,key:t.key}}function c(t,e,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?h(e):e,{state:n,key:e&&e.key||r||Math.random().toString(36).substr(2,8)})}function l(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function h(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f(t){let e="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof t?t:l(t);return s(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function d(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,h=o.history,d=t.Pop,p=null;function g(){d=t.Pop,p&&p({action:d,location:m.location})}let m={get action(){return d},get location(){return e(o,h)},listen(t){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(a,g),p=t,()=>{o.removeEventListener(a,g),p=null}},createHref:t=>n(o,t),encodeLocation(t){let e=f("string"===typeof t?t:l(t));return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,n){d=t.Push;let i=c(m.location,e,n);r&&r(i,e);let a=u(i),l=m.createHref(i);try{h.pushState(a,"",l)}catch(f){o.location.assign(l)}s&&p&&p({action:d,location:m.location})},replace:function(e,n){d=t.Replace;let i=c(m.location,e,n);r&&r(i,e);let o=u(i),a=m.createHref(i);h.replaceState(o,"",a),s&&p&&p({action:d,location:m.location})},go:t=>h.go(t)};return m}var p;function g(t,e,n){void 0===n&&(n="/");let r=A(("string"===typeof e?h(e):e).pathname||"/",n);if(null==r)return null;let i=m(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=T(i[a],N(r));return o}function m(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,o)=>{let a={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let u=M([r,a.relativePath]),c=n.concat(a);t.children&&t.children.length>0&&(s(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),m(t.children,e,c,u)),(null!=t.path||t.index)&&e.push({path:u,score:k(u,t.index),routesMeta:c})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let r of v(t.path))i(t,e,r);else i(t,e)})),e}function v(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=v(r.join("/")),s=[];return s.push(...a.map((t=>""===t?o:[o,t].join("/")))),i&&s.push(...a),s.map((e=>t.startsWith("/")&&""===e?"/":e))}!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(p||(p={}));const y=/^:\w+$/,b=3,w=2,_=1,x=10,S=-2,E=t=>"*"===t;function k(t,e){let n=t.split("/"),r=n.length;return n.some(E)&&(r+=S),e&&(r+=w),n.filter((t=>!E(t))).reduce(((t,e)=>t+(y.test(e)?b:""===e?_:x)),r)}function T(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let t=n[a],s=a===n.length-1,u="/"===i?e:e.slice(i.length)||"/",c=I({path:t.relativePath,caseSensitive:t.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);let l=t.route;o.push({params:r,pathname:M([i,c.pathname]),pathnameBase:R(M([i,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(i=M([i,c.pathnameBase]))}return o}function I(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);C("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((t,e)=>(r.push(e),"/([^\\/]+)")));t.endsWith("*")?(r.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),u=r.reduce(((t,e,n)=>{if("*"===e){let t=s[n]||"";a=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return C(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(s[n]||"",e),t}),{});return{params:u,pathname:o,pathnameBase:a,pattern:t}}function N(t){try{return decodeURI(t)}catch(e){return C(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function A(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function C(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(qg){}}}function D(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function O(t,e,n,r){let i;void 0===r&&(r=!1),"string"===typeof t?i=h(t):(i=o({},t),s(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),s(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),s(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let a,u=""===t||""===i.pathname,c=u?"/":i.pathname;if(r||null==c)a=n;else{let t=e.length-1;if(c.startsWith("..")){let e=c.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}a=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof t?h(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:L(r),hash:F(i)}}(i,a),f=c&&"/"!==c&&c.endsWith("/"),d=(u||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}const M=t=>t.join("/").replace(/\/\/+/g,"/"),R=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",F=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;class j{constructor(t,e,n,r){void 0===r&&(r=!1),this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function V(t){return t instanceof j}const U=["post","put","patch","delete"],B=(new Set(U),["get",...U]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z.apply(this,arguments)}const q="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},{useState:H,useEffect:W,useLayoutEffect:K,useDebugValue:G}=r;function Y(t){const e=t.getSnapshot,n=t.value;try{const t=e();return!q(n,t)}catch(r){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;const $=e.createContext(null);const Q=e.createContext(null);const X=e.createContext(null);const J=e.createContext(null);const Z=e.createContext(null);const tt=e.createContext({outlet:null,matches:[]});const et=e.createContext(null);function nt(){return null!=e.useContext(Z)}function rt(){return nt()||s(!1),e.useContext(Z).location}function it(){nt()||s(!1);let{basename:t,navigator:n}=e.useContext(J),{matches:r}=e.useContext(tt),{pathname:i}=rt(),o=JSON.stringify(P(r).map((t=>t.pathnameBase))),a=e.useRef(!1);e.useEffect((()=>{a.current=!0}));let u=e.useCallback((function(e,r){if(void 0===r&&(r={}),!a.current)return;if("number"===typeof e)return void n.go(e);let s=O(e,JSON.parse(o),i,"path"===r.relative);"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)}),[t,n,o,i]);return u}function ot(t,n){let{relative:r}=void 0===n?{}:n,{matches:i}=e.useContext(tt),{pathname:o}=rt(),a=JSON.stringify(P(i).map((t=>t.pathnameBase)));return e.useMemo((()=>O(t,JSON.parse(a),o,"path"===r)),[t,a,o,r])}function at(){let t=function(){var t;let n=e.useContext(et),r=ft(ht.UseRouteError),i=dt(ht.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=V(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unhandled Thrown Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",e.createElement("code",{style:a},"errorElement")," props on\xa0",e.createElement("code",{style:a},"<Route>")))}class st extends e.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:t.error,location:t.location}:{error:t.error||e.error,location:e.location}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error?e.createElement(tt.Provider,{value:this.props.routeContext},e.createElement(et.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ut(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext($);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),e.createElement(tt.Provider,{value:n},i)}function ct(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}let i=t,o=null==r?void 0:r.errors;if(null!=o){let t=i.findIndex((t=>t.route.id&&(null==o?void 0:o[t.route.id])));t>=0||s(!1),i=i.slice(0,Math.min(i.length,t+1))}return i.reduceRight(((t,a,s)=>{let u=a.route.id?null==o?void 0:o[a.route.id]:null,c=r?a.route.errorElement||e.createElement(at,null):null,l=n.concat(i.slice(0,s+1)),h=()=>e.createElement(ut,{match:a,routeContext:{outlet:t,matches:l}},u?c:void 0!==a.route.element?a.route.element:t);return r&&(a.route.errorElement||0===s)?e.createElement(st,{location:r.location,component:c,error:u,children:h(),routeContext:{outlet:null,matches:l}}):h()}),null)}var lt,ht;function ft(t){let n=e.useContext(X);return n||s(!1),n}function dt(t){let n=function(t){let n=e.useContext(tt);return n||s(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||s(!1),r.route.id}!function(t){t.UseRevalidator="useRevalidator"}(lt||(lt={})),function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"}(ht||(ht={}));function pt(t){s(!1)}function gt(n){let{basename:r="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:u,static:c=!1}=n;nt()&&s(!1);let l=r.replace(/^\/*/,"/"),f=e.useMemo((()=>({basename:l,navigator:u,static:c})),[l,u,c]);"string"===typeof o&&(o=h(o));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:v="default"}=o,y=e.useMemo((()=>{let t=A(d,l);return null==t?null:{pathname:t,search:p,hash:g,state:m,key:v}}),[l,d,p,g,m,v]);return null==y?null:e.createElement(J.Provider,{value:f},e.createElement(Z.Provider,{children:i,value:{location:y,navigationType:a}}))}function mt(n){let{children:r,location:i}=n,o=e.useContext(Q);return function(n,r){nt()||s(!1);let{navigator:i}=e.useContext(J),o=e.useContext(X),{matches:a}=e.useContext(tt),u=a[a.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,d=rt();if(r){var p;let t="string"===typeof r?h(r):r;"/"===l||(null==(p=t.pathname)?void 0:p.startsWith(l))||s(!1),f=t}else f=d;let m=f.pathname||"/",v=g(n,{pathname:"/"===l?m:m.slice(l.length)||"/"}),y=ct(v&&v.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:M([l,i.encodeLocation?i.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?l:M([l,i.encodeLocation?i.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,o||void 0);return r&&y?e.createElement(Z.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:t.Pop}},y):y}(o&&!r?o.router.routes:yt(r),i)}var vt;!function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"}(vt||(vt={}));new Promise((()=>{}));e.Component;function yt(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;if(t.type===e.Fragment)return void r.push.apply(r,yt(t.props.children,n));t.type!==pt&&s(!1),t.props.index&&t.props.children&&s(!1);let o=[...n,i],a={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(a.children=yt(t.props.children,o)),r.push(a)})),r}function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bt.apply(this,arguments)}function wt(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}const _t=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function xt(t){let{basename:n,children:r,window:i}=t,o=e.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),d((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return c("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:l(e)}),null,a)));let s=o.current,[u,h]=e.useState({action:s.action,location:s.location});return e.useLayoutEffect((()=>s.listen(h)),[s]),e.createElement(gt,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:s})}const St=e.forwardRef((function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:u,target:c,to:h,preventScrollReset:f}=t,d=wt(t,_t),p=function(t,n){let{relative:r}=void 0===n?{}:n;nt()||s(!1);let{basename:i,navigator:o}=e.useContext(J),{hash:a,pathname:u,search:c}=ot(t,{relative:r}),l=u;return"/"!==i&&(l="/"===u?i:M([i,u])),o.createHref({pathname:l,search:c,hash:a})}(h,{relative:i}),g=function(t,n){let{target:r,replace:i,state:o,preventScrollReset:a,relative:s}=void 0===n?{}:n,u=it(),c=rt(),h=ot(t,{relative:s});return e.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,r)){e.preventDefault();let n=void 0!==i?i:l(c)===l(h);u(t,{replace:n,state:o,preventScrollReset:a,relative:s})}}),[c,u,h,i,o,r,t,a,s])}(h,{replace:a,state:u,target:c,preventScrollReset:f,relative:i});return e.createElement("a",bt({},d,{href:p,onClick:o?r:function(t){r&&r(t),t.defaultPrevented||g(t)},ref:n,target:c}))}));var Et,kt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Et||(Et={})),function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(kt||(kt={}));const Tt=n.p+"static/media/cat.3a3400f86cffb172280d.jpg";var It=function(t,e){return It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},It(t,e)};function Nt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}It(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var At=function(){return At=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},At.apply(this,arguments)};function Ct(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(qg){o(qg)}}function s(t){try{u(r.throw(t))}catch(qg){o(qg)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Dt(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(qg){s=[6,qg],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function Pt(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ot(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Mt(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var Rt=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rt(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Ft(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Ft(t[n],e[n]));return t}var jt=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function Vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ut(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(qg){return!1}}var Bt=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,zt.prototype.create),o}return Nt(e,t),e}(Error),zt=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(qt,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new Bt(i,s,r)},t}();var qt=/\{\$([^}]+)}/g;function Ht(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function Wt(t,e){var n=new Kt(t,e);return n.subscribe.bind(n)}var Kt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=Gt),void 0===r.error&&(r.error=Gt),void 0===r.complete&&(r.complete=Gt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(qg){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(qg){"undefined"!==typeof console&&console.error&&console.error(qg)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Gt(){}function Yt(t){return t&&t._delegate?t._delegate:t}var $t=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Qt="[DEFAULT]",Xt=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=Qt);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new jt;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(qg){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=At({identifier:Qt,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(qg){if(r)return null;throw qg}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Qt})}catch(qg){}try{for(var r=Pt(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ot(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(qg){}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Qt),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Ct(this,void 0,void 0,(function(){var t;return Dt(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Mt(Mt([],Ot(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Ot(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=Qt),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?Qt:r,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=Pt(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=Ot(l.value,2),f=h[0],d=h[1];s===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,s),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Pt(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t,e)}catch(s){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===Qt?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Ig){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Qt:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var Jt,Zt=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Xt(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function te(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var ee,ne=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ee||(ee={}));var re,ie={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oe=ee.INFO,ae=((Jt={})[ee.DEBUG]="log",Jt[ee.VERBOSE]="log",Jt[ee.INFO]="info",Jt[ee.WARN]="warn",Jt[ee.ERROR]="error",Jt),se=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ae[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,te(["["+i+"]  "+t.name+":"],n))}},ue=function(){function t(t){this.name=t,this._logLevel=oe,this._logHandler=se,this._userLogHandler=null,ne.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ee))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?ie[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.DEBUG],t)),this._logHandler.apply(this,te([this,ee.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.VERBOSE],t)),this._logHandler.apply(this,te([this,ee.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.INFO],t)),this._logHandler.apply(this,te([this,ee.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.WARN],t)),this._logHandler.apply(this,te([this,ee.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.ERROR],t)),this._logHandler.apply(this,te([this,ee.ERROR],t))},t}();function ce(t){ne.forEach((function(e){e.setLogLevel(t)}))}var le,he=((re={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",re["bad-app-name"]="Illegal App name: '{$appName}",re["duplicate-app"]="Firebase App named '{$appName}' already exists",re["app-deleted"]="Firebase App named '{$appName}' already deleted",re["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",re["invalid-log-argument"]="First argument to `onLog` must be null or a function.",re),fe=new zt("app","Firebase",he),de="@firebase/app",pe="[DEFAULT]",ge=((le={})[de]="fire-core",le["@firebase/analytics"]="fire-analytics",le["@firebase/app-check"]="fire-app-check",le["@firebase/auth"]="fire-auth",le["@firebase/database"]="fire-rtdb",le["@firebase/functions"]="fire-fn",le["@firebase/installations"]="fire-iid",le["@firebase/messaging"]="fire-fcm",le["@firebase/performance"]="fire-perf",le["@firebase/remote-config"]="fire-rc",le["@firebase/storage"]="fire-gcs",le["@firebase/firestore"]="fire-fst",le["fire-js"]="fire-js",le["firebase-wrapper"]="fire-js-all",le),me=new ue("@firebase/app"),ve=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Ft(void 0,t),this.container=new Zt(e.name),this._addComponent(new $t("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=pe),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=pe),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(qg){me.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,qg)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fe.create("app-deleted",{appName:this.name_})},t}();ve.prototype.name&&ve.prototype.options||ve.prototype.delete||console.log("dc");var ye="8.5.0";function be(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=pe);var a=o.name;if("string"!==typeof a||!a)throw fe.create("bad-app-name",{appName:String(a)});if(Ht(e,a))throw fe.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ge[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void me.warn(u.join(" "))}o(new $t(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:ce,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw fe.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ie[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:ee[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=ne;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:ye,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Ht(e,t=t||pe))throw fe.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return me.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[a])throw fe.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Ft(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}var we=function t(){var e=be(ve);return e.INTERNAL=At(At({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Ft(e,t)},createSubscribe:Wt,ErrorFactory:zt,deepExtend:Ft}),e}(),_e=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Se=we.initializeApp;we.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ut()&&me.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Se.apply(void 0,t)};var Ee=we;!function(t,e){t.INTERNAL.registerComponent(new $t("platform-logger",(function(t){return new _e(t)}),"PRIVATE")),t.registerVersion(de,"0.6.21",e),t.registerVersion("fire-js","")}(Ee);const ke=Ee;ke.registerVersion("firebase","8.5.0","app");var Te=function(t,e){return Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Te(t,e)};function Ie(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ne,Ae="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ce=Ce||{},De=Ae||self;function Pe(){}function Oe(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Me(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Re="closure_uid_"+(1e9*Math.random()>>>0),Le=0;function Fe(t,e,n){return t.call.apply(t.bind,arguments)}function je(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ve(t,e,n){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fe:je).apply(null,arguments)}function Ue(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Be(){return Date.now()}function ze(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function qe(){this.j=this.j,this.i=this.i}qe.prototype.j=!1,qe.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,Re)&&t[Re]||(t[Re]=++Le)})(this)},qe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var He=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},We=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ke(t){return Array.prototype.concat.apply([],arguments)}function Ge(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ye(t){return/^[\s\xa0]*$/.test(t)}var $e,Qe=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xe(t,e){return-1!=t.indexOf(e)}function Je(t,e){return t<e?-1:t>e?1:0}t:{var Ze=De.navigator;if(Ze){var tn=Ze.userAgent;if(tn){$e=tn;break t}}$e=""}function en(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function nn(t){var e={};for(var n in t)e[n]=t[n];return e}var rn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function on(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<rn.length;o++)n=rn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function an(t){return an[" "](t),t}an[" "]=Pe;var sn,un=Xe($e,"Opera"),cn=Xe($e,"Trident")||Xe($e,"MSIE"),ln=Xe($e,"Edge"),hn=ln||cn,fn=Xe($e,"Gecko")&&!(Xe($e.toLowerCase(),"webkit")&&!Xe($e,"Edge"))&&!(Xe($e,"Trident")||Xe($e,"MSIE"))&&!Xe($e,"Edge"),dn=Xe($e.toLowerCase(),"webkit")&&!Xe($e,"Edge");function pn(){var t=De.document;return t?t.documentMode:void 0}t:{var gn="",mn=function(){var t=$e;return fn?/rv:([^\);]+)(\)|;)/.exec(t):ln?/Edge\/([\d\.]+)/.exec(t):cn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):dn?/WebKit\/(\S+)/.exec(t):un?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(mn&&(gn=mn?mn[1]:""),cn){var vn=pn();if(null!=vn&&vn>parseFloat(gn)){sn=String(vn);break t}}sn=gn}var yn,bn={};function wn(t){return function(t,e){var n=bn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Qe(String(sn)).split("."),r=Qe(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Je(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Je(0==a[2].length,0==s[2].length)||Je(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(De.document&&cn){var _n=pn();yn=_n||(parseInt(sn,10)||void 0)}else yn=void 0;var xn=yn,Sn=!cn||9<=Number(xn),En=cn&&!wn("9"),kn=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{De.addEventListener("test",Pe,e),De.removeEventListener("test",Pe,e)}catch(n){}return t}();function Tn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function In(t,e){if(Tn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(fn){t:{try{an(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Nn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Tn.prototype.b=function(){this.defaultPrevented=!0},ze(In,Tn);var Nn={2:"touch",3:"pen",4:"mouse"};In.prototype.b=function(){In.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,En)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var An="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function Dn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Cn,this.Y=this.Z=!1}function Pn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function On(t){this.src=t,this.a={},this.b=0}function Mn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=He(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Pn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}On.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Rn(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Dn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ln="closure_lm_"+(1e6*Math.random()|0),Fn={};function jn(t,e,n,r,i){if(r&&r.once)return Un(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jn(t,e[o],n,r,i);return null}return n=Yn(n),t&&t[An]?t.va(e,n,Me(r)?!!r.capture:!!r,i):Vn(t,e,n,!1,r,i)}function Vn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Me(i)?!!i.capture:!!i;if(a&&!Sn)return null;var s=Kn(t);if(s||(t[Ln]=s=new On(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Wn,e=Sn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Un(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Un(t,e[o],n,r,i);return null}return n=Yn(n),t&&t[An]?t.wa(e,n,Me(r)?!!r.capture:!!r,i):Vn(t,e,n,!0,r,i)}function Bn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Bn(t,e[o],n,r,i);else r=Me(r)?!!r.capture:!!r,n=Yn(n),t&&t[An]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Rn(o=t.a[e],n,r,i))&&(Pn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Kn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Rn(e,n,r,i)),(n=-1<t?e[t]:null)&&zn(n))}function zn(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[An])Mn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Kn(e))?(Mn(n,t),0==n.b&&(n.src=null,e[Ln]=null)):Pn(t)}}}function qn(t){return t in Fn?Fn[t]:Fn[t]="on"+t}function Hn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&zn(t),n.call(r,e)}function Wn(t,e){if(t.Y)return!0;if(!Sn){if(!e)t:{e=["window","event"];for(var n=De,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Hn(t,e=new In(e,this))}return Hn(t,new In(e,this))}function Kn(t){return(t=t[Ln])instanceof On?t:null}var Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yn(t){return"function"===typeof t?t:(t[Gn]||(t[Gn]=function(e){return t.handleEvent(e)}),t[Gn])}function $n(){qe.call(this),this.c=new On(this),this.J=this,this.C=null}function Qn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new Tn(e,t);else if(e instanceof Tn)e.target=e.target||t;else{var i=e;on(e=new Tn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Xn(a,r,!0,e)&&i}if(i=Xn(a=e.a=t,r,!0,e)&&i,i=Xn(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Xn(a=e.a=n[o],r,!1,e)&&i}function Xn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Mn(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ze($n,qe),$n.prototype[An]=!0,(Ne=$n.prototype).addEventListener=function(t,e,n,r){jn(this,t,e,n,r)},Ne.removeEventListener=function(t,e,n,r){Bn(this,t,e,n,r)},Ne.G=function(){if($n.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Pn(n[r]);delete e.a[t],e.b--}}this.C=null},Ne.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ne.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Jn=De.JSON.stringify;function Zn(){this.b=this.a=null}var tr,er=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new rr}),(function(t){t.reset()}));function nr(){var t=sr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function rr(){this.next=this.b=this.a=null}function ir(t){De.setTimeout((function(){throw t}),0)}function or(t,e){tr||function(){var t=De.Promise.resolve(void 0);tr=function(){t.then(ur)}}(),ar||(tr(),ar=!0),sr.add(t,e)}Zn.prototype.add=function(t,e){var n=er.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},rr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},rr.prototype.reset=function(){this.next=this.b=this.a=null};var ar=!1,sr=new Zn;function ur(){for(var t;t=nr();){try{t.a.call(t.b)}catch(n){ir(n)}var e=er;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ar=!1}function cr(t,e){$n.call(this),this.b=t||1,this.a=e||De,this.f=Ve(this.Za,this),this.g=Be()}function lr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function hr(t,e,n){if("function"===typeof t)n&&(t=Ve(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ve(t.handleEvent,t)}return 2147483647<Number(e)?-1:De.setTimeout(t,e||0)}function fr(t){t.a=hr((function(){t.a=null,t.c&&(t.c=!1,fr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ze(cr,$n),(Ne=cr.prototype).aa=!1,Ne.M=null,Ne.Za=function(){if(this.aa){var t=Be()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Qn(this,"tick"),this.aa&&(lr(this),this.start()))}},Ne.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Be())},Ne.G=function(){cr.X.G.call(this),lr(this),delete this.a};var dr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:fr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(De.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(qe);function pr(t){qe.call(this),this.b=t,this.a={}}ze(pr,qe);var gr=[];function mr(t,e,n,r){Array.isArray(n)||(n&&(gr[0]=n.toString()),n=gr);for(var i=0;i<n.length;i++){var o=jn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function vr(t){en(t.a,(function(t,e){this.a.hasOwnProperty(e)&&zn(t)}),t),t.a={}}function yr(){this.a=!0}function br(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Jn(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}pr.prototype.G=function(){pr.X.G.call(this),vr(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yr.prototype.info=function(){};var wr={},_r=null;function xr(){return _r=_r||new $n}function Sr(t){Tn.call(this,wr.Fa,t)}function Er(t){var e=xr();Qn(e,new Sr(e,t))}function kr(t,e){Tn.call(this,wr.STAT_EVENT,t),this.stat=e}function Tr(t){var e=xr();Qn(e,new kr(e,t))}function Ir(t){Tn.call(this,wr.Ga,t)}function Nr(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return De.setTimeout((function(){t()}),e)}wr.Fa="serverreachability",ze(Sr,Tn),wr.STAT_EVENT="statevent",ze(kr,Tn),wr.Ga="timingevent",ze(Ir,Tn);var Ar={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Cr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Dr(){}function Pr(t){var e;return(e=t.a)||(e=t.a={}),e}function Or(){}Dr.prototype.a=null;var Mr,Rr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Lr(){Tn.call(this,"d")}function Fr(){Tn.call(this,"c")}function jr(){}function Vr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new pr(this),this.P=Ur,t=hn?125:void 0,this.R=new cr(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ze(Lr,Tn),ze(Fr,Tn),ze(jr,Dr),Mr=new jr;var Ur=45e3,Br={},zr={};function qr(t,e,n){t.H=1,t.i=hi(oi(e)),t.j=n,t.I=!0,Hr(t,null)}function Hr(t,e){t.u=Be(),Gr(t),t.l=oi(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ei(n.b,"t",r),t.D=0,t.a=bo(t.g,t.g.C?e:null),0<t.O&&(t.F=new dr(Ve(t.Ca,t,t.a),t.O)),mr(t.J,t.a,"readystatechange",t.Xa),e=t.B?nn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Er(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Wr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Kr(t,n);if(i==zr){4==e&&(t.h=4,Tr(14),r=!1),br(t.c,t.f,null,"[Incomplete Response]");break}if(i==Br){t.h=4,Tr(15),br(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}br(t.c,t.f,i,null),Jr(t,i)}4==e&&0==n.length&&(t.h=1,Tr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),lo(e),e.F=!0,Tr(11))):(br(t.c,t.f,n,"[Invalid Chunked Response]"),Xr(t),Qr(t))}function Kr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?zr:(n=Number(e.substring(n,r)),isNaN(n)?Br:(r+=1)+n>e.length?zr:(e=e.substr(r,n),t.D=r+n,e))}function Gr(t){t.T=Be()+t.P,Yr(t,t.P)}function Yr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Nr(Ve(t.Va,t),e)}function $r(t){t.o&&(De.clearTimeout(t.o),t.o=null)}function Qr(t){0==t.g.v||t.A||po(t.g,t)}function Xr(t){$r(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,lr(t.R),vr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Jr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Di(n.b,t)))if(n.I=t.N,!t.C&&Di(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(ig){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;fo(n),eo(n)}co(n),Tr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Nr(Ve(n.Sa,n),6e3));if(1>=Ci(n.b)&&n.ea){try{n.ea()}catch(ig){}n.ea=void 0}}else mo(n,11)}else if((t.C||n.a==t)&&fo(n),!Ye(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Xe(l,"spdy")||Xe(l,"quic")||Xe(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Pi(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,li(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Be()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=yo(u,u.C?u.ga:null,u.fa),d.C){Oi(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&($r(p),Gr(p)),u.a=d}else uo(u);0<n.g.length&&io(n)}else"stop"!=i[0]&&"close"!=i[0]||mo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?mo(n,7):to(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Er(4)}catch(ig){}}function Zr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Oe(t)||"string"===typeof t)We(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Oe(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(Oe(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ti(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ti)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ei(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ni(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ni(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ni(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ne=Vr.prototype).setTimeout=function(t){this.P=t},Ne.Xa=function(t){t=t.target;var e=this.F;e&&3==Qi(t)?e.f():this.Ca(t)},Ne.Ca=function(t){try{if(t==this.a)t:{var e=Qi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!hn&&!this.a.$())){this.A||4!=e||7==n||Er(8==n||0>=r?3:2),$r(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ye(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Tr(12),Xr(this),Qr(this);break t}br(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Jr(this,u)}this.I?(Wr(this,e,o),hn&&this.b&&3==e&&(mr(this.J,this.R,"tick",this.Wa),this.R.start())):(br(this.c,this.f,o,null),Jr(this,o)),4==e&&Xr(this),this.b&&!this.A&&(4==e?po(this.g,this):(this.b=!1,Gr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Tr(12)):(this.h=0,Tr(13)),Xr(this),Qr(this)}}}catch(c){}},Ne.Wa=function(){if(this.a){var t=Qi(this.a),e=this.a.$();this.D<e.length&&($r(this),Wr(this,t,e),this.b&&4!=t&&Gr(this))}},Ne.cancel=function(){this.A=!0,Xr(this)},Ne.Va=function(){this.o=null;var t=Be();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Er(3),Tr(17)),Xr(this),this.h=2,Qr(this)):Yr(this,this.T-t)},(Ne=ti.prototype).K=function(){ei(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ne.L=function(){return ei(this),this.a.concat()},Ne.get=function(t,e){return ni(this.b,t)?this.b[t]:e},Ne.set=function(t,e){ni(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ne.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ri=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ii(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ii){this.a=void 0!==e?e:t.a,ai(this,t.f),this.j=t.j,si(this,t.c),ui(this,t.h),this.g=t.g,e=t.b;var n=new wi;n.c=e.c,e.a&&(n.a=new ti(e.a),n.b=e.b),ci(this,n),this.i=t.i}else t&&(n=String(t).match(ri))?(this.a=!!e,ai(this,n[1]||"",!0),this.j=fi(n[2]||""),si(this,n[3]||"",!0),ui(this,n[4]),this.g=fi(n[5]||"",!0),ci(this,n[6]||"",!0),this.i=fi(n[7]||"")):(this.a=!!e,this.b=new wi(null,this.a))}function oi(t){return new ii(t)}function ai(t,e,n){t.f=n?fi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function si(t,e,n){t.c=n?fi(e,!0):e}function ui(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ci(t,e,n){e instanceof wi?(t.b=e,function(t,e){e&&!t.f&&(_i(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(xi(this,e),Ei(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=di(e,yi)),t.b=new wi(e,t.a))}function li(t,e,n){t.b.set(e,n)}function hi(t){return li(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Be()).toString(36)),t}function fi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function di(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,pi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ii.prototype.toString=function(){var t=[],e=this.f;e&&t.push(di(e,gi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(di(e,gi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(di(n,"/"==n.charAt(0)?vi:mi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",di(n,bi)),t.join("")};var gi=/[#\/\?@]/g,mi=/[#\?:]/g,vi=/[#\?]/g,yi=/[#\?@]/g,bi=/#/g;function wi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function _i(t){t.a||(t.a=new ti,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function xi(t,e){_i(t),e=ki(t,e),ni(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ni((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ei(t)))}function Si(t,e){return _i(t),e=ki(t,e),ni(t.a.b,e)}function Ei(t,e,n){xi(t,e),0<n.length&&(t.c=null,t.a.set(ki(t,e),Ge(n)),t.b+=n.length)}function ki(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ne=wi.prototype).add=function(t,e){_i(this),this.c=null,t=ki(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ne.forEach=function(t,e){_i(this),this.a.forEach((function(n,r){We(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ne.L=function(){_i(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ne.K=function(t){_i(this);var e=[];if("string"===typeof t)Si(this,t)&&(e=Ke(e,this.a.get(ki(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ke(e,t[n])}return e},Ne.set=function(t,e){return _i(this),this.c=null,Si(this,t=ki(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ne.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ne.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ti=function(t,e){this.b=t,this.a=e};function Ii(t){this.g=t||Ni,De.PerformanceNavigationTiming?t=0<(t=De.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(De.ia&&De.ia.ya&&De.ia.ya()&&De.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ni=10;function Ai(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ci(t){return t.b?1:t.a?t.a.size:0}function Di(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Pi(t,e){t.a?t.a.add(e):t.b=e}function Oi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Mi(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ie(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ge(t.c)}function Ri(){}function Li(){this.a=new Ri}function Fi(t,e,n){var r=n||"";try{Zr(t,(function(t,n){var i=t;Me(t)&&(i=Jn(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(qg){throw e.push(r+"type="+encodeURIComponent("_badmap")),qg}}function ji(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ii.prototype.cancel=function(){var t,e;if(this.c=Mi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ie(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ri.prototype.stringify=function(t){return De.JSON.stringify(t,void 0)},Ri.prototype.parse=function(t){return De.JSON.parse(t,void 0)};var Vi=De.JSON.parse;function Ui(t){$n.call(this),this.headers=new ti,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Bi,this.D=this.F=!1}ze(Ui,$n);var Bi="",zi=/^https?$/i,qi=["POST","PUT"];function Hi(t){return"content-type"==t.toLowerCase()}function Wi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ki(t),Yi(t)}function Ki(t){t.u||(t.u=!0,Qn(t,"complete"),Qn(t,"error"))}function Gi(t){if(t.b&&"undefined"!=typeof Ce&&(!t.s[1]||4!=Qi(t)||2!=t.W()))if(t.l&&4==Qi(t))hr(t.za,0,t);else if(Qn(t,"readystatechange"),4==Qi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ri)[1]||null;if(!o&&De.self&&De.self.location){var a=De.self.location.protocol;o=a.substr(0,a.length-1)}i=!zi.test(o?o.toLowerCase():"")}e=i}if(e)Qn(t,"complete"),Qn(t,"success");else{t.h=6;try{var s=2<Qi(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Ki(t)}}finally{Yi(t)}}}function Yi(t,e){if(t.a){$i(t);var n=t.a,r=t.s[0]?Pe:null;t.a=null,t.s=null,e||Qn(t,"ready");try{n.onreadystatechange=r}catch(qg){}}}function $i(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(De.clearTimeout(t.m),t.m=null)}function Qi(t){return t.a?t.a.readyState:0}function Xi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return en(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):li(t,e,n))}function Ji(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Zi(t){this.pa=0,this.g=[],this.c=new yr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ji("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ji("baseRetryDelayMs",5e3,t),this.Ra=Ji("retryDelaySeedMs",1e4,t),this.Ma=Ji("forwardChannelMaxRetries",2,t),this.ma=Ji("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ii(t&&t.concurrentRequestLimit),this.ka=new Li,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function to(t){if(no(t),3==t.v){var e=t.R++,n=oi(t.B);li(n,"SID",t.J),li(n,"RID",e),li(n,"TYPE","terminate"),ao(t,n),(e=new Vr(t,t.c,e,void 0)).H=2,e.i=hi(oi(n)),n=!1,De.navigator&&De.navigator.sendBeacon&&(n=De.navigator.sendBeacon(e.i.toString(),"")),!n&&De.Image&&((new Image).src=e.i,n=!0),n||(e.a=bo(e.g,null),e.a.ba(e.i)),e.u=Be(),Gr(e)}vo(t)}function eo(t){t.a&&(lo(t),t.a.cancel(),t.a=null)}function no(t){eo(t),t.j&&(De.clearTimeout(t.j),t.j=null),fo(t),t.b.cancel(),t.h&&("number"===typeof t.h&&De.clearTimeout(t.h),t.h=null)}function ro(t,e){t.g.push(new Ti(t.Oa++,e)),3==t.v&&io(t)}function io(t){Ai(t.b)||t.h||(t.h=!0,or(t.Ba,t),t.u=0)}function oo(t,e){var n;n=e?e.f:t.R++;var r=oi(t.B);li(r,"SID",t.J),li(r,"RID",n),li(r,"AID",t.P),ao(t,r),t.i&&t.l&&Xi(r,t.i,t.l),n=new Vr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=so(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Pi(t.b,n),qr(n,r,e)}function ao(t,e){t.f&&Zr({},(function(t,n){li(e,n,t)}))}function so(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ve(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Fi(l,a,"req"+c+"_")}catch(Jo){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function uo(t){t.a||t.j||(t.T=1,or(t.Aa,t),t.o=0)}function co(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Nr(Ve(t.Aa,t),go(t,t.o)),t.o++,!0)}function lo(t){null!=t.s&&(De.clearTimeout(t.s),t.s=null)}function ho(t){t.a=new Vr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=oi(t.la);li(e,"RID","rpc"),li(e,"SID",t.J),li(e,"CI",t.H?"0":"1"),li(e,"AID",t.P),ao(t,e),li(e,"TYPE","xmlhttp"),t.i&&t.l&&Xi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=hi(oi(e)),n.j=null,n.I=!0,Hr(n,t)}function fo(t){null!=t.m&&(De.clearTimeout(t.m),t.m=null)}function po(t,e){var n=null;if(t.a==e){fo(t),lo(t),t.a=null;var r=2}else{if(!Di(t.b,e))return;n=e.s,Oi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Be()-e.u;var i=t.u;Qn(r=xr(),new Ir(r,n,e,i)),io(t)}else uo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ci(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=Nr(Ve(t.Ba,t,e),go(t,t.u)),t.u++,!0))}(t,e)||2==r&&co(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:mo(t,5);break;case 4:mo(t,10);break;case 3:mo(t,6);break;default:mo(t,2)}}function go(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function mo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ve(t.Ya,t);n||(n=new ii("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||ai(n,"https"),hi(n)),function(t,e){var n=new yr;if(De.Image){var r=new Image;r.onload=Ue(ji,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ue(ji,n,r,"TestLoadImage: error",!1,e),r.onabort=Ue(ji,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ue(ji,n,r,"TestLoadImage: timeout",!1,e),De.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tr(2);t.v=0,t.f&&t.f.ra(e),vo(t),no(t)}function vo(t){t.v=0,t.I=-1,t.f&&(0==Mi(t.b).length&&0==t.g.length||(t.b.c.length=0,Ge(t.g),t.g.length=0),t.f.qa())}function yo(t,e,n){var r=function(t){return t instanceof ii?oi(t):new ii(t,void 0)}(n);if(""!=r.c)e&&si(r,e+"."+r.c),ui(r,r.h);else{var i=De.location;r=function(t,e,n,r){var i=new ii(null,void 0);return t&&ai(i,t),e&&si(i,e),n&&ui(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&en(t.V,(function(t,e){li(r,e,t)})),e=t.A,n=t.na,e&&n&&li(r,e,n),li(r,"VER",t.ha),ao(t,r),r}function bo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ui(t.Na)).F=t.C,e}function wo(){}function _o(){if(cn&&!(10<=Number(xn)))throw Error("Environmental error: no available transport.")}function xo(t,e){$n.call(this),this.a=new Zi(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ye(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ye(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new ko(this)}function So(t){Lr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Eo(){Fr.call(this),this.status=1}function ko(t){this.a=t}(Ne=Ui.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Pr(this.H):Pr(Mr),this.a.onreadystatechange=Ve(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Wi(this,o)}t=n||"";var i=new ti(this.headers);r&&Zr(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Hi,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=De.FormData&&t instanceof De.FormData,!(0<=He(qi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{$i(this),0<this.o&&((this.D=function(t){return cn&&wn(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ve(this.xa,this)):this.m=hr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Wi(this,o)}},Ne.xa=function(){"undefined"!=typeof Ce&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Qn(this,"timeout"),this.abort(8))},Ne.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Qn(this,"complete"),Qn(this,"abort"),Yi(this))},Ne.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Yi(this,!0)),Ui.X.G.call(this)},Ne.za=function(){this.j||(this.A||this.l||this.g?Gi(this):this.Ua())},Ne.Ua=function(){Gi(this)},Ne.W=function(){try{return 2<Qi(this)?this.a.status:-1}catch(t){return-1}},Ne.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Ne.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vi(e)}},Ne.ua=function(){return this.h},Ne.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(Ne=Zi.prototype).ha=8,Ne.v=1,Ne.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Vr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?on(r=nn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=so(this,n,e),li(i=oi(this.B),"RID",t),li(i,"CVER",22),this.A&&li(i,"X-HTTP-Session-Id",this.A),ao(this,i),this.i&&r&&Xi(i,this.i,r),Pi(this.b,n),this.Ia&&li(i,"TYPE","init"),this.da?(li(i,"$req",e),li(i,"SID","null"),n.U=!0,qr(n,i,null)):qr(n,i,e),this.v=2}}else 3==this.v&&(t?oo(this,t):0==this.g.length||Ai(this.b)||oo(this))},Ne.Aa=function(){if(this.j=null,ho(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Nr(Ve(this.Ta,this),t)}},Ne.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tr(10),eo(this),ho(this))},Ne.Sa=function(){null!=this.m&&(this.m=null,eo(this),co(this),Tr(19))},Ne.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Tr(2)):(this.c.info("Failed to ping google.com"),Tr(1))},(Ne=wo.prototype).ta=function(){},Ne.sa=function(){},Ne.ra=function(){},Ne.qa=function(){},Ne.Ja=function(){},_o.prototype.a=function(t,e){return new xo(t,e)},ze(xo,$n),xo.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Tr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=yo(t,null,t.fa),io(t)},xo.prototype.close=function(){to(this.a)},xo.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,ro(this.a,e)}else this.l?((e={}).__data__=Jn(t),ro(this.a,e)):ro(this.a,t)},xo.prototype.G=function(){this.a.f=null,delete this.f,to(this.a),delete this.a,xo.X.G.call(this)},ze(So,Lr),ze(Eo,Fr),ze(ko,wo),ko.prototype.ta=function(){Qn(this.a,"a")},ko.prototype.sa=function(t){Qn(this.a,new So(t))},ko.prototype.ra=function(t){Qn(this.a,new Eo(t))},ko.prototype.qa=function(){Qn(this.a,"b")},_o.prototype.createWebChannel=_o.prototype.a,xo.prototype.send=xo.prototype.h,xo.prototype.open=xo.prototype.g,xo.prototype.close=xo.prototype.close,Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Cr.COMPLETE="complete",Or.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",$n.prototype.listen=$n.prototype.va,Ui.prototype.listenOnce=Ui.prototype.wa,Ui.prototype.getLastError=Ui.prototype.Qa,Ui.prototype.getLastErrorCode=Ui.prototype.ua,Ui.prototype.getStatus=Ui.prototype.W,Ui.prototype.getResponseJson=Ui.prototype.Pa,Ui.prototype.getResponseText=Ui.prototype.$,Ui.prototype.send=Ui.prototype.ba;var To=function(){return new _o},Io=function(){return xr()},No=Ar,Ao=Cr,Co=wr,Do={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Po=Or,Oo=Ui;var Mo=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Mo.o=-1;var Ro={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lo=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Nt(e,t),e}(Error),Fo=new ue("@firebase/firestore");function jo(){return Fo.logLevel}function Vo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fo.logLevel<=ee.DEBUG){var r=e.map(zo);Fo.debug.apply(Fo,Mt(["Firestore (8.5.0): "+t],r))}}function Uo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fo.logLevel<=ee.ERROR){var r=e.map(zo);Fo.error.apply(Fo,Mt(["Firestore (8.5.0): "+t],r))}}function Bo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fo.logLevel<=ee.WARN){var r=e.map(zo);Fo.warn.apply(Fo,Mt(["Firestore (8.5.0): "+t],r))}}function zo(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function qo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw Uo(e),new Error(e)}function Ho(t,e){t||qo()}function Wo(t,e){return t}function Ko(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Go=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ko(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62));return n},t}();function Yo(t,e){return t<e?-1:t>e?1:0}function $o(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Qo(t){return t+"\0"}var Xo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lo(Ro.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lo(Ro.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Lo(Ro.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lo(Ro.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Yo(this.nanoseconds,t.nanoseconds):Yo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Jo=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Xo(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Zo(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ea(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var na=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&qo(),void 0===n?n=t.length-e:n>t.length-e&&qo(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(na),ia=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ia.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Lo(Ro.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Lo(Ro.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Lo(Ro.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(na),aa=function(){function t(t){this.fields=t,t.sort(oa.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return $o(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),sa=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Yo(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();sa.EMPTY_BYTE_STRING=new sa("");var ua=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(t){if(Ho(!!t),"string"==typeof t){var e=0,n=ua.exec(t);if(Ho(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:la(t.seconds),nanos:la(t.nanos)}}function la(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ha(t){return"string"==typeof t?sa.fromBase64String(t):sa.fromUint8Array(t)}function fa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function da(t){var e=t.mapValue.fields.__previous_value__;return fa(e)?da(e):e}function pa(t){var e=ca(t.mapValue.fields.__local_write_time__.timestampValue);return new Xo(e.seconds,e.nanos)}function ga(t){return null==t}function ma(t){return 0===t&&1/t==-1/0}function va(t){return"number"==typeof t&&Number.isInteger(t)&&!ma(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ya=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ra.fromString(e))},t.fromName=function(e){return new t(ra.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ra.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ra.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ra(e.slice()))},t}();function ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fa(t)?4:10:qo()}function wa(t,e){var n=ba(t);if(n!==ba(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pa(t).isEqual(pa(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ca(t.timestampValue),r=ca(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ha(t.bytesValue).isEqual(ha(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return la(t.geoPointValue.latitude)===la(e.geoPointValue.latitude)&&la(t.geoPointValue.longitude)===la(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return la(t.integerValue)===la(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=la(t.doubleValue),r=la(e.doubleValue);return n===r?ma(n)===ma(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Zo(n)!==Zo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wa(n[i],r[i])))return!1;return!0}(t,e);default:return qo()}}function _a(t,e){return void 0!==(t.values||[]).find((function(t){return wa(t,e)}))}function xa(t,e){var n=ba(t),r=ba(e);if(n!==r)return Yo(n,r);switch(n){case 0:return 0;case 1:return Yo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=la(t.integerValue||t.doubleValue),r=la(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Sa(t.timestampValue,e.timestampValue);case 4:return Sa(pa(t),pa(e));case 5:return Yo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ha(t),r=ha(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Yo(n[i],r[i]);if(0!==o)return o}return Yo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Yo(la(t.latitude),la(e.latitude));return 0!==n?n:Yo(la(t.longitude),la(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=xa(n[i],r[i]);if(o)return o}return Yo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Yo(r[a],o[a]);if(0!==s)return s;var u=xa(n[r[a]],i[o[a]]);if(0!==u)return u}return Yo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw qo()}}function Sa(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yo(t,e);var n=ca(t),r=ca(e),i=Yo(n.seconds,r.seconds);return 0!==i?i:Yo(n.nanos,r.nanos)}function Ea(t){return ka(t)}function ka(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ca(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ha(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ya.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ka(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ka(t.fields[o])}return e+"}"}(t.mapValue):qo();var e,n}function Ta(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ia(t){return!!t&&"integerValue"in t}function Na(t){return!!t&&"arrayValue"in t}function Aa(t){return!!t&&"nullValue"in t}function Ca(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Da(t){return!!t&&"mapValue"in t}var Pa=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(oa.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return wa(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ba(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Da(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(oa.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Da(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Oa(t){var e=[];return ta(t.fields||{},(function(t,n){var r=new oa([t]);if(Da(n)){var i=Oa(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new aa(e)}var Ma=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Jo.min(),Pa.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Pa.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Pa.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Pa.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Pa.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ra=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function La(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ra(t,e,n,r,i,o,a)}function Fa(t){var e=Wo(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ea(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),ga(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Qa(e.startAt)),e.endAt&&(n+="|ub:",n+=Qa(e.endAt)),e.h=n}return e.h}function ja(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ja(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!wa(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ts(t.startAt,e.startAt)&&ts(t.endAt,e.endAt)}function Va(t){return ya.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ua=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Nt(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ba(t,n,r):"array-contains"===n?new Wa(t,r):"in"===n?new Ka(t,r):"not-in"===n?new Ga(t,r):"array-contains-any"===n?new Ya(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new za(t,n):new qa(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(xa(e,this.value)):null!==e&&ba(this.value)===ba(e)&&this.m(xa(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qo()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ba=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ya.fromName(r.referenceValue),i}return Nt(e,t),e.prototype.matches=function(t){var e=ya.comparator(t.key,this.key);return this.m(e)},e}(Ua),za=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ha("in",n),r}return Nt(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ua),qa=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ha("not-in",n),r}return Nt(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ua);function Ha(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ya.fromName(t.referenceValue)}))}var Wa=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Nt(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Na(e)&&_a(e.arrayValue,this.value)},e}(Ua),Ka=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Nt(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&_a(this.value.arrayValue,e)},e}(Ua),Ga=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Nt(e,t),e.prototype.matches=function(t){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!_a(this.value.arrayValue,e)},e}(Ua),Ya=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Nt(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Na(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return _a(e.value.arrayValue,t)}))},e}(Ua),$a=function(t,e){this.position=t,this.before=e};function Qa(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ea(t)})).join(",")}var Xa=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ja(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Za(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?ya.comparator(ya.fromName(a.referenceValue),n.key):xa(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ts(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wa(t.position[n],e.position[n]))return!1;return!0}var es=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ns(t,e,n,r,i,o,a,s){return new es(t,e,n,r,i,o,a,s)}function rs(t){return new es(t)}function is(t){return!ga(t.limit)&&"F"===t.limitType}function os(t){return!ga(t.limit)&&"L"===t.limitType}function as(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ss(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function us(t){return null!==t.collectionGroup}function cs(t){var e=Wo(t);if(null===e.p){e.p=[];var n=ss(e),r=as(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Xa(n)),e.p.push(new Xa(oa.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Xa(oa.keyField(),u))}}}return e.p}function ls(t){var e=Wo(t);if(!e.T)if("F"===e.limitType)e.T=La(e.path,e.collectionGroup,cs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=cs(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Xa(o.field,a))}var s=e.endAt?new $a(e.endAt.position,!e.endAt.before):null,u=e.startAt?new $a(e.startAt.position,!e.startAt.before):null;e.T=La(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function hs(t,e,n){return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fs(t,e){return ja(ls(t),ls(e))&&t.limitType===e.limitType}function ds(t){return Fa(ls(t))+"|lt:"+t.limitType}function ps(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ea(e.value);var e})).join(", ")+"]"),ga(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Qa(t.startAt)),t.endAt&&(e+=", endAt: "+Qa(t.endAt)),"Target("+e+")"}(ls(t))+"; limitType="+t.limitType+")"}function gs(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ya.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Za(t.startAt,cs(t),e))&&(!t.endAt||!Za(t.endAt,cs(t),e))}(t,e)}function ms(t){return function(e,n){for(var r=!1,i=0,o=cs(t);i<o.length;i++){var a=o[i],s=vs(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function vs(t,e,n){var r=t.field.isKeyField()?ya.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?xa(r,i):qo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qo()}}function ys(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ma(e)?"-0":e}}function bs(t){return{integerValue:""+t}}function ws(t,e){return va(e)?bs(e):ys(t,e)}var _s=function(){this._=void 0};function xs(t,e,n){return t instanceof ks?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ts?Is(t,e):t instanceof Ns?As(t,e):function(t,e){var n=Es(t,e),r=Ds(n)+Ds(t.A);return Ia(n)&&Ia(t.A)?bs(r):ys(t.R,r)}(t,e)}function Ss(t,e,n){return t instanceof Ts?Is(t,e):t instanceof Ns?As(t,e):n}function Es(t,e){return t instanceof Cs?Ia(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ks=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e}(_s),Ts=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Nt(e,t),e}(_s);function Is(t,e){for(var n=Ps(e),r=function(t){n.some((function(e){return wa(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ns=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Nt(e,t),e}(_s);function As(t,e){for(var n=Ps(e),r=function(t){n=n.filter((function(e){return!wa(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Cs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Nt(e,t),e}(_s);function Ds(t){return la(t.integerValue||t.doubleValue)}function Ps(t){return Na(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Os=function(t,e){this.field=t,this.transform=e},Ms=function(t,e){this.version=t,this.transformResults=e},Rs=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ls(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Fs=function(){};function js(t,e,n){t instanceof qs?function(t,e,n){var r=t.value.clone(),i=Ks(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Hs?function(t,e,n){if(Ls(t.precondition,e)){var r=Ks(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ws(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Vs(t,e,n){t instanceof qs?function(t,e,n){if(Ls(t.precondition,e)){var r=t.value.clone(),i=Gs(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(zs(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Hs?function(t,e,n){if(Ls(t.precondition,e)){var r=Gs(t.fieldTransforms,n,e),i=e.data;i.setAll(Ws(t)),i.setAll(r),e.convertToFoundDocument(zs(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ls(t.precondition,e)&&e.convertToNoDocument(Jo.min())}(t,e)}function Us(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Es(o.transform,a||null);null!=s&&(null==n&&(n=Pa.empty()),n.set(o.field,s))}return n||null}function Bs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&$o(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ts&&e instanceof Ts||t instanceof Ns&&e instanceof Ns?$o(t.elements,e.elements,wa):t instanceof Cs&&e instanceof Cs?wa(t.A,e.A):t instanceof ks&&e instanceof ks}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function zs(t){return t.isFoundDocument()?t.version:Jo.min()}var qs=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Nt(e,t),e}(Fs),Hs=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Nt(e,t),e}(Fs);function Ws(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Ks(t,e,n){var r=new Map;Ho(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Ss(a,s,n[i]))}return r}function Gs(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,xs(s,u,e))}return r}var Ys,$s,Qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Nt(e,t),e}(Fs),Xs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Nt(e,t),e}(Fs),Js=function(t){this.count=t};function Zs(t){switch(t){case Ro.OK:return qo();case Ro.CANCELLED:case Ro.UNKNOWN:case Ro.DEADLINE_EXCEEDED:case Ro.RESOURCE_EXHAUSTED:case Ro.INTERNAL:case Ro.UNAVAILABLE:case Ro.UNAUTHENTICATED:return!1;case Ro.INVALID_ARGUMENT:case Ro.NOT_FOUND:case Ro.ALREADY_EXISTS:case Ro.PERMISSION_DENIED:case Ro.FAILED_PRECONDITION:case Ro.ABORTED:case Ro.OUT_OF_RANGE:case Ro.UNIMPLEMENTED:case Ro.DATA_LOSS:return!0;default:return qo()}}function tu(t){if(void 0===t)return Uo("GRPC error has no .code"),Ro.UNKNOWN;switch(t){case Ys.OK:return Ro.OK;case Ys.CANCELLED:return Ro.CANCELLED;case Ys.UNKNOWN:return Ro.UNKNOWN;case Ys.DEADLINE_EXCEEDED:return Ro.DEADLINE_EXCEEDED;case Ys.RESOURCE_EXHAUSTED:return Ro.RESOURCE_EXHAUSTED;case Ys.INTERNAL:return Ro.INTERNAL;case Ys.UNAVAILABLE:return Ro.UNAVAILABLE;case Ys.UNAUTHENTICATED:return Ro.UNAUTHENTICATED;case Ys.INVALID_ARGUMENT:return Ro.INVALID_ARGUMENT;case Ys.NOT_FOUND:return Ro.NOT_FOUND;case Ys.ALREADY_EXISTS:return Ro.ALREADY_EXISTS;case Ys.PERMISSION_DENIED:return Ro.PERMISSION_DENIED;case Ys.FAILED_PRECONDITION:return Ro.FAILED_PRECONDITION;case Ys.ABORTED:return Ro.ABORTED;case Ys.OUT_OF_RANGE:return Ro.OUT_OF_RANGE;case Ys.UNIMPLEMENTED:return Ro.UNIMPLEMENTED;case Ys.DATA_LOSS:return Ro.DATA_LOSS;default:return qo()}}($s=Ys||(Ys={}))[$s.OK=0]="OK",$s[$s.CANCELLED=1]="CANCELLED",$s[$s.UNKNOWN=2]="UNKNOWN",$s[$s.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$s[$s.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$s[$s.NOT_FOUND=5]="NOT_FOUND",$s[$s.ALREADY_EXISTS=6]="ALREADY_EXISTS",$s[$s.PERMISSION_DENIED=7]="PERMISSION_DENIED",$s[$s.UNAUTHENTICATED=16]="UNAUTHENTICATED",$s[$s.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$s[$s.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$s[$s.ABORTED=10]="ABORTED",$s[$s.OUT_OF_RANGE=11]="OUT_OF_RANGE",$s[$s.UNIMPLEMENTED=12]="UNIMPLEMENTED",$s[$s.INTERNAL=13]="INTERNAL",$s[$s.UNAVAILABLE=14]="UNAVAILABLE",$s[$s.DATA_LOSS=15]="DATA_LOSS";var eu=function(){function t(t,e){this.comparator=t,this.root=e||ru.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ru.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ru.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new nu(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new nu(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new nu(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new nu(this.root,t,this.comparator,!0)},t}(),nu=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ru=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw qo();if(this.right.isRed())throw qo();var t=this.left.check();if(t!==this.right.check())throw qo();return t+(this.isRed()?0:1)},t}();ru.EMPTY=null,ru.RED=!0,ru.BLACK=!1,ru.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw qo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw qo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw qo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw qo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw qo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ru(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var iu=function(){function t(t){this.comparator=t,this.data=new eu(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ou(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ou(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ou=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),au=new eu(ya.comparator);function su(){return au}var uu=new eu(ya.comparator);function cu(){return uu}var lu=new eu(ya.comparator);function hu(){return lu}var fu=new iu(ya.comparator);function du(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=fu,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pu=new iu(Yo);function gu(){return pu}var mu=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Jo.min(),r,gu(),su(),du())},t}(),vu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(sa.EMPTY_BYTE_STRING,n,du(),du(),du())},t}(),yu=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},bu=function(t,e){this.targetId=t,this.V=e},wu=function(t,e,n,r){void 0===n&&(n=sa.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},_u=function(){function t(){this.S=0,this.D=Eu(),this.C=sa.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=du(),e=du(),n=du();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:qo()}})),new vu(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Eu()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),xu=function(){function t(t){this.W=t,this.G=new Map,this.H=su(),this.J=Su(),this.Y=new iu(Yo)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:qo()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Va(i))if(0===n){var o=new ya(i.path);this.tt(e,o,Ma.newNoDocument(o,Jo.min()))}else Ho(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Va(o.target)){var a=new ya(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ma.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=du();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new mu(t,n,this.Y,this.H,r);return this.H=su(),this.J=Su(),this.Y=new iu(Yo),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new _u,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new iu(Yo),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Vo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new _u),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Su(){return new eu(ya.comparator)}function Eu(){return new eu(ya.comparator)}var ku={asc:"ASCENDING",desc:"DESCENDING"},Tu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iu=function(t,e){this.databaseId=t,this.I=e};function Nu(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Au(t,e){return t.I?e.toBase64():e.toUint8Array()}function Cu(t,e){return Nu(t,e.toTimestamp())}function Du(t){return Ho(!!t),Jo.fromTimestamp(function(t){var e=ca(t);return new Xo(e.seconds,e.nanos)}(t))}function Pu(t,e){return function(t){return new ra(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ou(t){var e=ra.fromString(t);return Ho(rc(e)),e}function Mu(t,e){return Pu(t.databaseId,e.path)}function Ru(t,e){var n=Ou(e);if(n.get(1)!==t.databaseId.projectId)throw new Lo(Ro.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Lo(Ro.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ya(Vu(n))}function Lu(t,e){return Pu(t.databaseId,e)}function Fu(t){var e=Ou(t);return 4===e.length?ra.emptyPath():Vu(e)}function ju(t){return new ra(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vu(t){return Ho(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Uu(t,e,n){return{name:Mu(t,e),fields:n.toProto().mapValue.fields}}function Bu(t,e,n){var r=Ru(t,e.name),i=Du(e.updateTime),o=new Pa({mapValue:{fields:e.fields}}),a=Ma.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function zu(t,e){var n;if(e instanceof qs)n={update:Uu(t,e.key,e.value)};else if(e instanceof Qs)n={delete:Mu(t,e.key)};else if(e instanceof Hs)n={update:Uu(t,e.key,e.data),updateMask:nc(e.fieldMask)};else{if(!(e instanceof Xs))return qo();n={verify:Mu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ks)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ts)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ns)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cs)return{fieldPath:e.field.canonicalString(),increment:n.A};throw qo()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Cu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qo()}(t,e.precondition)),n}function qu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Rs.updateTime(Du(t.updateTime)):void 0!==t.exists?Rs.exists(t.exists):Rs.none()}(e.currentDocument):Rs.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Ho("REQUEST_TIME"===e.setToServerValue),n=new ks;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ts(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Ns(i)}else"increment"in e?n=new Cs(t,e.increment):qo();var o=oa.fromServerFormat(e.fieldPath);return new Os(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Ru(t,e.update.name),o=new Pa({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new aa(e.map((function(t){return oa.fromServerFormat(t)})))}(e.updateMask);return new Hs(i,o,a,n,r)}return new qs(i,o,n,r)}if(e.delete){var s=Ru(t,e.delete);return new Qs(s,n)}if(e.verify){var u=Ru(t,e.verify);return new Xs(u,n)}return qo()}function Hu(t,e){return{documents:[Lu(t,e.path)]}}function Wu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Lu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Lu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ca(t.value))return{unaryFilter:{field:Ju(t.field),op:"IS_NAN"}};if(Aa(t.value))return{unaryFilter:{field:Ju(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ca(t.value))return{unaryFilter:{field:Ju(t.field),op:"IS_NOT_NAN"}};if(Aa(t.value))return{unaryFilter:{field:Ju(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(t.field),op:Xu(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ju(t.field),direction:Qu(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||ga(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Yu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Yu(e.endAt)),n}function Ku(t){var e=Fu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ho(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Gu(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Xa(Zu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ga(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=$u(n.startAt));var l=null;return n.endAt&&(l=$u(n.endAt)),ns(e,i,s,a,u,"F",c,l)}function Gu(t){return t?void 0!==t.unaryFilter?[ec(t)]:void 0!==t.fieldFilter?[tc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Gu(t)})).reduce((function(t,e){return t.concat(e)})):qo():[]}function Yu(t){return{before:t.before,values:t.position}}function $u(t){var e=!!t.before,n=t.values||[];return new $a(n,e)}function Qu(t){return ku[t]}function Xu(t){return Tu[t]}function Ju(t){return{fieldPath:t.canonicalString()}}function Zu(t){return oa.fromServerFormat(t.fieldPath)}function tc(t){return Ua.create(Zu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qo()}}(t.fieldFilter.op),t.fieldFilter.value)}function ec(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Zu(t.unaryFilter.field);return Ua.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Zu(t.unaryFilter.field);return Ua.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zu(t.unaryFilter.field);return Ua.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zu(t.unaryFilter.field);return Ua.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qo()}}function nc(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function rc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ic(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ac(e)),e=oc(t.get(n),e);return ac(e)}function oc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ac(t){return t+"\x01\x01"}function sc(t){var e=t.length;if(Ho(e>=2),2===e)return Ho("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ra.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&qo(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:qo()}o=a+2}return new ra(r)}var uc=function(t,e){this.seconds=t,this.nanoseconds=e},cc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};cc.store="owner",cc.key="owner";var lc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};lc.store="mutationQueues",lc.keyPath="userId";var hc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};hc.store="mutations",hc.keyPath="batchId",hc.userMutationsIndex="userMutationsIndex",hc.userMutationsKeyPath=["userId","batchId"];var fc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ic(e)]},t.key=function(t,e,n){return[t,ic(e),n]},t}();fc.store="documentMutations",fc.PLACEHOLDER=new fc;var dc=function(t,e){this.path=t,this.readTime=e},pc=function(t,e){this.path=t,this.version=e},gc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};gc.store="remoteDocuments",gc.readTimeIndex="readTimeIndex",gc.readTimeIndexPath="readTime",gc.collectionReadTimeIndex="collectionReadTimeIndex",gc.collectionReadTimeIndexPath=["parentPath","readTime"];var mc=function(t){this.byteSize=t};mc.store="remoteDocumentGlobal",mc.key="remoteDocumentGlobalKey";var vc=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};vc.store="targets",vc.keyPath="targetId",vc.queryTargetsIndexName="queryTargetsIndex",vc.queryTargetsKeyPath=["canonicalId","targetId"];var yc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};yc.store="targetDocuments",yc.keyPath=["targetId","path"],yc.documentTargetsIndex="documentTargetsIndex",yc.documentTargetsKeyPath=["path","targetId"];var bc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};bc.key="targetGlobalKey",bc.store="targetGlobal";var wc=function(t,e){this.collectionId=t,this.parent=e};wc.store="collectionParents",wc.keyPath=["collectionId","parent"];var _c=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_c.store="clientMetadata",_c.keyPath="clientId";var xc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};xc.store="bundles",xc.keyPath="bundleId";var Sc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Sc.store="namedQueries",Sc.keyPath="name";var Ec=Mt(Mt([],Mt(Mt([],Mt(Mt([],Mt(Mt([],[lc.store,hc.store,fc.store,gc.store,vc.store,cc.store,bc.store,yc.store]),[_c.store])),[mc.store])),[wc.store])),[xc.store,Sc.store]),kc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Tc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Ic=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Nc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&qo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Ac=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ic,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Pc(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Fc(e.target.error);n.ft.reject(new Pc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Pc(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Vo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Mc(e)},t}(),Cc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Vt())&&Uo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Vo("SimpleDb","Removing database:",t),Rc(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Vt(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",PUBLIC_URL:"/NBA-Betting-App",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BBALL:"AIzaSyBgy_O0YFw0iEwjHz1B5VKMnRT9JNREZZ0",REACT_APP_NBA:"54f4d5f069mshbf4e5665eadf8e2p1511d3jsn946d219e635b"})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Ct(this,void 0,void 0,(function(){var e,n=this;return Dt(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Vo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Pc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Lo(Ro.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Pc(t,n))},i.onupgradeneeded=function(t){Vo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Vo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ct(this,void 0,void 0,(function(){var i,o,a,s,u;return Dt(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Dt(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=Ac.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Nc.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Vo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Dc=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Rc(this.Pt.delete())},t}(),Pc=function(t){function e(e,n){var r=this;return(r=t.call(this,Ro.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Nt(e,t),e}(Lo);function Oc(t){return"IndexedDbTransactionError"===t.name}var Mc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Vo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Vo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Rc(n)},t.prototype.add=function(t){return Vo("SimpleDb","ADD",this.store.name,t,t),Rc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Rc(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Vo("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Vo("SimpleDb","DELETE",this.store.name,t),Rc(this.store.delete(t))},t.prototype.count=function(){return Vo("SimpleDb","COUNT",this.store.name),Rc(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Vo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Nc((function(n,r){e.onerror=function(t){var e=Fc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Nc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Dc(i),a=e(i.primaryKey,i.value,o);if(a instanceof Nc){var s=a.catch((function(t){return o.done(),Nc.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Nc.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Rc(t){return new Nc((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Fc(t.target.error);n(e)}}))}var Lc=!1;function Fc(t){var e=Cc._t(Vt());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Lo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Lc||(Lc=!0,setTimeout((function(){throw r}),0)),r}}return t}var jc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Nt(e,t),e}(Tc);function Vc(t,e){var n=Wo(t);return Cc.It(n.Mt,e)}var Uc=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&js(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Vs(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Vs(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Jo.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),du())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$o(this.mutations,t.mutations,(function(t,e){return Bs(t,e)}))&&$o(this.baseMutations,t.baseMutations,(function(t,e){return Bs(t,e)}))},t}(),Bc=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ho(e.mutations.length===r.length);for(var i=hu(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),zc=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Jo.min()),void 0===o&&(o=Jo.min()),void 0===a&&(a=sa.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),qc=function(t){this.Lt=t};function Hc(t,e){if(e.document)return Bu(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ya.fromSegments(e.noDocument.path),r=$c(e.noDocument.readTime),i=Ma.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ya.fromSegments(e.unknownDocument.path);return r=$c(e.unknownDocument.version),Ma.newUnknownDocument(o,r)}return qo()}function Wc(t,e,n){var r=Kc(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Mu(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Nu(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new gc(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Yc(e.version);return a=e.hasCommittedMutations,new gc(null,new dc(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Yc(e.version);return new gc(new pc(c,l),null,null,!0,r,i)}return qo()}function Kc(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Gc(t){var e=new Xo(t[0],t[1]);return Jo.fromTimestamp(e)}function Yc(t){var e=t.toTimestamp();return new uc(e.seconds,e.nanoseconds)}function $c(t){var e=new Xo(t.seconds,t.nanoseconds);return Jo.fromTimestamp(e)}function Qc(t,e){for(var n=(e.baseMutations||[]).map((function(e){return qu(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return qu(t.Lt,e)})),s=Xo.fromMillis(e.localWriteTimeMs);return new Uc(e.batchId,s,n,a)}function Xc(t){var e,n,r=$c(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?$c(t.lastLimboFreeSnapshotVersion):Jo.min();return void 0!==t.query.documents?(Ho(1===(n=t.query).documents.length),e=ls(rs(Fu(n.documents[0])))):e=function(t){return ls(Ku(t))}(t.query),new zc(e,t.targetId,0,t.lastListenSequenceNumber,r,i,sa.fromBase64String(t.resumeToken))}function Jc(t,e){var n,r=Yc(e.snapshotVersion),i=Yc(e.lastLimboFreeSnapshotVersion);n=Va(e.target)?Hu(t.Lt,e.target):Wu(t.Lt,e.target);var o=e.resumeToken.toBase64();return new vc(e.targetId,Fa(e.target),r,o,e.sequenceNumber,i,n)}function Zc(t){var e=Ku({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?hs(e,e.limit,"L"):e}var tl=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return el(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:$c(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return el(t).put({bundleId:(n=e).id,createTime:Yc(Du(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return nl(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Zc(e.bundledQuery),readTime:$c(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return nl(t).put(function(t){return{name:t.name,readTime:Yc(Du(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function el(t){return Vc(t,xc.store)}function nl(t){return Vc(t,Sc.store)}var rl=function(){function t(){this.Bt=new il}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Nc.resolve()},t.prototype.getCollectionParents=function(t,e){return Nc.resolve(this.Bt.getEntries(e))},t}(),il=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new iu(ra.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new iu(ra.comparator)).toArray()},t}(),ol=function(){function t(){this.qt=new il}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:ic(i)};return al(t).put(o)}return Nc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Qo(e),""],!1,!0);return al(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(sc(o.parent))}return n}))},t}();function al(t){return Vc(t,wc.store)}var sl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ul=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function cl(t,e,n){var r=t.store(hc.store),i=t.store(fc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Ho(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=fc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Nc.waitFor(o).next((function(){return c}))}function ll(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw qo();e=t.noDocument}return JSON.stringify(e).length}ul.DEFAULT_COLLECTION_PERCENTILE=10,ul.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ul.DEFAULT=new ul(41943040,ul.DEFAULT_COLLECTION_PERCENTILE,ul.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ul.DISABLED=new ul(-1,0,0);var hl=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Ho(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dl(t).Ot({index:hc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=pl(t),a=dl(t);return a.add({}).next((function(s){Ho("number"==typeof s);for(var u=new Uc(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return zu(t.Lt,e)})),i=n.mutations.map((function(e){return zu(t.Lt,e)}));return new hc(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new iu((function(t,e){return Yo(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=fc.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,fc.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Nc.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return dl(t).get(e).next((function(t){return t?(Ho(t.userId===n.userId),Qc(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Nc.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return dl(t).Ot({index:hc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ho(e.batchId>=r),o=Qc(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dl(t).Ot({index:hc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dl(t).Nt(hc.userMutationsIndex,n).next((function(t){return t.map((function(t){return Qc(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=fc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return pl(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=sc(u);if(s===n.userId&&e.path.isEqual(l))return dl(t).get(c).next((function(t){if(!t)throw qo();Ho(t.userId===n.userId),o.push(Qc(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new iu(Yo),i=[];return e.forEach((function(e){var o=fc.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=pl(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=sc(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Nc.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=fc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new iu(Yo);return pl(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=sc(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(dl(t).get(e).next((function(t){if(null===t)throw qo();Ho(t.userId===n.userId),r.push(Qc(n.R,t))})))})),Nc.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return cl(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Nc.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Nc.resolve();var r=IDBKeyRange.lowerBound(fc.prefixForUser(e.userId)),i=[];return pl(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=sc(t[1]);i.push(o)}else r.done()})).next((function(){Ho(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return fl(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return gl(t).get(this.userId).next((function(t){return t||new lc(e.userId,-1,"")}))},t}();function fl(t,e,n){var r=fc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return pl(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function dl(t){return Vc(t,hc.store)}function pl(t){return Vc(t,fc.store)}function gl(t){return Vc(t,lc.store)}var ml=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),vl=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new ml(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Jo.fromTimestamp(new Xo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return yl(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Ho(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return yl(t).Ot((function(a,s){var u=Xc(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Nc.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return yl(t).Ot((function(t,n){var r=Xc(n);e(r)}))},t.prototype.Xt=function(t){return bl(t).get(bc.key).next((function(t){return Ho(null!==t),t}))},t.prototype.Zt=function(t,e){return bl(t).put(bc.key,e)},t.prototype.te=function(t,e){return yl(t).put(Jc(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Fa(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return yl(t).Ot({range:r,index:vc.queryTargetsIndexName},(function(t,n,r){var o=Xc(n);ja(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=wl(t);return e.forEach((function(e){var a=ic(e.path);i.push(o.put(new yc(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Nc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=wl(t);return Nc.forEach(e,(function(e){var o=ic(e.path);return Nc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=wl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=wl(t),i=du();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=sc(t[1]),o=new ya(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=ic(e.path),r=IDBKeyRange.bound([n],[Qo(n)],!1,!0),i=0;return wl(t).Ot({index:yc.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return yl(t).get(e).next((function(t){return t?Xc(t):null}))},t}();function yl(t){return Vc(t,vc.store)}function bl(t){return Vc(t,bc.store)}function wl(t){return Vc(t,yc.store)}function _l(t){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(e){if(t.code!==Ro.FAILED_PRECONDITION||t.message!==kc)throw t;return Vo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function xl(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Yo(n,i);return 0===a?Yo(r,o):a}var Sl=function(){function t(t){this.ne=t,this.buffer=new iu(xl),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();xl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),El=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Vo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ct(e,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Oc(e=n.sent())?(Vo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,_l(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),kl=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Nc.resolve(Mo.o);var r=new Sl(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vo("LruGarbageCollector","Garbage collection skipped; disabled"),Nc.resolve(sl)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Vo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),sl):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Vo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),jo()<=ee.DEBUG&&Vo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Nc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Tl=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new kl(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Il(t,n)},t.prototype.removeReference=function(t,e,n){return Il(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Il(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return gl(t).$t((function(r){return fl(t,r,e).next((function(t){return t&&(n=!0),Nc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),wl(t).delete([0,ic(a.path)])}))}));i.push(u)}})).next((function(){return Nc.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Il(t,e)},t.prototype.we=function(t,e){var n,r=wl(t),i=Mo.o;return r.Ot({index:yc.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Mo.o&&e(new ya(sc(n)),i),i=s,n=a):i=Mo.o})).next((function(){i!==Mo.o&&e(new ya(sc(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Il(t,e){return wl(t).put(function(t,e){return new yc(0,ic(t.path),e)}(e,t.currentSequenceNumber))}var Nl=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ta(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return ea(this.inner)},t}(),Al=function(){function t(){this.changes=new Nl((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Jo.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ma.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Nc.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Cl=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ol(t).put(Ml(e),n)},t.prototype.removeEntry=function(t,e){var n=Ol(t),r=Ml(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Ol(t).get(Ml(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Ol(t).get(Ml(e)).next((function(t){return{document:n.ye(e,t),size:ll(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=su();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=su(),i=new eu(ya.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,ll(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Nc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ol(t).Ot({range:r},(function(t,e,r){for(var a=ya.fromSegments(t);o&&ya.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=su(),o=e.path.length+1,a={};if(n.isEqual(Jo.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Kc(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=gc.collectionReadTimeIndex}return Ol(t).Ot(a,(function(t,n,a){if(t.length===o){var s=Hc(r.R,n);e.path.isPrefixOf(s.key.path)?gs(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Dl(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Pl(t).get(mc.key).next((function(t){return Ho(!!t),t}))},t.prototype.me=function(t,e){return Pl(t).put(mc.key,e)},t.prototype.ye=function(t,e){if(e){var n=Hc(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Jo.min()))return n}return Ma.newInvalidDocument(t)},t}(),Dl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Nl((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Nt(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new iu((function(t,e){return Yo(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Wc(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=ll(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Wc(e.Ie.R,Ma.newNoDocument(o,Jo.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Nc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Al);function Pl(t){return Vc(t,mc.store)}function Ol(t){return Vc(t,gc.store)}function Ml(t){return t.path.toArray()}var Rl=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Ho(n<r&&n>=0&&r<=11);var o=new Ac("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(cc.store)}(t),function(t){t.createObjectStore(lc.store,{keyPath:lc.keyPath}),t.createObjectStore(hc.store,{keyPath:hc.keyPath,autoIncrement:!0}).createIndex(hc.userMutationsIndex,hc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fc.store)}(t),Ll(t),function(t){t.createObjectStore(gc.store)}(t));var a=Nc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(yc.store),t.deleteObjectStore(vc.store),t.deleteObjectStore(bc.store)}(t),Ll(t)),a=a.next((function(){return function(t){var e=t.store(bc.store),n=new bc(0,0,Jo.min().toTimestamp(),0);return e.put(bc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(hc.store).Nt().next((function(n){t.deleteObjectStore(hc.store),t.createObjectStore(hc.store,{keyPath:hc.keyPath,autoIncrement:!0}).createIndex(hc.userMutationsIndex,hc.userMutationsKeyPath,{unique:!0});var r=e.store(hc.store),i=n.map((function(t){return r.put(t)}));return Nc.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(_c.store,{keyPath:_c.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(mc.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(gc.store);e.createIndex(gc.readTimeIndex,gc.readTimeIndexPath,{unique:!1}),e.createIndex(gc.collectionReadTimeIndex,gc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(xc.store,{keyPath:xc.keyPath})}(t),function(t){t.createObjectStore(Sc.store,{keyPath:Sc.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(gc.store).Ot((function(t,n){e+=ll(n)})).next((function(){var n=new mc(e);return t.store(mc.store).put(mc.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(lc.store),r=t.store(hc.store);return n.Nt().next((function(n){return Nc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(hc.userMutationsIndex,i).next((function(r){return Nc.forEach(r,(function(r){Ho(r.userId===n.userId);var i=Qc(e.R,r);return cl(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(yc.store),n=t.store(gc.store);return t.store(bc.store).get(bc.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new ra(n),a=function(t){return[0,ic(t)]}(o);r.push(e.get(a).next((function(n){return n?Nc.resolve():function(n){return e.put(new yc(0,ic(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Nc.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(wc.store,{keyPath:wc.keyPath});var n=e.store(wc.store),r=new il,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ic(i)})}};return e.store(gc.store).Ot({kt:!0},(function(t,e){var n=new ra(t);return i(n.popLast())})).next((function(){return e.store(fc.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],sc(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(vc.store);return n.Ot((function(t,r){var i=Xc(r),o=Jc(e.R,i);return n.put(o)}))},t}();function Ll(t){t.createObjectStore(yc.store,{keyPath:yc.keyPath}).createIndex(yc.documentTargetsIndex,yc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(vc.store,{keyPath:vc.keyPath}).createIndex(vc.queryTargetsIndexName,vc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(bc.store)}var Fl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jl=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Lo(Ro.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tl(this,i),this.Le=n+"main",this.R=new qc(u),this.Be=new Cc(this.Le,11,new Rl(this.R)),this.qe=new vl(this.referenceDelegate,this.R),this.Ut=new ol,this.Ue=function(t,e){return new Cl(t,e)}(this.R,this.Ut),this.Qe=new tl,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Uo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Lo(Ro.FAILED_PRECONDITION,Fl);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Mo(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Ct(e,void 0,void 0,(function(){return Dt(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Ct(e,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Ct(e,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ul(e).put(new _c(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Oc(e))return Vo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Vo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Vl(t).get(cc.key).next((function(t){return Nc.resolve(e.tn(t))}))},t.prototype.en=function(t){return Ul(t).delete(this.clientId)},t.prototype.nn=function(){return Ct(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Dt(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Vc(t,_c.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Nc.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Nc.resolve(!0):Vl(t).get(cc.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Lo(Ro.FAILED_PRECONDITION,Fl);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ul(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Vo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Ct(this,void 0,void 0,(function(){var t=this;return Dt(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[cc.store,_c.store],(function(e){var n=new jc(e,Mo.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ul(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return hl.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Vo("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Ec,(function(o){return i=new jc(o,r.Ne?r.Ne.next():Mo.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Uo("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Lo(Ro.FAILED_PRECONDITION,kc);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Vl(t).get(cc.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Lo(Ro.FAILED_PRECONDITION,Fl)}))},t.prototype.Ze=function(t){var e=new cc(this.clientId,this.allowTabSynchronization,Date.now());return Vl(t).put(cc.key,e)},t.yt=function(){return Cc.yt()},t.prototype.Xe=function(t){var e=this,n=Vl(t);return n.get(cc.key).next((function(t){return e.tn(t)?(Vo("IndexedDbPersistence","Releasing primary lease."),n.delete(cc.key)):Nc.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Uo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Vo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Uo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Uo("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Vl(t){return Vc(t,cc.store)}function Ul(t){return Vc(t,_c.store)}function Bl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var zl=function(t,e){this.progress=t,this.wn=e},ql=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ya.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):us(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ya(e)).next((function(t){var e=cu();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=cu();return this.Ut.getCollectionParents(t,i).next((function(a){return Nc.forEach(a,(function(a){var s=function(t,e){return new es(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ma.newInvalidDocument(c),r=r.insert(c,l)),Vs(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){gs(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=du(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Hs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Hl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=du(),i=du(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Wl=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Jo.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(is(e)||os(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(jo()<=ee.DEBUG&&Vo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ps(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new iu(ms(t));return e.forEach((function(e,r){gs(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return jo()<=ee.DEBUG&&Vo("QueryEngine","Using full collection scan to execute query:",ps(e)),this.Sn.getDocumentsMatchingQuery(t,e,Jo.min())},t}(),Kl=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new eu(Yo),this.kn=new Nl((function(t){return Fa(t)}),ja),this.On=Jo.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ql(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Gl(t,e,n,r){return new Kl(t,e,n,r)}function Yl(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o;return Dt(this,(function(a){switch(a.label){case 0:return n=Wo(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new ql(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=du(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var m=0,v=g.mutations;m<v.length;m++){var y=v[m];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function $l(t,e){var n=Wo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Nc.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Ho(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Ql(t){var e=Wo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Xl(t,e){var n=Wo(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Ho(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=su();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Jl(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Jo.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Nc.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Jl(t,e,n,r,i){var o=du();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=su();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Jo.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Vo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Zl(t,e){var n=Wo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function th(t,e){var n=Wo(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Nc.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new zc(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function eh(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i,o,a;return Dt(this,(function(s){switch(s.label){case 0:r=Wo(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Oc(a=s.sent()))throw a;return Vo("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function nh(t,e,n){var r=Wo(t),i=Jo.min(),o=du();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Wo(t),i=r.kn.get(n);return void 0!==i?Nc.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ls(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Jo.min(),n?o:du())})).next((function(t){return{documents:t,Bn:o}}))}))}function rh(t,e){var n=Wo(t),r=Wo(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function ih(t){var e=Wo(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Wo(t),i=su(),o=Kc(n),a=Ol(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:gc.readTimeIndex,range:s},(function(t,e){var n=Hc(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Gc(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function oh(t){return Ct(this,void 0,void 0,(function(){var e;return Dt(this,(function(n){return[2,(e=Wo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ol(t),n=Jo.min();return e.Ot({index:gc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Gc(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function ah(t,e,n,r){return Ct(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Dt(this,(function(p){switch(p.label){case 0:for(i=Wo(t),o=du(),a=su(),s=hu(),u=0,c=n;u<c.length;u++)l=c[u],h=e.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,th(i,function(t){return ls(rs(ra.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Jl(t,f,a,Jo.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function sh(t,e,n){return void 0===n&&(n=du()),Ct(this,void 0,void 0,(function(){var r,i;return Dt(this,(function(o){switch(o.label){case 0:return[4,th(t,ls(Zc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Wo(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Du(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(sa.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var uh=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Nc.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Du(n.createTime)}),Nc.resolve()},t.prototype.getNamedQuery=function(t,e){return Nc.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Zc(t.bundledQuery),readTime:Du(t.readTime)}}(e)),Nc.resolve()},t}(),ch=function(){function t(){this.Wn=new iu(lh.Gn),this.zn=new iu(lh.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new lh(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new lh(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ya(new ra([])),r=new lh(n,t),i=new lh(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ya(new ra([])),n=new lh(e,t),r=new lh(e,t+1),i=du();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new lh(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),lh=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ya.comparator(t.key,e.key)||Yo(t.ns,e.ns)},t.Hn=function(t,e){return Yo(t.ns,e.ns)||ya.comparator(t.key,e.key)},t}(),hh=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new iu(lh.Gn)}return t.prototype.checkEmpty=function(t){return Nc.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Uc(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new lh(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Nc.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Nc.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Nc.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Nc.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Nc.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new lh(e,0),i=new lh(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Nc.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new iu(Yo);return e.forEach((function(t){var e=new lh(t,0),i=new lh(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Nc.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ya.isDocumentKey(i)||(i=i.child(""));var o=new lh(new ya(i),0),a=new iu(Yo);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Nc.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ho(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Nc.forEach(e.mutations,(function(i){var o=new lh(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new lh(e,0),r=this.rs.firstAfterOrEqual(n);return Nc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Nc.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),fh=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new eu(ya.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Nc.resolve(n?n.document.clone():Ma.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=su();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ma.newInvalidDocument(t))})),Nc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=su(),i=new ya(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||gs(e,c)&&(r=r.insert(c.key,c.clone()))}return Nc.resolve(r)},t.prototype.fs=function(t,e){return Nc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new dh(this)},t.prototype.getSize=function(t){return Nc.resolve(this.size)},t}(),dh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Nt(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Nc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Al),ph=function(){function t(t){this.persistence=t,this.ds=new Nl((function(t){return Fa(t)}),ja),this.lastRemoteSnapshotVersion=Jo.min(),this.highestTargetId=0,this.ws=0,this._s=new ch,this.targetCount=0,this.ys=ml.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Nc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Nc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Nc.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Nc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Nc.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ml(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Nc.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Nc.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Nc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Nc.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Nc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Nc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Nc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Nc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Nc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Nc.resolve(n)},t.prototype.containsKey=function(t,e){return Nc.resolve(this._s.containsKey(e))},t}(),gh=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Mo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ph(this),this.Ut=new rl,this.Ue=function(t,e){return new fh(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new qc(e),this.Qe=new uh(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new hh(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Vo("MemoryPersistence","Starting transaction:",t);var i=new mh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Nc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),mh=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Nt(e,t),e}(Tc),vh=function(){function t(t){this.persistence=t,this.As=new ch,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw qo()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Nc.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Nc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Nc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nc.forEach(this.vs,(function(r){var i=ya.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Nc.or([function(){return Nc.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),yh=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function bh(t,e){return"firestore_clients_"+t+"_"+e}function wh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function _h(t,e){return"firestore_targets_"+t+"_"+e}yh.UNAUTHENTICATED=new yh(null),yh.GOOGLE_CREDENTIALS=new yh("google-credentials-uid"),yh.FIRST_PARTY=new yh("first-party-uid");var xh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Lo(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Uo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lo(i.error.code,i.error.message)),o?new t(e,i.state,r):(Uo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Eh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=gu(),a=0;i&&a<r.activeTargetIds.length;++a)i=va(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Uo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),kh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Uo("SharedClientState","Failed to parse online state: "+e),null)},t}(),Th=function(){function t(){this.activeTargetIds=gu()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ih=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new eu(Yo),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=bh(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Th),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ct(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return Dt(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(bh(this.persistenceKey,r)))&&(o=Eh.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(_h(this.persistenceKey,t));if(n){var r=Sh.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(_h(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Vo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Vo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Vo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Vo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Uo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ct(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Dt(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Mo.o;if(null!=t)try{var n=JSON.parse(t);Ho("number"==typeof n),e=n}catch(t){Uo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Mo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new xh(this.currentUser,t,e,n),i=wh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=wh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=_h(this.persistenceKey,t),i=new Sh(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Eh.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return xh.Vs(new yh(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Sh.Vs(r,e)},t.prototype.js=function(t){return kh.Vs(t)},t.prototype.ii=function(t){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Vo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=gu();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Nh=function(){function t(){this.li=new Th,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Th,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ah=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Ch=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Vo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Vo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Dh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ph=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Oh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Nt(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new Oo;a.listenOnce(Ao.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case No.NO_ERROR:var e=a.getResponseJson();Vo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case No.TIMEOUT:Vo("Connection",'RPC "'+t+'" timed out'),o(new Lo(Ro.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:var n=a.getStatus();if(Vo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ro).indexOf(e)>=0?e:Ro.UNKNOWN}(r.status);o(new Lo(s,r.message))}else o(new Lo(Ro.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Lo(Ro.UNAVAILABLE,"Connection failed."));break;default:qo()}}finally{Vo("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=To(),i=Io(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())||"object"===typeof navigator&&"ReactNative"===navigator.product||Vt().indexOf("Electron/")>=0||function(){var t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Vt().indexOf("MSAppHost/")>=0||function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Vo("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Ph({Ei:function(t){c?Vo("Connection","Not sending because WebChannel is closed:",t):(u||(Vo("Connection","Opening WebChannel transport."),s.open(),u=!0),Vo("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,Po.EventType.OPEN,(function(){c||Vo("Connection","WebChannel transport opened.")})),h(s,Po.EventType.CLOSE,(function(){c||(c=!0,Vo("Connection","WebChannel transport closed"),l.Vi())})),h(s,Po.EventType.ERROR,(function(t){c||(c=!0,Bo("Connection","WebChannel transport errored:",t),l.Vi(new Lo(Ro.UNAVAILABLE,"The operation could not be completed")))})),h(s,Po.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ho(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Vo("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Ys[t];if(void 0!==e)return tu(e)}(o),u=i.message;void 0===a&&(a=Ro.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Lo(a,u)),s.close()}else Vo("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Co.STAT_EVENT,(function(t){t.stat===Do.PROXY?Vo("Connection","Detected buffering proxy"):t.stat===Do.NOPROXY&&Vo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Vo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Vo("RestConnection","Received: ",t),t}),(function(e){throw Bo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Dh[t];return this.Di+"/v1/"+e+":"+n},t}());function Mh(){return"undefined"!=typeof window?window:null}function Rh(){return"undefined"!=typeof document?document:null}function Lh(t){return new Iu(t,!0)}var Fh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Vo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),jh=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Fh(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ro.RESOURCE_EXHAUSTED?(Uo(e.toString()),Uo("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Ro.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Lo(Ro.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Ct(t,void 0,void 0,(function(){return Dt(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Vo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Vo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Vh=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Nt(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:qo()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Ho(void 0===e||"string"==typeof e),sa.fromBase64String(e||"")):(Ho(void 0===e||e instanceof Uint8Array),sa.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ro.UNKNOWN:tu(t.code);return new Lo(e,t.message||"")}(s);n=new wu(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Ru(t,r.document.name),o=Du(r.document.updateTime);var s=new Pa({mapValue:{fields:r.document.fields}}),u=(a=Ma.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new yu(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Ru(t,r.document),o=r.readTime?Du(r.readTime):Jo.min(),s=Ma.newNoDocument(i,o),a=r.removedTargetIds||[],n=new yu([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Ru(t,r.document),o=r.removedTargetIds||[],n=new yu([],o,i,null);else{if(!("filter"in e))return qo();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Js(r),o=l.targetId,n=new bu(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Jo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Jo.min():e.readTime?Du(e.readTime):Jo.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ju(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Va(r)?{documents:Hu(t,r)}:{query:Wu(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Au(t,e.resumeToken):e.snapshotVersion.compareTo(Jo.min())>0&&(n.readTime=Nu(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qo()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ju(this.R),e.removeTarget=t,this.cr(e)},e}(jh),Uh=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Nt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Ho(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Ho(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Du(t.updateTime):Du(e);return n.isEqual(Jo.min())&&(n=Du(e)),new Ms(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Du(t.commitTime);return this.listener.Tr(n,e)}return Ho(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ju(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return zu(e.R,t)}))};this.cr(n)},e}(jh),Bh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Nt(e,t),e.prototype.br=function(){if(this.Rr)throw new Lo(Ro.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ro.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Lo(Ro.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ro.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Lo(Ro.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),zh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Uo(e),this.Vr=!1):Vo("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),qh=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Ct(o,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return Jh(this)?(Vo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ct(this,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return(e=Wo(t)).$r.add(4),[4,Wh(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Hh(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new zh(n,r)};function Hh(t){return Ct(this,void 0,void 0,(function(){var e,n;return Dt(this,(function(r){switch(r.label){case 0:if(!Jh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Wh(t){return Ct(this,void 0,void 0,(function(){var e,n;return Dt(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Kh(t,e){var n=Wo(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Xh(n)?Qh(n):pf(n).er()&&Yh(n,e))}function Gh(t,e){var n=Wo(t),r=pf(n);n.Or.delete(e),r.er()&&$h(n,e),0===n.Or.size&&(r.er()?r.ir():Jh(n)&&n.Br.set("Unknown"))}function Yh(t,e){t.qr.U(e.targetId),pf(t).mr(e)}function $h(t,e){t.qr.U(e),pf(t).yr(e)}function Qh(t){t.qr=new xu({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),pf(t).start(),t.Br.Sr()}function Xh(t){return Jh(t)&&!pf(t).tr()&&t.Or.size>0}function Jh(t){return 0===Wo(t).$r.size}function Zh(t){t.qr=void 0}function tf(t){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(e){return t.Or.forEach((function(e,n){Yh(t,e)})),[2]}))}))}function ef(t,e){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(n){return Zh(t),Xh(t)?(t.Br.Nr(e),Qh(t)):t.Br.set("Unknown"),[2]}))}))}function nf(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i,o;return Dt(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof wu&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o;return Dt(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Vo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,rf(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof yu?t.qr.X(e):e instanceof bu?t.qr.rt(e):t.qr.et(e),n.isEqual(Jo.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ql(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(sa.EMPTY_BYTE_STRING,n.snapshotVersion)),$h(t,e);var r=new zc(n.target,e,1,n.sequenceNumber);Yh(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Vo("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,rf(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function rf(t,e,n){return Ct(this,void 0,void 0,(function(){var r=this;return Dt(this,(function(i){switch(i.label){case 0:if(!Oc(e))throw e;return t.$r.add(1),[4,Wh(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Ql(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Ct(r,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return Vo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Hh(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function of(t,e){return e().catch((function(n){return rf(t,n,e)}))}function af(t){return Ct(this,void 0,void 0,(function(){var e,n,r,i,o;return Dt(this,(function(a){switch(a.label){case 0:e=Wo(t),n=gf(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Jh(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Zl(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=gf(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,rf(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return sf(e)&&uf(e),[2]}}))}))}function sf(t){return Jh(t)&&!gf(t).tr()&&t.kr.length>0}function uf(t){gf(t).start()}function cf(t){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(e){return gf(t).Ar(),[2]}))}))}function lf(t){return Ct(this,void 0,void 0,(function(){var e,n,r,i;return Dt(this,(function(o){for(e=gf(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function hf(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i;return Dt(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Bc.from(r,e,n),[4,of(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,af(t)];case 2:return o.sent(),[2]}}))}))}function ff(t,e){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return e&&gf(t).pr?[4,function(t,e){return Ct(this,void 0,void 0,(function(){var n,r;return Dt(this,(function(i){switch(i.label){case 0:return Zs(r=e.code)&&r!==Ro.ABORTED?(n=t.kr.shift(),gf(t).sr(),[4,of(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,af(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sf(t)&&uf(t),[2]}}))}))}function df(t,e){return Ct(this,void 0,void 0,(function(){var n;return Dt(this,(function(r){switch(r.label){case 0:return n=Wo(t),e?(n.$r.delete(2),[4,Hh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Wh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function pf(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Wo(t);return r.br(),new Vh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:tf.bind(null,t),Ri:ef.bind(null,t),_r:nf.bind(null,t)}),t.Mr.push((function(n){return Ct(e,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Xh(t)?Qh(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Zh(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function gf(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Wo(t);return r.br(),new Uh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:cf.bind(null,t),Ri:ff.bind(null,t),Ir:lf.bind(null,t),Tr:hf.bind(null,t)}),t.Mr.push((function(n){return Ct(e,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,af(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Vo("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var mf=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ic,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lo(Ro.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function vf(t,e){if(Uo("AsyncQueue",e+": "+t),Oc(t))return new Lo(Ro.UNAVAILABLE,e+": "+t);throw t}var yf=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ya.comparator(e.key,n.key)}:function(t,e){return ya.comparator(t.key,e.key)},this.keyedMap=cu(),this.sortedSet=new eu(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),bf=function(){function t(){this.Kr=new eu(ya.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):qo():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),wf=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,yf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),_f=function(){this.Wr=void 0,this.listeners=[]},xf=function(){this.queries=new Nl((function(t){return ds(t)}),fs),this.onlineState="Unknown",this.Gr=new Set};function Sf(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Dt(this,(function(c){switch(c.label){case 0:if(n=Wo(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new _f),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=vf(s,"Initialization of query '"+ps(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&If(n),[2]}}))}))}function Ef(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o,a;return Dt(this,(function(s){return n=Wo(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function kf(t,e){for(var n=Wo(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&If(n)}function Tf(t,e,n){var r=Wo(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function If(t){t.Gr.forEach((function(t){t.next()}))}var Nf=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new wf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=wf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Af=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Cf=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ru(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Bu(this.R,t.document,!1):Ma.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Du(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Df(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Cf(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||du()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Ct(this,void 0,void 0,(function(){var t,e,n,r,i;return Dt(this,(function(o){switch(o.label){case 0:return[4,ah(this.localStore,new Cf(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,sh(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new zl(Object.assign({},this.progress),t))]}}))}))}}();function Df(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Pf=function(t){this.key=t},Of=function(t){this.key=t},Mf=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=du(),this.mutatedKeys=du(),this.lo=ms(t),this.fo=new yf(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new bf,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=is(this.query)&&i.size===this.query.limit?i.last():null,c=os(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=gs(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),is(this.query)||os(this.query))for(;a.size>this.query.limit;){var l=is(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qo()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new wf(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new bf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=du(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Of(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Pf(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=du();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return wf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Rf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Lf=function(t){this.key=t,this.bo=!1},Ff=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Nl((function(t){return ds(t)}),fs),this.Vo=new Map,this.So=new Set,this.Do=new eu(ya.comparator),this.Co=new Map,this.No=new ch,this.xo={},this.Fo=new Map,this.ko=ml.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function jf(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dt(this,(function(u){switch(u.label){case 0:return n=dd(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,th(n.localStore,ls(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Vf(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Kh(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Vf(t,e,n,r){return Ct(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Dt(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Ct(this,void 0,void 0,(function(){var i,o,a;return Dt(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,nh(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Jf(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,nh(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Mf(e,i.Bn),a=o._o(i.documents),s=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Jf(t,n,u.To),c=new Rf(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Uf(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i;return Dt(this,(function(o){switch(o.label){case 0:return n=Wo(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!fs(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,eh(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Gh(n.remoteStore,r.targetId),Qf(n,r.targetId)})).catch(_l)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Qf(n,r.targetId),[4,eh(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Bf(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i,o,a;return Dt(this,(function(s){switch(s.label){case 0:r=pd(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Wo(t),i=Xo.now(),o=e.reduce((function(t,e){return t.add(e.key)}),du());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Us(c,n.get(c.key));null!=l&&a.push(new Hs(c.key,l,Oa(l.toProto().mapValue),Rs.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new eu(Yo)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,ed(r,i.changes)];case 3:return s.sent(),[4,af(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=vf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function zf(t,e){return Ct(this,void 0,void 0,(function(){var n,r;return Dt(this,(function(i){switch(i.label){case 0:n=Wo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Xl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Ho(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Ho(r.bo):t.removedDocuments.size>0&&(Ho(r.bo),r.bo=!1))})),[4,ed(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,_l(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function qf(t,e,n){var r=Wo(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Wo(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&If(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hf(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Dt(this,(function(c){switch(c.label){case 0:return(r=Wo(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new eu(ya.comparator)).insert(o,Ma.newNoDocument(o,Jo.min())),s=du().add(o),u=new mu(Jo.min(),new Map,new iu(Yo),a,s),[4,zf(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),td(r),[3,4];case 2:return[4,eh(r.localStore,e,!1).then((function(){return Qf(r,e,n)})).catch(_l)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Wf(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i;return Dt(this,(function(o){switch(o.label){case 0:n=Wo(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,$l(n.localStore,e)];case 2:return i=o.sent(),$f(n,r,null),Yf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ed(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,_l(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Kf(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i;return Dt(this,(function(o){switch(o.label){case 0:r=Wo(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Wo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Ho(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),$f(r,e,n),Yf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ed(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,_l(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Gf(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o,a;return Dt(this,(function(s){switch(s.label){case 0:Jh((n=Wo(t)).remoteStore)||Vo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Wo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=vf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Yf(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function $f(t,e,n){var r=Wo(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Qf(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Xf(t,e)}))}function Xf(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Gh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),td(t))}function Jf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Pf?(t.No.addReference(o.key,e),Zf(t,o)):o instanceof Of?(Vo("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Xf(t,o.key)):qo()}}function Zf(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Vo("SyncEngine","New document in limbo: "+n),t.So.add(r),td(t))}function td(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ya(ra.fromString(e)),r=t.ko.next();t.Co.set(r,new Lf(n)),t.Do=t.Do.insert(n,r),Kh(t.remoteStore,new zc(ls(rs(n.path)),r,2,Mo.o))}}function ed(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i,o,a;return Dt(this,(function(s){switch(s.label){case 0:return r=Wo(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Hl.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Dt(this,(function(h){switch(h.label){case 0:n=Wo(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Nc.forEach(e,(function(e){return Nc.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Nc.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Oc(r=h.sent()))throw r;return Vo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function nd(t,e){return Ct(this,void 0,void 0,(function(){var n,r;return Dt(this,(function(i){switch(i.label){case 0:return(n=Wo(t)).currentUser.isEqual(e)?[3,3]:(Vo("SyncEngine","User change. New user:",e.toKey()),[4,Yl(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Lo(Ro.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ed(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function rd(t,e){var n=Wo(t),r=n.Co.get(e);if(r&&r.bo)return du().add(r.key);var i=du(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function id(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i;return Dt(this,(function(o){switch(o.label){case 0:return[4,nh((n=Wo(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Jf(n,e.targetId,i.To),i)]}}))}))}function od(t){return Ct(this,void 0,void 0,(function(){var e;return Dt(this,(function(n){return[2,ih((e=Wo(t)).localStore).then((function(t){return ed(e,t)}))]}))}))}function ad(t,e,n,r){return Ct(this,void 0,void 0,(function(){var i,o;return Dt(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Wo(t),r=Wo(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Nc.resolve(null)}))}))}((i=Wo(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,af(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?($f(i,e,r||null),Yf(i,e),function(t,e){Wo(Wo(t)._n).Gt(e)}(i.localStore,e)):qo(),a.label=4;case 4:return[4,ed(i,o)];case 5:return a.sent(),[3,7];case 6:Vo("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function sd(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Dt(this,(function(l){switch(l.label){case 0:return dd(n=Wo(t)),pd(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ud(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,df(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Kh(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Qf(n,e),eh(n.localStore,e,!0)})),Gh(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,ud(n,u)];case 5:return l.sent(),function(t){var e=Wo(t);e.Co.forEach((function(t,n){Gh(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new eu(ya.comparator)}(n),n.Oo=!1,[4,df(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function ud(t,e,n){return Ct(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,g;return Dt(this,(function(m){switch(m.label){case 0:n=Wo(t),r=[],i=[],o=0,a=e,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,th(n.localStore,ls(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,id(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,rh(n.localStore,s)];case 8:return g=m.sent(),[4,th(n.localStore,g)];case 9:return u=m.sent(),[4,Vf(n,cd(g),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function cd(t){return ns(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ld(t){var e=Wo(t);return Wo(Wo(e.localStore).persistence).fn()}function hd(t,e,n,r){return Ct(this,void 0,void 0,(function(){var i,o,a;return Dt(this,(function(s){switch(s.label){case 0:return(i=Wo(t)).Oo?(Vo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ih(i.localStore)];case 3:return o=s.sent(),a=mu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,ed(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,eh(i.localStore,e,!0)];case 6:return s.sent(),Qf(i,e,r),[3,8];case 7:qo(),s.label=8;case 8:return[2]}}))}))}function fd(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Dt(this,(function(d){switch(d.label){case 0:if(!(r=dd(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Vo("SyncEngine","Adding an already active target "+a),[3,5]):[4,rh(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,th(r.localStore,s)];case 3:return u=d.sent(),[4,Vf(r,cd(s),u.targetId,!1)];case 4:d.sent(),Kh(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Dt(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,eh(r.localStore,t,!1).then((function(){Gh(r.remoteStore,t),Qf(r,t)})).catch(_l)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function dd(t){var e=Wo(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hf.bind(null,e),e.vo._r=kf.bind(null,e.eventManager),e.vo.Mo=Tf.bind(null,e.eventManager),e}function pd(t){var e=Wo(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kf.bind(null,e),e}var gd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return this.R=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Gl(this.persistence,new Wl,t.initialUser,this.R)},t.prototype.qo=function(t){return new gh(vh.bs,this.R)},t.prototype.Bo=function(t){return new Nh},t.prototype.terminate=function(){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),md=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Nt(e,t),e.prototype.initialize=function(e){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,oh(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,pd(this.Ko.syncEngine)];case 4:return n.sent(),[4,af(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Gl(this.persistence,new Wl,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new El(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Bl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ul.withCacheSize(this.cacheSizeBytes):ul.DEFAULT;return new jl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Mh(),Rh(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Nh},e}(gd),vd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Nt(e,t),e.prototype.initialize=function(e){return Ct(this,void 0,void 0,(function(){var n,r=this;return Dt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Ih?(this.sharedClientState.syncEngine={ui:ad.bind(null,n),ai:hd.bind(null,n),hi:fd.bind(null,n),fn:ld.bind(null,n),ci:od.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Ct(r,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,sd(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Mh();if(!Ih.yt(e))throw new Lo(Ro.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Bl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ih(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(md),yd=function(){function t(){}return t.prototype.initialize=function(t,e){return Ct(this,void 0,void 0,(function(){var n=this;return Dt(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return qf(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nd.bind(null,this.syncEngine),[4,df(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new xf},t.prototype.createDatastore=function(t){var e,n=Lh(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Oh(e));return function(t,e,n){return new Bh(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return qf(a.syncEngine,t,0)},o=Ch.yt()?new Ch:new Ah,new qh(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Ff(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Ct(this,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return e=Wo(t),Vo("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Wh(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();var bd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),wd=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ic,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Ct(this,void 0,void 0,(function(){var t,e,n,r;return Dt(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Af(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Ct(this,void 0,void 0,(function(){var t,e;return Dt(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Ct(this,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Ct(this,void 0,void 0,(function(){var t,e;return Dt(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Ct(this,void 0,void 0,(function(){var e,n=this;return Dt(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Lo(Ro.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dt(this,(function(u){switch(u.label){case 0:return n=Wo(t),r=ju(n.R)+"/documents",i={documents:e.map((function(t){return Mu(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ho(!!e.found),e.found.name,e.found.updateTime;var n=Ru(t,e.found.name),r=Du(e.found.updateTime),i=new Pa({mapValue:{fields:e.found.fields}});return Ma.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Ho(!!e.missing),Ho(!!e.readTime);var n=Ru(t,e.missing),r=Du(e.readTime);return Ma.newNoDocument(n,r)}(t,e):qo()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Ho(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Qs(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Ct(this,void 0,void 0,(function(){var t,e=this;return Dt(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ya.fromPath(n);e.mutations.push(new Xs(r,e.precondition(r)))})),[4,function(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i;return Dt(this,(function(o){switch(o.label){case 0:return n=Wo(t),r=ju(n.R)+"/documents",i={writes:e.map((function(t){return zu(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw qo();e=Jo.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Lo(Ro.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Rs.updateTime(e):Rs.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Jo.min()))throw new Lo(Ro.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rs.updateTime(e)}return Rs.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),_d=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Fh(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Ct(t,void 0,void 0,(function(){var t,e,n=this;return Dt(this,(function(r){return t=new wd(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ga(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Zs(e)}return!1},t}(),xd=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=yh.UNAUTHENTICATED,this.clientId=Go.u(),this.credentialListener=function(){},this.receivedInitialUser=new Ic,this.credentials.setChangeListener((function(t){Vo("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Lo(Ro.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ic;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ct(t,void 0,void 0,(function(){var t,n;return Dt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=vf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Sd(t,e){return Ct(this,void 0,void 0,(function(){var n,r,i=this;return Dt(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Vo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Ct(i,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,Yl(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Ed(t,e){return Ct(this,void 0,void 0,(function(){var n,r;return Dt(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,kd(t)];case 1:return n=i.sent(),Vo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Ct(this,void 0,void 0,(function(){var n,r;return Dt(this,(function(i){switch(i.label){case 0:return(n=Wo(t)).asyncQueue.verifyOperationInProgress(),Vo("RemoteStore","RemoteStore received new credentials"),r=Jh(n),n.$r.add(3),[4,Wh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Hh(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function kd(t){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Vo("FirestoreClient","Using default OfflineComponentProvider"),[4,Sd(t,new gd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Td(t){return Ct(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Vo("FirestoreClient","Using default OnlineComponentProvider"),[4,Ed(t,new yd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Id(t){return kd(t).then((function(t){return t.persistence}))}function Nd(t){return kd(t).then((function(t){return t.localStore}))}function Ad(t){return Td(t).then((function(t){return t.remoteStore}))}function Cd(t){return Td(t).then((function(t){return t.syncEngine}))}function Dd(t){return Ct(this,void 0,void 0,(function(){var e,n;return Dt(this,(function(r){switch(r.label){case 0:return[4,Td(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=jf.bind(null,e.syncEngine),n.onUnlisten=Uf.bind(null,e.syncEngine),n)]}}))}))}function Pd(t,e,n){var r=this;void 0===n&&(n={});var i=new Ic;return t.asyncQueue.enqueueAndForget((function(){return Ct(r,void 0,void 0,(function(){var r;return Dt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new bd({next:function(o){e.enqueueAndForget((function(){return Ef(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Lo(Ro.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Lo(Ro.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Nf(rs(n.path),o,{includeMetadataChanges:!0,so:!0});return Sf(t,a)},[4,Dd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Od(t,e,n){var r=this;void 0===n&&(n={});var i=new Ic;return t.asyncQueue.enqueueAndForget((function(){return Ct(r,void 0,void 0,(function(){var r;return Dt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new bd({next:function(n){e.enqueueAndForget((function(){return Ef(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Lo(Ro.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Nf(n,o,{includeMetadataChanges:!0,so:!0});return Sf(t,a)},[4,Dd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Md=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Rd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ld=new Map,Fd=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},jd=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(yh.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Vd=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ud=function(){function t(t){var e=this;this.oc=null,this.currentUser=yh.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Vo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ho("string"==typeof n.accessToken),new Fd(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Ho(null===t||"string"==typeof t),new yh(t)},t}(),Bd=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=yh.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),zd=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Bd(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(yh.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function qd(t,e,n){if(!n)throw new Lo(Ro.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Wd(t,e,n,r){if(!0===e&&!0===r)throw new Lo(Ro.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Kd(t){if(!ya.isDocumentKey(t))throw new Lo(Ro.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Gd(t){if(ya.isDocumentKey(t))throw new Lo(Ro.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Yd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":qo()}function $d(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Lo(Ro.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Yd(t);throw new Lo(Ro.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Qd(t,e){if(e<=0)throw new Lo(Ro.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Xd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Lo(Ro.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lo(Ro.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Wd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Jd=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xd({}),this._settingsFrozen=!1,t instanceof Rd?(this._databaseId=t,this._credentials=new jd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Lo(Ro.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rd(t.options.projectId)}(t),this._credentials=new Ud(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Lo(Ro.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Lo(Ro.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new jd;switch(t.type){case"gapi":var e=t.client;return Ho(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new zd(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Lo(Ro.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Ld.get(this))&&(Vo("ComponentProvider","Removing Datastore"),Ld.delete(this),t.terminate()),Promise.resolve();var t},t}(),Zd=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ep(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),tp=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ep=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,rs(r))||this)._path=r,i.type="collection",i}return Nt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Zd(this.firestore,null,new ya(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(tp);function np(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Yt(t),qd("collection","path",e),t instanceof Jd)return Gd(n=ra.fromString.apply(ra,Mt([e],r))),new ep(t,null,n);if(!(t instanceof Zd||t instanceof ep))throw new Lo(Ro.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gd(n=ra.fromString.apply(ra,Mt([t.path],r)).child(ra.fromString(e))),new ep(t.firestore,null,n)}function rp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Yt(t),1===arguments.length&&(e=Go.u()),qd("doc","path",e),t instanceof Jd)return Kd(n=ra.fromString.apply(ra,Mt([e],r))),new Zd(t,null,new ya(n));if(!(t instanceof Zd||t instanceof ep))throw new Lo(Ro.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kd(n=t._path.child(ra.fromString.apply(ra,Mt([e],r)))),new Zd(t.firestore,t instanceof ep?t.converter:null,new ya(n))}function ip(t,e){return t=Yt(t),e=Yt(e),(t instanceof Zd||t instanceof ep)&&(e instanceof Zd||e instanceof ep)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function op(t,e){return t=Yt(t),e=Yt(e),t instanceof tp&&e instanceof tp&&t.firestore===e.firestore&&fs(t._query,e._query)&&t.converter===e.converter}var ap=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Fh(this,"async_queue_retry"),this.Ec=function(){var e=Rh();e&&Vo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Rh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Rh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Ct(this,void 0,void 0,(function(){var t,e=this;return Dt(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Oc(t=n.sent()))throw t;return Vo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,Uo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=mf.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&qo()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Ct(this,void 0,void 0,(function(){var t;return Dt(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function sp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ic,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var up=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new ap,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Nt(e,t),e.prototype._terminate=function(){return this._firestoreClient||lp(this),this._firestoreClient.terminate()},e}(Jd);function cp(t){return t._firestoreClient||lp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lp(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Md(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new xd(t._credentials,t._queue,r)}function hp(t,e,n){var r=this,i=new Ic;return t.asyncQueue.enqueue((function(){return Ct(r,void 0,void 0,(function(){var r;return Dt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Sd(t,n)];case 1:return o.sent(),[4,Ed(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ro.FAILED_PRECONDITION||t.code===Ro.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function fp(t){if(t._initialized||t._terminated)throw new Lo(Ro.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oa(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),pp=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(sa.fromBase64String(e))}catch(e){throw new Lo(Ro.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(sa.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),gp=function(t){this._methodName=t},mp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lo(Ro.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lo(Ro.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Yo(this._lat,t._lat)||Yo(this._long,t._long)},t}(),vp=/^__.*__$/,yp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Hs(t,this.data,this.fieldMask,e,this.fieldTransforms):new qs(t,this.data,e,this.fieldTransforms)},t}(),bp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Hs(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function wp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qo()}}var _p=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Bp(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(wp(this.Dc)&&vp.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),xp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Lh(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new _p({Dc:t,methodName:e,Lc:n,path:oa.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Sp(t){var e=t._freezeSettings(),n=Lh(t._databaseId);return new xp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ep(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Fp("Data must be an object, but it was:",a,r);var s,u,c=Rp(r,a);if(o.merge)s=new aa(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=jp(e,f[h],n);if(!a.contains(d))throw new Lo(Ro.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");zp(l,d)||l.push(d)}s=new aa(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new yp(new Pa(c),s,u)}var kp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(gp);function Tp(t,e,n){return new _p({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e.prototype._toFieldTransform=function(t){return new Os(t.path,new ks)},e.prototype.isEqual=function(t){return t instanceof e},e}(gp),Np=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Nt(e,t),e.prototype._toFieldTransform=function(t){var e=Tp(this,t,!0),n=this.qc.map((function(t){return Mp(t,e)})),r=new Ts(n);return new Os(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gp),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Nt(e,t),e.prototype._toFieldTransform=function(t){var e=Tp(this,t,!0),n=this.qc.map((function(t){return Mp(t,e)})),r=new Ns(n);return new Os(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gp),Cp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Nt(e,t),e.prototype._toFieldTransform=function(t){var e=new Cs(t.R,ws(t.R,this.Uc));return new Os(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(gp);function Dp(t,e,n,r){var i=t.Bc(1,e,n);Fp("Data must be an object, but it was:",i,r);var o=[],a=Pa.empty();ta(r,(function(t,r){var s=Up(e,t,n);r=Yt(r);var u=i.kc(s);if(r instanceof kp)o.push(s);else{var c=Mp(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new aa(o);return new bp(a,s,i.fieldTransforms)}function Pp(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[jp(e,r,n)],u=[i];if(o.length%2!=0)throw new Lo(Ro.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(jp(e,o[c])),u.push(o[c+1]);for(var l=[],h=Pa.empty(),f=s.length-1;f>=0;--f)if(!zp(l,s[f])){var d=s[f],p=u[f];p=Yt(p);var g=a.kc(d);if(p instanceof kp)l.push(d);else{var m=Mp(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new aa(l);return new bp(h,v,a.fieldTransforms)}function Op(t,e,n,r){return void 0===r&&(r=!1),Mp(n,t.Bc(r?4:3,e))}function Mp(t,e){if(Lp(t=Yt(t)))return Fp("Unsupported field value:",e,t),Rp(t,e);if(t instanceof gp)return function(t,e){if(!wp(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Mp(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Yt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ws(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Xo.fromDate(t);return{timestampValue:Nu(e.R,n)}}if(t instanceof Xo)return n=new Xo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Nu(e.R,n)};if(t instanceof mp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pp)return{bytesValue:Au(e.R,t._byteString)};if(t instanceof Zd){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Pu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Yd(t))}(t,e)}function Rp(t,e){var n={};return ea(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(function(t,r){var i=Mp(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Lp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xo||t instanceof mp||t instanceof pp||t instanceof Zd||t instanceof gp)}function Fp(t,e,n){if(!Lp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Yd(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function jp(t,e,n){if((e=Yt(e))instanceof dp)return e._internalPath;if("string"==typeof e)return Up(t,e);throw Bp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Vp=new RegExp("[~\\*/\\[\\]]");function Up(t,e,n){if(e.search(Vp)>=0)throw Bp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(dp.bind.apply(dp,Mt([void 0],e.split(".")))))._internalPath}catch(ze){throw Bp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Bp(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Lo(Ro.INVALID_ARGUMENT,(s+=". ")+t+u)}function zp(t,e){return t.some((function(t){return t.isEqual(e)}))}var qp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Zd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Hp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Wp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(qp);function Wp(t,e){return"string"==typeof e?Up(t,e):e instanceof dp?e._internalPath:e._delegate._internalPath}var Kp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gp=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Nt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Wp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(qp),Yp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Gp),$p=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Kp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Yp(n._firestore,n._userDataWriter,r.key,r,new Kp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lo(Ro.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new Yp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Kp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Yp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Kp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Qp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Qp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qo()}}function Xp(t,e){return t instanceof Gp&&e instanceof Gp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof $p&&e instanceof $p&&t._firestore===e._firestore&&op(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Jp(t){if(os(t)&&0===t.explicitOrderBy.length)throw new Lo(Ro.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zp=function(){};function tg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=i[r]._apply(t)}return t}var eg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Nt(e,t),e.prototype._apply=function(t){var e=Sp(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ug(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(sg(r,t,h))}s={arrayValue:{values:u}}}else s=sg(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ug(a,o),s=Op(n,"where",a,"in"===o||"not-in"===o);var f=Ua.create(i,o,s);return function(t,e){if(e.g()){var n=ss(t);if(null!==n&&!n.isEqual(e.field))throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=as(t);null!==r&&cg(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Lo(Ro.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Lo(Ro.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new tp(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Zp),ng=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Nt(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xa(e,n);return function(t,e){if(null===as(t)){var n=ss(t);null!==n&&cg(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new tp(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new es(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Zp),rg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Nt(e,t),e.prototype._apply=function(t){return new tp(t.firestore,t.converter,hs(t._query,this.Gc,this.zc))},e}(Zp),ig=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Nt(e,t),e.prototype._apply=function(t){var e=ag(t,this.type,this.Hc,this.Jc);return new tp(t.firestore,t.converter,function(t,e){return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Zp),og=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Nt(e,t),e.prototype._apply=function(t){var e=ag(t,this.type,this.Hc,this.Jc);return new tp(t.firestore,t.converter,function(t,e){return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Zp);function ag(t,e,n,r){if(n[0]=Yt(n[0]),n[0]instanceof qp)return function(t,e,n,r,i){if(!r)throw new Lo(Ro.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=cs(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Ta(e,r.key));else{var c=r.data.field(u.field);if(fa(c))throw new Lo(Ro.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new $a(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Sp(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Lo(Ro.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!us(t)&&-1!==c.indexOf("/"))throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ra.fromString(c));if(!ya.isDocumentKey(l))throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ya(l);s.push(Ta(e,h))}else{var f=Op(n,r,c);s.push(f)}}return new $a(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function sg(t,e,n){if("string"==typeof(n=Yt(n))){if(""===n)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!us(e)&&-1!==n.indexOf("/"))throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ra.fromString(n));if(!ya.isDocumentKey(r))throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ta(t,new ya(r))}if(n instanceof Zd)return Ta(t,n._key);throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Yd(n)+".")}function ug(t,e){if(!Array.isArray(t)||0===t.length)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function cg(t,e,n){if(!n.isEqual(e))throw new Lo(Ro.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var lg=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ba(t)){case 0:return null;case 1:return t.booleanValue;case 2:return la(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ha(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qo()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ta(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new mp(la(t.latitude),la(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=da(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(pa(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ca(t);return new Xo(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ra.fromString(t);Ho(rc(n));var r=new Rd(n.get(1),n.get(3)),i=new ya(n.popFirst(5));return r.isEqual(e)||Uo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function hg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Nt(e,t),e.prototype.convertBytes=function(t){return new pp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zd(this.firestore,null,e)},e}(lg),dg=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Sp(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=pg(t,this._firestore),i=hg(r.converter,e,n),o=Ep(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Rs.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=pg(t,this._firestore);return o="string"==typeof(e=Yt(e))||e instanceof dp?Pp(this._dataReader,"WriteBatch.update",a._key,e,n,r):Dp(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Rs.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=pg(t,this._firestore);return this._mutations=this._mutations.concat(new Qs(e._key,Rs.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Lo(Ro.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function pg(t,e){if((t=Yt(t)).firestore!==e)throw new Lo(Ro.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var gg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Nt(e,t),e.prototype.convertBytes=function(t){return new pp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zd(this.firestore,null,e)},e}(lg);function mg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=$d(t,Zd);var o=$d(t.firestore,up),a=Sp(o);return yg(o,[("string"==typeof(e=Yt(e))||e instanceof dp?Pp(a,"updateDoc",t._key,e,n,r):Dp(a,"updateDoc",t._key,e)).toMutation(t._key,Rs.exists(!0))])}function vg(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Yt(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||sp(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(sp(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Zd)c=$d(t.firestore,up),l=rs(t._key.path),u={next:function(e){i[s]&&i[s](bg(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=$d(t,tp);c=$d(d.firestore,up),l=d._query;var p=new gg(c);u={next:function(t){i[s]&&i[s](new $p(c,p,d,t))},error:i[s+1],complete:i[s+2]},Jp(t._query)}return function(t,e,n,r){var i=this,o=new bd(r),a=new Nf(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Ct(i,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return e=Sf,[4,Dd(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ct(i,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return e=Ef,[4,Dd(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(cp(c),l,h,u)}function yg(t,e){return function(t,e){var n=this,r=new Ic;return t.asyncQueue.enqueueAndForget((function(){return Ct(n,void 0,void 0,(function(){var n;return Dt(this,(function(i){switch(i.label){case 0:return n=Bf,[4,Cd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(cp(t),e)}function bg(t,e,n){var r=n.docs.get(e._key),i=new gg(t);return new Gp(t,i,e._key,r,new Kp(n.hasPendingWrites,n.fromCache),e.converter)}var wg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Nt(e,t),e.prototype.get=function(e){var n=this,r=pg(e,this._firestore),i=new gg(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Gp(n._firestore,i,r._key,t._document,new Kp(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Sp(t)}return t.prototype.get=function(t){var e=this,n=pg(t,this._firestore),r=new fg(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return qo();var i=t[0];if(i.isFoundDocument())return new qp(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qp(e._firestore,r,n._key,null,n.converter);throw qo()}))},t.prototype.set=function(t,e,n){var r=pg(t,this._firestore),i=hg(r.converter,e,n),o=Ep(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=pg(t,this._firestore);return o="string"==typeof(e=Yt(e))||e instanceof dp?Pp(this._dataReader,"Transaction.update",a._key,e,n,r):Dp(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=pg(t,this._firestore);return this._transaction.delete(e._key),this},t}());function _g(){if("undefined"==typeof Uint8Array)throw new Lo(Ro.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xg(){if("undefined"==typeof atob)throw new Lo(Ro.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sg=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return xg(),new t(pp.fromBase64String(e))},t.fromUint8Array=function(e){return _g(),new t(pp.fromUint8Array(e))},t.prototype.toBase64=function(){return xg(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return _g(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Eg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){fp(t=$d(t,up));var n=cp(t),r=t._freezeSettings(),i=new yd;return hp(n,i,new md(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){fp(t=$d(t,up));var e=cp(t),n=t._freezeSettings(),r=new yd;return hp(e,r,new vd(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Lo(Ro.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ic;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ct(e,void 0,void 0,(function(){var e;return Dt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Ct(this,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return Cc.yt()?(e=t+"main",[4,Cc.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Bl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),kg=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Rd||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=$d(t,Jd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Bo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=At({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lt.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Lt.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Lo(Ro.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Vd(new Fd(o,new yh(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ct(e,void 0,void 0,(function(){var e,n;return Dt(this,(function(r){switch(r.label){case 0:return[4,Id(t)];case 1:return e=r.sent(),[4,Ad(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Wo(t);return e.$r.delete(0),Hh(e)}(n))]}}))}))}))}(cp($d(this._delegate,up)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ct(e,void 0,void 0,(function(){var e,n;return Dt(this,(function(r){switch(r.label){case 0:return[4,Id(t)];case 1:return e=r.sent(),[4,Ad(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Ct(this,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return(e=Wo(t)).$r.add(0),[4,Wh(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(cp($d(this._delegate,up)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Wd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ic;return t.asyncQueue.enqueueAndForget((function(){return Ct(e,void 0,void 0,(function(){var e;return Dt(this,(function(r){switch(r.label){case 0:return e=Gf,[4,Cd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(cp($d(this._delegate,up)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new bd(e);return t.asyncQueue.enqueueAndForget((function(){return Ct(n,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return e=function(t,e){Wo(t).Gr.add(e),e.next()},[4,Dd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ct(n,void 0,void 0,(function(){var e;return Dt(this,(function(n){switch(n.label){case 0:return e=function(t,e){Wo(t).Gr.delete(e)},[4,Dd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(cp(t=$d(t,up)),sp(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Lo(Ro.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Vg(this,np(this._delegate,t))}catch(t){throw Dg(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Cg(this,rp(this._delegate,t))}catch(t){throw Dg(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Lg(this,function(t,e){if(t=$d(t,Jd),qd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tp(t,null,function(t){return new es(ra.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Dg(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ic;return t.asyncQueue.enqueueAndForget((function(){return Ct(n,void 0,void 0,(function(){var n;return Dt(this,(function(i){switch(i.label){case 0:return[4,function(t){return Td(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new _d(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(cp(t),(function(n){return e(new wg(t,n))}))}(this._delegate,(function(n){return t(new Ig(e,n))}))},t.prototype.batch=function(){var t=this;return cp(this._delegate),new Ng(new dg(this._delegate,(function(e){return yg(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Lo(Ro.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Lo(Ro.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Tg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Nt(e,t),e.prototype.convertBytes=function(t){return new Sg(new pp(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Cg.Zc(e,this.firestore,null)},e}(lg);var Ig=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Tg(t)}return t.prototype.get=function(t){var e=this,n=Ug(t);return this._delegate.get(n).then((function(t){return new Mg(e._firestore,new Gp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Ug(t);return n?(Hd("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ug(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Mt([a,e,n],i)),this},t.prototype.delete=function(t){var e=Ug(t);return this._delegate.delete(e),this},t}(),Ng=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Ug(t);return n?(Hd("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ug(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Mt([a,e,n],i)),this},t.prototype.delete=function(t){var e=Ug(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Ag=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Yp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Rg(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Tg(e),n),i.set(n,o)),o},t}();Ag.eu=new WeakMap;var Cg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Tg(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Lo(Ro.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Zd(n._delegate,r,new ya(e)))},t.Zc=function(e,n,r){return new t(n,new Zd(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Vg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Vg(this.firestore,np(this._delegate,t))}catch(t){throw Dg(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Yt(t))instanceof Zd&&ip(this._delegate,t)},t.prototype.set=function(t,e){e=Hd("DocumentReference.set",e);try{return function(t,e,n){t=$d(t,Zd);var r=$d(t.firestore,up),i=hg(t.converter,e,n);return yg(r,[Ep(Sp(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Rs.none())])}(this._delegate,t,e)}catch(t){throw Dg(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?mg(this._delegate,t):mg.apply(void 0,Mt([this._delegate,t,e],n))}catch(t){throw Dg(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return yg($d((t=this._delegate).firestore,up),[new Qs(t._key,Rs.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Pg(e),i=Og(e,(function(e){return new Mg(t.firestore,new Gp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return vg(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$d(t,Zd);var e=$d(t.firestore,up),n=cp(e),r=new gg(e);return function(t,e){var n=this,r=new Ic;return t.asyncQueue.enqueueAndForget((function(){return Ct(n,void 0,void 0,(function(){var n;return Dt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i;return Dt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Wo(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Lo(Ro.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=vf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Nd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Gp(e,r,t._key,n,new Kp(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=$d(t,Zd);var e=$d(t.firestore,up);return Pd(cp(e),t._key,{source:"server"}).then((function(n){return bg(e,t,n)}))}(this._delegate):function(t){t=$d(t,Zd);var e=$d(t.firestore,up);return Pd(cp(e),t._key).then((function(n){return bg(e,t,n)}))}(this._delegate)).then((function(t){return new Mg(e.firestore,new Gp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ag.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Dg(t,e,n){return t.message=t.message.replace(e,n),t}function Pg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!sp(r))return r}return{}}function Og(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=sp(t[0])?t[0]:sp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Mg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Cg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Xp(this._delegate,t._delegate)},t}(),Rg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Mg),Lg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Tg(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,tg(this._delegate,function(t,e,n){var r=e,i=Wp("where",t);return new eg(i,r,n)}(e,n,r)))}catch(e){throw Dg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,tg(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Wp("orderBy",t);return new ng(r,n)}(e,n)))}catch(e){throw Dg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,tg(this._delegate,function(t){return Qd("limit",t),new rg("limit",t,"F")}(e)))}catch(e){throw Dg(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,tg(this._delegate,function(t){return Qd("limitToLast",t),new rg("limitToLast",t,"L")}(e)))}catch(e){throw Dg(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,tg(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ig("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Dg(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,tg(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ig("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Dg(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,tg(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new og("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Dg(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,tg(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new og("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Dg(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return op(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$d(t,tp);var e=$d(t.firestore,up),n=cp(e),r=new gg(e);return function(t,e){var n=this,r=new Ic;return t.asyncQueue.enqueueAndForget((function(){return Ct(n,void 0,void 0,(function(){var n;return Dt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ct(this,void 0,void 0,(function(){var r,i,o,a,s;return Dt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,nh(t,e,!0)];case 1:return s=u.sent(),r=new Mf(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=vf(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Nd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new $p(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=$d(t,tp);var e=$d(t.firestore,up),n=cp(e),r=new gg(e);return Od(n,t._query,{source:"server"}).then((function(n){return new $p(e,r,t,n)}))}(this._delegate):function(t){t=$d(t,tp);var e=$d(t.firestore,up),n=cp(e),r=new gg(e);return Jp(t._query),Od(n,t._query).then((function(n){return new $p(e,r,t,n)}))}(this._delegate)).then((function(t){return new jg(e.firestore,new $p(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Pg(e),i=Og(e,(function(e){return new jg(t.firestore,new $p(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return vg(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ag.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Fg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Rg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),jg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Lg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Rg(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Fg(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Rg(n._firestore,r))}))},t.prototype.isEqual=function(t){return Xp(this._delegate,t._delegate)},t}(),Vg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Nt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Cg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Cg(this.firestore,void 0===t?rp(this._delegate):rp(this._delegate,t))}catch(t){throw Dg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=$d(t.firestore,up),r=rp(t),i=hg(t.converter,e);return yg(n,[Ep(Sp(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Rs.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Cg(e.firestore,t)}))},e.prototype.isEqual=function(t){return ip(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ag.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(Lg);function Ug(t){return $d(t,Zd)}var Bg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(dp.bind.apply(dp,Mt([void 0],t)))}return t.documentId=function(){return new t(oa.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Yt(t))instanceof dp&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),zg=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ip("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new kp("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Np("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ap("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Cp("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();var qg,Hg={Firestore:kg,GeoPoint:mp,Timestamp:Xo,Blob:Sg,Transaction:Ig,WriteBatch:Ng,DocumentReference:Cg,DocumentSnapshot:Mg,Query:Lg,QueryDocumentSnapshot:Rg,QuerySnapshot:jg,CollectionReference:Vg,FieldPath:Bg,FieldValue:zg,setLogLevel:function(t){var e;e=t,Fo.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new $t("firestore",(function(t){return function(t,e){return new kg(t,new up(t,e),new Eg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Hg)))})(qg=ke),qg.registerVersion("@firebase/firestore","2.3.0"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(Ve){this.f(Ve)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(Ve){n.reject(Ve)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(Gi){o(Gi)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Qa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Qa(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function x(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function k(t){return t}function T(t,e,n){this.code=A+t,this.message=e||C[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}E(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var N,A="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function L(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}N=P("__EID__")?"__EID__":void 0,E(M,Error),M.prototype.name="CustomError",E(R,M),R.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new F((function(){return new z}),(function(t){t.reset()}));function B(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function z(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=q(t,e)}function $(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===St&&e||"",this.b=xt}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===xt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,xt={},St={};function Et(){if(void 0===_t){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){s.console&&s.console.error(n.message)}_t=t}else _t=t}return _t}function kt(t,e){this.a=e===Ct?t:""}function Tt(t){return t instanceof kt&&t.constructor===kt?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=wt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))})),function(t){var e=Et();return t=e?e.createScriptURL(t):t,new kt(t,Ct)}(t)}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ct={};function Dt(t,e){this.a=e===jt?t:""}function Pt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Mt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new Dt(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Mt);t=e&&Ot.test(e[1])?new Dt(t,jt):null}return t}function Ft(t){return t instanceof Dt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,jt))}var jt={},Vt=new Dt("about:invalid#zClosurez",jt);function Ut(t,e,n){this.a=n===Bt?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function zt(t,e,n,r){return t=t instanceof Dt?t:Ft(t),e=e||s,n=n instanceof bt?wt(n):n||"",e.open(Pt(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=h;var Kt,Gt=ft("Opera"),Yt=ft("Trident")||ft("MSIE"),$t=ft("Edge"),Qt=$t||Yt,Xt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Jt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function Zt(){var t=s.document;return t?t.documentMode:void 0}t:{var te="",ee=function(){var t=Z;return Xt?/rv:([^\);]+)(\)|;)/.exec(t):$t?/Edge\/([\d\.]+)/.exec(t):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Jt?/WebKit\/(\S+)/.exec(t):Gt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ee&&(te=ee?ee[1]:""),Yt){var ne=Zt();if(null!=ne&&ne>parseFloat(te)){Kt=String(ne);break t}}Kt=te}var re,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(s.document&&Yt){var ae=Zt();re=ae||(parseInt(Kt,10)||void 0)}else re=void 0;var se=re;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ga){}var ue=!Yt||9<=Number(se);function ce(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function le(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var he,fe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pe(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ue&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};vt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ge(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):le(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}H(a?J(o):o,r)}}}(i,o,r),o}function ge(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){fe||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);fe=function(){t.then(we)}}else fe=function(){var t=we;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(he||(he=function(){var t=s.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=ge(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),he(t)):s.setImmediate(t)}}(),ye||(fe(),ye=!0),be.add(t,e)}var ye=!1,be=new V;function we(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){me(e)}j(U,t)}ye=!1}function _e(t,e){if(this.a=xe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Fe(n,Se,t)}),(function(t){if(!(t instanceof We))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(qg){}Fe(n,Ee,t)}))}catch(r){Fe(this,Ee,r)}}var xe=0,Se=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new F((function(){return new Te}),(function(t){t.reset()}));function Ae(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof _e)return t;var e=new _e(h);return Fe(e,Se,t),e}function De(t){return new _e((function(e,n){n(t)}))}function Pe(t,e,n){je(t,e,n,null)||ve(x(e,t))}function Oe(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],x(i,o,!0),x(i,o,!1));else e(r)}))}function Me(t,e){if(t.a==xe)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==xe&&1==r?Me(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Be(n),ze(n,i,Ee,e)))}t.c=null}else Fe(t,Ee,e)}function Re(t,e){t.b||t.a!=Se&&t.a!=Ee||Ue(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=Ae(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(Ve){o(Ve)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof We?o(e):t(i)}catch(Ve){o(Ve)}}:o})),i.a.c=t,Re(t,i),i.a}function Fe(t,e,n){t.a==xe&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ue(t),e!=Ee||n instanceof We||function(t,e){t.g=!0,ve((function(){t.g&&He.call(null,e)}))}(t,n)))}function je(t,e,n,r){if(t instanceof _e)return Re(t,Ae(e||h,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ue(t){t.h||(t.h=!0,ve(t.gc,t))}function Be(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function ze(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(qg){He.call(null,qg)}j(Ie,e)}function qe(t,e,n){e==Se?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Le(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Ae(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Le(this,null,t,e)},t.cancel=function(t){if(this.a==xe){var e=new We(t);ve((function(){Me(this,e)}),this)}},t.$c=function(t){this.a=xe,Fe(this,Se,t)},t.ad=function(t){this.a=xe,Fe(this,Ee,t)},t.gc=function(){for(var t;t=Be(this);)ze(this,t,this.a,this.i);this.h=!1};var He=me;function We(t){M.call(this,t)}function Ke(){0!=Ge&&(Ye[m(this)]=this),this.xa=this.xa,this.pa=this.pa}E(We,M),We.prototype.name="cancel";var Ge=0,Ye={};function $e(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ge)){var e=m(t);if(0!=Ge&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ye[e]}}Ke.prototype.xa=!1,Ke.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Qe=Object.freeze||function(t){return t},Xe=!Yt||9<=Number(se),Je=Yt&&!oe("9"),Ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function tn(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function en(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Wt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:nn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}tn.prototype.preventDefault=function(){this.defaultPrevented=!0},E(en,tn);var nn=Qe({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Je)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},en.prototype.g=function(){return this.a};var rn="closure_listenable_"+(1e6*Math.random()|0),on=0;function an(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++on,this.va=this.Pa=!1}function sn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function un(t){this.src=t,this.a={},this.b=0}function cn(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(sn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ln(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}un.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ln(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new an(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var hn="closure_lm_"+(1e6*Math.random()|0),fn={};function dn(t,e,n,r,i){if(r&&r.once)gn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else n=En(n),t&&t[rn]?Tn(t,e,n,g(r)?!!r.capture:!!r,i):pn(t,e,n,!1,r,i)}function pn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=xn(t);if(s||(t[hn]=s=new un(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=_n,e=Xe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ze||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function gn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gn(t,e[o],n,r,i);else n=En(n),t&&t[rn]?In(t,e,n,g(r)?!!r.capture:!!r,i):pn(t,e,n,!0,r,i)}function mn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)mn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=En(n),t&&t[rn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=ln(o=t.a[e],n,r,i))&&(sn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=xn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ln(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[rn])cn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xn(e))?(cn(n,t),0==n.b&&(n.src=null,e[hn]=null)):sn(t)}}}function yn(t){return t in fn?fn[t]:fn[t]="on"+t}function bn(t,e,n,r){var i=!0;if((t=xn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=wn(o,r),i=i&&!1!==o)}return i}function wn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&vn(t),n.call(r,e)}function _n(t,e){if(t.va)return!0;if(!Xe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new en(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=bn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=bn(r[i],t,!1,e),n=n&&o}return n}return wn(t,new en(e,this))}function xn(t){return(t=t[hn])instanceof un?t:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return p(t)?t:(t[Sn]||(t[Sn]=function(e){return t.handleEvent(e)}),t[Sn])}function kn(){Ke.call(this),this.v=new un(this),this.ac=this,this.gb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Nn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&cn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function An(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Cn(t){var e=null;return new _e((function(n,r){-1==(e=An((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Dn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Pn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function On(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof On)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Mn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(kn,Ke),kn.prototype[rn]=!0,kn.prototype.addEventListener=function(t,e,n,r){dn(this,t,e,n,r)},kn.prototype.removeEventListener=function(t,e,n,r){mn(this,t,e,n,r)},kn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"===typeof t)t=new tn(t,n);else if(t instanceof tn)t.target=t.target||n;else{var i=t;vt(t=new tn(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Nn(a,r,!0,t)&&i}if(i=Nn(a=t.b=n,r,!0,t)&&i,i=Nn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Nn(a=t.b=e[o],r,!1,t)&&i;return i},kn.prototype.Da=function(){if(kn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)sn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=On.prototype).W=function(){Mn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Mn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ln=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Fn?(this.i=void 0!==e?e:t.i,jn(this,t.c),this.l=t.l,this.a=t.a,Vn(this,t.g),this.f=t.f,Un(this,or(t.b)),this.h=t.h):t&&(n=String(t).match(Ln))?(this.i=!!e,jn(this,n[1]||"",!0),this.l=Wn(n[2]||""),this.a=Wn(n[3]||"",!0),Vn(this,n[4]),this.f=Wn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Wn(n[7]||"")):(this.i=!!e,this.b=new Zn(null,this.i))}function jn(t,e,n){t.c=n?Wn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Vn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Un(t,e,n){e instanceof Zn?(t.b=e,function(t,e){e&&!t.f&&(tr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nr(this,e),ir(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Kn(e,Xn)),t.b=new Zn(e,t.i))}function Bn(t,e,n){t.b.set(e,n)}function zn(t,e){return t.b.get(e)}function qn(t){return t instanceof Fn?new Fn(t):new Fn(t,void 0)}function Hn(t,e,n,r){var i=new Fn(null,void 0);return t&&jn(i,t),e&&(i.a=e),n&&Vn(i,n),r&&(i.f=r),i}function Wn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Gn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Kn(e,Yn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Kn(e,Yn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kn(n,"/"==n.charAt(0)?Qn:$n,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Kn(n,Jn)),t.join("")},Fn.prototype.resolve=function(t){var e=new Fn(this),n=!!t.c;n?jn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Vn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Un(e,or(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Yn=/[#\/\?@]/g,$n=/[#\?:]/g,Qn=/[#\?]/g,Xn=/[#\?@]/g,Jn=/#/g;function Zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function tr(t){t.a||(t.a=new On,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function er(t){var e=Pn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Zn(null,void 0);t=Dn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?ir(n,i,o):n.add(i,o)}return n}function nr(t,e){tr(t),e=ar(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Mn(t)))}function rr(t,e){return tr(t),e=ar(t,e),Rn(t.a.b,e)}function ir(t,e,n){nr(t,e),0<n.length&&(t.c=null,t.a.set(ar(t,e),J(n)),t.b+=n.length)}function or(t){var e=new Zn;return e.c=t.c,t.a&&(e.a=new On(t.a),e.b=t.b),e}function ar(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function sr(t){var e=[];return cr(new ur,t,e),e.join("")}function ur(){}function cr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),cr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),fr(r,n),n.push(":"),cr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":fr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Zn.prototype).add=function(t,e){tr(this),this.c=null,t=ar(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){tr(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){tr(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){tr(this);var e=[];if("string"===typeof t)rr(this,t)&&(e=X(e,this.a.get(ar(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return tr(this),this.c=null,rr(this,t=ar(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var lr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},hr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fr(t,e){e.push('"',t.replace(hr,(function(t){var e=lr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),lr[t]=e),e})),'"')}function dr(){var t=Or();return Yt&&!!se&&11==se||/Edge\/\d+/.test(t)}function pr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function gr(t,e){e=e||s.window;var n="about:blank";t&&(n=Pt(Lt(t)||Vt)),e.location.href=n}function mr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<mr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Or()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||s.window;try{t.close()}catch(e){}}function br(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Or().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Cr(Or())==Nr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:Lt("undefined"!=typeof n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(a=ge(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Ft(e),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=zt("",r,n,a),t=Pt(e),a&&(Qt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ut(t=(r=Et())?r.createHTML(t):t,null,Bt),r=a.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=zt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(Ne){}return a}var wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_r=/^[^@]+@[^@]+$/;function xr(){var t=null;return new _e((function(e){"complete"==s.document.readyState?e():(t=function(){e()},gn(window,"load",t))})).o((function(e){throw mn(window,"load",t),e}))}function Sr(t){return t=t||Or(),!("file:"!==jr()&&"ionic:"!==jr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function kr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Tr(){return ke.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ke.INTERNAL.hasOwnProperty("node")?"Node":kr()?"Worker":"Browser"}function Ir(){var t=Tr();return"ReactNative"===t||"Node"===t}var Nr="Firefox",Ar="Chrome";function Cr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Nr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ar:"Safari"}var Dr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Pr(t,e){e=e||[];var n,r=[],i={};for(n in Dr)i[Dr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=Cr(i=Or()):"Worker"===r&&(r=Cr(i=Or())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Or(){return s.navigator&&s.navigator.userAgent||""}function Mr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=s.localStorage,e=qr();if(t)return t.setItem(e,"1"),t.removeItem(e),!dr()||!!s.indexedDB}catch(n){return kr()&&!!s.indexedDB}return!1}function Lr(){return(Fr()||"chrome-extension:"===jr()||Sr())&&!Ir()&&Rr()&&!kr()}function Fr(){return"http:"===jr()||"https:"===jr()}function jr(){return s.location&&s.location.protocol||null}function Vr(t){return!vr(t=t||Or())&&Cr(t)!=Nr}function Ur(t){return"undefined"===typeof t?null:sr(t)}function Br(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function zr(t){if(null!==t)return JSON.parse(t)}function qr(t){return t||Math.floor(1e9*Math.random()).toString()}function Hr(t){return"Safari"!=Cr(t=t||Or())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Wr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Kr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Or(),e=Tr(),this.b=vr(t)||"ReactNative"===e}function Gr(){var t=s.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Yr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function $r(){return!(!Mr("fireauth.oauthhelper",s)&&!Mr("fireauth.iframe",s))}Kr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!==typeof t.onLine||!Fr()&&"chrome-extension:"!==jr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,Xr={};function Jr(t){Xr[t]||(Xr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==Zr.abcd}catch(ga){Qr=!1}function ti(t,e,n){Qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ei(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&ti(t,n,e[n])}function ni(t){var e={};return ei(e,t),e}function ri(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)ti(e,n,ri(t[n]));return e}function ii(t){var e=t&&(t[ci]?"phone":null);if(!(e&&t&&t[ui]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");ti(this,"uid",t[ui]),ti(this,"displayName",t[ai]||null);var n=null;t[si]&&(n=new Date(t[si]).toUTCString()),ti(this,"enrollmentTime",n),ti(this,"factorId",e)}function oi(t){try{var e=new li(t)}catch(n){e=null}return e}ii.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",si="enrolledAt",ui="mfaEnrollmentId",ci="phoneInfo";function li(t){ii.call(this,t),ti(this,"phoneNumber",t[ci])}function hi(t){var e={},n=t[gi],r=t[vi],i=t[yi];if(t=oi(t[mi]),!i||i!=di&&i!=pi&&!n||i==pi&&!r||i==fi&&!t)throw Error("Invalid checkActionCode response!");i==pi?(e[wi]=n||null,e[xi]=n||null,e[bi]=r):(e[wi]=r||null,e[xi]=r||null,e[bi]=n||null),e[_i]=t||null,ti(this,Ei,i),ti(this,Si,ri(e))}E(li,ii),li.prototype.w=function(){var t=li.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var fi="REVERT_SECOND_FACTOR_ADDITION",di="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",gi="email",mi="mfaInfo",vi="newEmail",yi="requestType",bi="email",wi="fromEmail",_i="multiFactorInfo",xi="previousEmail",Si="data",Ei="operation";function ki(t){var e=zn(t=qn(t),Ti)||null,n=zn(t,Ii)||null,r=zn(t,Ci)||null;if(r=r&&Pi[r]||null,!e||!n||!r)throw new T("argument-error",Ti+", "+Ii+"and "+Ci+" are required in a valid action code URL.");ei(this,{apiKey:e,operation:r,code:n,continueUrl:zn(t,Ni)||null,languageCode:zn(t,Ai)||null,tenantId:zn(t,Di)||null})}var Ti="apiKey",Ii="oobCode",Ni="continueUrl",Ai="languageCode",Ci="mode",Di="tenantId",Pi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fi,signIn:di,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Oi(t){try{return new ki(t)}catch(e){return null}}function Mi(t){var e=t[Vi];if("undefined"===typeof e)throw new T("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"===typeof n){e=n[zi];var r=n[Ui];if(n=n[Bi],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new T("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[ji])&&"object"===typeof e){if("string"===typeof(e=e[qi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new T("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new T("argument-error",ji+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Fi])&&"boolean"!==typeof e)throw new T("argument-error",Fi+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Li])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Li="dynamicLinkDomain",Fi="handleCodeInApp",ji="iOS",Vi="url",Ui="installApp",Bi="minimumVersion",zi="packageName",qi="bundleId";function Hi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Wi=null;function Ki(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Wi){Wi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Wi[o]&&(Wi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Yi(t){var e=Qi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function $i(t){try{return new Yi(t)}catch(e){return null}}function Qi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Ki(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(Ve){}return null}Yi.prototype.T=function(){return this.f},Yi.prototype.l=function(){return this.c},Yi.prototype.toString=function(){return this.h};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Zi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ji},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ji},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ji},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Xi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function to(t){for(var e in Zi)if(Zi[e].fa==t)return Zi[e];return null}function eo(t){var e={};e["facebook.com"]=ao,e["google.com"]=uo,e["github.com"]=so,e["twitter.com"]=co;var n=t&&t[ro];try{if(n)return e[n]?new e[n](t):new oo(t);if("undefined"!==typeof t[no])return new io(t)}catch(r){}return null}var no="idToken",ro="providerId";function io(t){var e=t[ro];if(!e&&t[no]){var n=$i(t[no]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),ti(this,"providerId",e),ti(this,"isNewUser",n)}function oo(t){io.call(this,t),ti(this,"profile",ri((t=zr(t.rawUserInfo||"{}"))||{}))}function ao(t){if(oo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(t){if(oo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",this.profile&&this.profile.login||null)}function uo(t){if(oo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function co(t){if(oo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",t.screenName||null)}function lo(t){var e=qn(t),n=zn(e,"link"),r=zn(qn(n),"link");return e=zn(e,"deep_link_id"),zn(qn(e),"link")||e||r||n||t}function ho(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?fo:po}E(oo,io),E(ao,oo),E(so,oo),E(uo,oo),E(co,oo);var fo="enroll",po="signin";function go(){}function mo(t,e){return t.then((function(t){if(t[os]){var n=$i(t[os]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function vo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,ti(this,"providerId",t),ti(this,"signInMethod",t)}function yo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function bo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new vo(t.providerId,t.pendingToken)}catch(e){}return null}function wo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&ti(this,"idToken",e.idToken),e.accessToken&&ti(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&ti(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");ti(this,"accessToken",e.oauthToken),ti(this,"secret",e.oauthTokenSecret)}ti(this,"providerId",t),ti(this,"signInMethod",n)}function _o(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:er(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function xo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new wo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function So(t,e){this.Qc=e||[],ei(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(to(t)||{}).Ja||null,this.ob=null}function Eo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,t,[])}function ko(t){So.call(this,t,Ji),this.a=[]}function To(){ko.call(this,"facebook.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function No(){ko.call(this,"github.com")}function Ao(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new No).credential({accessToken:e})}function Co(){ko.call(this,"google.com"),this.Ca("profile")}function Do(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Co).credential({idToken:n,accessToken:e})}function Po(){So.call(this,"twitter.com",Xi)}function Oo(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new wo("twitter.com",n,"twitter.com")}function Mo(t,e,n){this.a=t,this.f=e,ti(this,"providerId","password"),ti(this,"signInMethod",n===Lo.EMAIL_LINK_SIGN_IN_METHOD?Lo.EMAIL_LINK_SIGN_IN_METHOD:Lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ro(t){return t&&t.email&&t.password?new Mo(t.email,t.password,t.signInMethod):null}function Lo(){ei(this,{providerId:"password",isOAuthProvider:!1})}function Fo(t,e){if(!(e=jo(e)))throw new T("argument-error","Invalid email link!");return new Mo(t,e.code,Lo.EMAIL_LINK_SIGN_IN_METHOD)}function jo(t){return(t=Oi(t=lo(t)))&&t.operation===di?t:null}function Vo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,ti(this,"providerId","phone"),this.fa="phone",ti(this,"signInMethod","phone")}function Uo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Vo(e)}return null}function Bo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function zo(t){try{this.a=t||ke.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ei(this,{providerId:"phone",isOAuthProvider:!1})}function qo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Vo({eb:t,cb:e})}function Ho(t){if(t.temporaryProof&&t.phoneNumber)return new Vo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Do(o,n);case"facebook.com":return Io(n);case"github.com":return Ao(n);case"twitter.com":return Oo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new vo(e,a):new wo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ko(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(Ne){return null}}function Wo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Ko(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Go(t){return(t=t||{}).type?new Ko(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Yo(){this.b=null,this.a=[]}ho.prototype.Ha=function(){return this.a?Ce(this.a):Ce(this.b)},ho.prototype.w=function(){return this.type==fo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},go.prototype.ka=function(){},go.prototype.b=function(){},go.prototype.c=function(){},go.prototype.w=function(){},vo.prototype.ka=function(t){return Is(t,yo(this))},vo.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,Ns(t,n)},vo.prototype.c=function(t,e){return mo(As(t,yo(this)),e)},vo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},wo.prototype.ka=function(t){return Is(t,_o(this))},wo.prototype.b=function(t,e){var n=_o(this);return n.idToken=e,Ns(t,n)},wo.prototype.c=function(t,e){return mo(As(t,_o(this)),e)},wo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},So.prototype.Ka=function(t){return this.Ib=gt(t),this},E(Eo,So),E(ko,So),ko.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},ko.prototype.Qb=function(){return J(this.a)},ko.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new wo(this.providerId,n,this.providerId)},E(To,ko),ti(To,"PROVIDER_ID","facebook.com"),ti(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(No,ko),ti(No,"PROVIDER_ID","github.com"),ti(No,"GITHUB_SIGN_IN_METHOD","github.com"),E(Co,ko),ti(Co,"PROVIDER_ID","google.com"),ti(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Po,So),ti(Po,"PROVIDER_ID","twitter.com"),ti(Po,"TWITTER_SIGN_IN_METHOD","twitter.com"),Mo.prototype.ka=function(t){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?lu(t,Fs,{email:this.a,oobCode:this.f}):lu(t,ou,{email:this.a,password:this.f})},Mo.prototype.b=function(t,e){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?lu(t,js,{idToken:e,email:this.a,oobCode:this.f}):lu(t,Xs,{idToken:e,email:this.a,password:this.f})},Mo.prototype.c=function(t,e){return mo(this.ka(t),e)},Mo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ei(Lo,{PROVIDER_ID:"password"}),ei(Lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ei(Lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Vo.prototype.ka=function(t){return t.fb(Bo(this))},Vo.prototype.b=function(t,e){var n=Bo(this);return n.idToken=e,lu(t,su,n)},Vo.prototype.c=function(t,e){var n=Bo(this);return n.operation="REAUTH",mo(t=lu(t,uu,n),e)},Vo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},zo.prototype.fb=function(t,e){var n=this.a.a;return Ce(e.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i,o=g(t)?t.session:null,a=g(t)?t.phoneNumber:t;return i=o&&o.type==fo?o.Ha().then((function(t){return function(t,e){return lu(t,Zs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==po?o.Ha().then((function(e){return function(t,e){return lu(t,tu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return lu(t,$s,e)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}))}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ei(zo,{PROVIDER_ID:"phone"}),ei(zo,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ko.prototype.T=function(){return this.h},Ko.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var $o,Qo=null;function Xo(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.c)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Jo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&ti(this,"email",t.Jb),t.ea&&ti(this,"phoneNumber",t.ea),t.credential&&ti(this,"credential",t.credential),t.Zb&&ti(this,"tenantId",t.Zb)}function Zo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Ho(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Jo(e,n,t.message)}return null}function ta(){}function ea(t){return t.c||(t.c=t.b())}function na(){}function ra(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(qg){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ia(){}function oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Sb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function aa(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function sa(t,e,n){this.reset(t,e,n,void 0,void 0)}E(Xo,T),E(Jo,T),Jo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Jo.prototype.toJSON=function(){return this.w()},ta.prototype.c=null,E(na,ta),na.prototype.a=function(){var t=ra(this);return t?new ActiveXObject(t):new XMLHttpRequest},na.prototype.b=function(){var t={};return ra(this)&&(t[0]=!0,t[1]=!0),t},$o=new na,E(ia,ta),ia.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new oa;throw Error("Unsupported browser")},ia.prototype.b=function(){return{}},(t=oa.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,aa(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",aa(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,aa(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sa.prototype.a=null;function ua(t){this.f=t,this.b=this.c=this.a=null}function ca(t,e){this.name=t,this.value=e}sa.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||S(),delete this.a},ca.prototype.toString=function(){return this.name};var la=new ca("SEVERE",1e3),ha=new ca("WARNING",900),fa=new ca("CONFIG",700),da=new ca("FINE",500);function pa(t){return t.c?t.c:t.a?pa(t.a):(L("Root logger has no level set."),null)}ua.prototype.log=function(t,e,n){if(t.value>=pa(this).value)for(p(e)&&(e=e()),t=new sa(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ga,ma={},va=null;function ya(t){var e;if(va||(va=new ua(""),ma[""]=va,va.c=fa),!(e=ma[t])){e=new ua(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ya(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ma[t]=e}return e}function ba(t,e){t&&t.log(da,e,void 0)}function wa(t){this.f=t}function _a(t){kn.call(this),this.u=t,this.h=void 0,this.readyState=xa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ya("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(wa,ta),wa.prototype.a=function(){return new _a(this.f)},wa.prototype.b=(ga={},function(){return ga}),E(_a,kn);var xa=0;function Sa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function Ea(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ka(t)}function ka(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ta(t){kn.call(this),this.headers=new On,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(t=_a.prototype).open=function(t,e){if(this.readyState!=xa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ka(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ea(this)),this.readyState=xa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ka(this)),this.a&&(this.readyState=3,ka(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,Sa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ea(this):ka(this),3==this.readyState&&Sa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,Ea(this))},t.sc=function(t){this.a&&(this.response=t,Ea(this))},t.Ua=function(t){var e=this.i;e&&e.log(ha,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Ea(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ha,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ha,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(Ta,kn);var Ia="";Ta.prototype.b=ya("goog.net.XhrIo");var Na=/^https?$/i,Aa=["POST","PUT"];function Ca(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():$o.a(),t.C=t.D?ea(t.D):ea($o),t.a.onreadystatechange=_(t.Vb,t);try{ba(t.b,Va(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ba(t.b,Va(t,"Error opening Xhr: "+a.message)),void Pa(t,a)}e=r||"";var o=new On(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)H(t,e,void 0);else for(var n=Pn(t),r=Dn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Da,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!Y(Aa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{La(t),0<t.g&&(t.u=function(t){return Yt&&oe(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ba(t.b,Va(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=An(t.Ma,t.g,t)),ba(t.b,Va(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ba(t.b,Va(t,"Send error: "+a.message)),Pa(t,a)}}function Da(t){return"content-type"==t.toLowerCase()}function Pa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Oa(t),Ra(t)}function Oa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ma(t){if(t.c&&"undefined"!=typeof a)if(t.C[1]&&4==Fa(t)&&2==ja(t))ba(t.b,Va(t,"Local request error detected and ignored"));else if(t.i&&4==Fa(t))An(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Fa(t)){ba(t.b,Va(t,"Request complete")),t.c=!1;try{var e,n=ja(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Ln)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Na.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Fa(t)?t.a.statusText:""}catch(l){ba(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+ja(t)+"]",Oa(t)}}finally{Ra(t)}}}function Ra(t,e){if(t.a){La(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(qg){(t=t.b)&&t.log(la,"Problem encountered resetting onreadystatechange: "+qg.message,void 0)}}}function La(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Fa(t){return t.a?t.a.readyState:0}function ja(t){try{return 2<Fa(t)?t.a.status:-1}catch(e){return-1}}function Va(t,e){return e+" ["+t.R+" "+t.l+" "+ja(t)+"]"}function Ua(t){var e=Xa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ba(t,e,n){t.a=!0,t.c=n,t.f=!e,Wa(t)}function za(t){if(t.a){if(!t.v)throw new Ka(t);t.v=!1}}function qa(t,e,n,r){t.g.push([e,n,r]),t.a&&Wa(t)}function Ha(t){return G(t.g,(function(t){return p(t[1])}))}function Wa(t){if(t.h&&t.a&&Ha(t)){var e=t.h,n=$a[e];n&&(s.clearTimeout(n.a),delete $a[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(O(e)||"function"===typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ha(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Ua?(qa(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ya(e),$a[e.a]=e,t.h=e.a)}function Ka(){M.call(this)}function Ga(){M.call(this)}function Ya(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=Ta.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ba(this.b,Va(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ba(this.b,Va(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ra(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ra(this,!0)),Ta.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ma(this):this.Jc())},t.Jc=function(){Ma(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(la,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ba(this.b,"Can not get response: "+e.message),null}},Ua.prototype.cancel=function(t){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ga(this),za(this),Ba(this,!1,t))}},Ua.prototype.m=function(t,e){this.i=!1,Ba(this,t,e)},Ua.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return qa(this,r,(function(t){t instanceof Ga?o.cancel():i(t)})),o.then(t,e,n)},Ua.prototype.$goog_Thenable=!0,E(Ka,M),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError",E(Ga,M),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Ya.prototype.c=function(){throw delete $a[this.a],this.b};var $a={};function Qa(t){var e={},n=e.document||document,r=Tt(t).toString(),i=ge(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ua(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ja(i,!0);var t=new es(ts,"Timeout reached for loading script "+r);za(a),Ba(a,!1,t)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ja(i,e.xd||!1,u),za(a),Ba(a,!0,null))},i.onerror=function(){Ja(i,!0,u);var t=new es(Za,"Error while loading script "+r);za(a),Ba(a,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Xa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ja(t,!0,this.Ma)}}function Ja(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Za=0,ts=1;function es(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function ns(t){this.f=t}function rs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||as,this.g=gt(t.secureTokenHeaders||ss),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||us,this.a=gt(t.firebaseHeaders||cs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=s.XMLHttpRequest||n&&ke.INTERNAL.node&&ke.INTERNAL.node.XMLHttpRequest)&&!kr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,kr()?this.f=new wa(self):Ir()?this.f=new ns(n):this.f=new ia,this.b=null}E(es,M),E(ns,ta),ns.prototype.a=function(){return new this.f},ns.prototype.b=function(){return{}};var is,os="idToken",as=new Kr(3e4,6e4),ss={"Content-Type":"application/x-www-form-urlencoded"},us=new Kr(3e4,6e4),cs={"Content-Type":"application/json"};function ls(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function hs(t,e){e&&(t.l=fs("https://securetoken.googleapis.com/v1/token",e),t.h=fs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=fs("https://identitytoolkit.googleapis.com/v2/",e))}function fs(t,e){return t=qn(t),e=qn(e.url),t.f=t.a+t.f,jn(t,e.c),t.a=e.a,Vn(t,e.g),t.toString()}function ds(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ps(t,e,n,r,i,o,a){(function(){var t=Or();return!((t=Cr(t)!=Ar?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Yt||!se||9<se)})()||kr()?t=_(t.u,t):(is||(is=new _e((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ms]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){qa(t,null,e,void 0)}(Qa(It(gs,{onload:ms})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,a)}rs.prototype.T=function(){return this.b},rs.prototype.u=function(t,e,n,r,i,o){if(kr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ba(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(Ve){t=null}e&&e(t)})),In(a,"ready",(function(){u&&clearTimeout(u),$e(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),$e(this),e&&e(null)})),Ca(a,t,n,r,i)};var gs=new bt(St,"https://apis.google.com/js/client.js?onload=%{onload}"),ms="__fcb"+Math.floor(1e6*Math.random()).toString();function vs(t,e,n,r,i,o,a){var s=qn(e+n);Bn(s,"key",t.c),a&&Bn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Bn(s,c,i[c]);return new _e((function(e,n){ps(t,s.toString(),(function(t){t?t.error?n(fu(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:sr(Br(i)),t.a,t.v.get())}))}function ys(t){if("string"!==typeof(t=t.email)||!_r.test(t))throw new T("invalid-email")}function bs(t){"email"in t&&ys(t)}function ws(t){if(!t[os]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,gt(t));throw new T("internal-error")}}function _s(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}rs.prototype.s=function(t,e,n,r,i){var o=this;is.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},rs.prototype.zb=function(){return lu(this,Js,{})},rs.prototype.Bb=function(t,e){return lu(this,Qs,{idToken:t,email:e})},rs.prototype.Cb=function(t,e){return lu(this,Xs,{idToken:t,password:e})};var xs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ss(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function Es(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ks(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(rr(t=new Zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Ts(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Zo(t)):t.errorMessage&&(e=hu(t.errorMessage)),e)throw e;ws(t)}function Is(t,e){return e.returnIdpCredential=!0,lu(t,eu,e)}function Ns(t,e){return e.returnIdpCredential=!0,lu(t,ru,e)}function As(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,lu(t,nu,e)}function Cs(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=rs.prototype).Db=function(t,e){var n={idToken:t},r=[];return dt(xs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),lu(this,Qs,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),lu(this,Ws,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),lu(this,zs,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),lu(this,qs,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),lu(this,Hs,t)},t.fb=function(t){return lu(this,au,t)},t.nb=function(t,e){return lu(this,Ys,{oobCode:t,newPassword:e})},t.Ra=function(t){return lu(this,Ps,{oobCode:t})},t.jb=function(t){return lu(this,Ds,{oobCode:t})};var Ds={endpoint:"setAccountInfo",A:Cs,Z:"email",B:!0},Ps={endpoint:"resetPassword",A:Cs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Os={endpoint:"signupNewUser",A:function(t){if(ys(t),!t.password)throw new T("weak-password")},G:ws,V:!0,B:!0},Ms={endpoint:"createAuthUri",B:!0},Rs={endpoint:"deleteAccount",N:["idToken"]},Ls={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Fs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ys,G:ws,V:!0,B:!0},js={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ys,G:ws,V:!0},Vs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:Ss,G:ws,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:Ss,G:ws,B:!0,Na:!0},Bs={endpoint:"getAccountInfo"},zs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ys(t)},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Hs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ws={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ys(t)},Z:"email",B:!0},Ks={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Gs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ys={endpoint:"resetPassword",A:Cs,Z:"email",B:!0},$s={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Qs={endpoint:"setAccountInfo",N:["idToken"],A:bs,V:!0},Xs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(bs(t),!t.password)throw new T("weak-password")},G:ws,V:!0},Js={endpoint:"signupNewUser",G:ws,V:!0,B:!0},Zs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},tu={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Es,Ya:ks,G:Ts,V:!0,B:!0},nu={endpoint:"verifyAssertion",A:Es,Ya:ks,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw hu(t.errorMessage);ws(t)},V:!0,B:!0},ru={endpoint:"verifyAssertion",A:function(t){if(Es(t),!t.idToken)throw new T("internal-error")},Ya:ks,G:Ts,V:!0},iu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ws,V:!0,B:!0},ou={endpoint:"verifyPassword",A:function(t){if(ys(t),!t.password)throw new T("wrong-password")},G:ws,V:!0,B:!0},au={endpoint:"verifyPhoneNumber",A:_s,G:ws,B:!0},su={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");_s(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Zo(t);ws(t)}},uu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_s,G:ws,B:!0},cu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[os]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function lu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.N))return De(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ce(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),vs(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function hu(t){return fu({error:{errors:[{message:t}],code:400,message:t}})}function fu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Ur(t)),new T("internal-error",e)}function du(t){this.b=t,this.a=null,this.rb=function(t){return(vu||(vu=new _e((function(t,e){function n(){Wr(),Mr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Wr(),e(Error("Network Error"))},timeout:gu.get()})}if(Mr("gapi.iframes.Iframe"))t();else if(Mr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Mr("gapi.load")?n():e(Error("Network Error"))},Ce(Qa(r=It(pu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw vu=null,t})))).then((function(){return new _e((function(e,n){Mr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),mu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var pu=new bt(St,"https://apis.google.com/js/api.js?onload=%{onload}"),gu=new Kr(3e4,6e4),mu=new Kr(5e3,15e3),vu=null;function yu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Hn((t=qn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Hn("https",this.l,null,"/__/auth/iframe"),this.a=t,Bn(this.a,"apiKey",this.h),Bn(this.a,"appName",this.i),this.b=null,this.c=[]}function bu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function wu(t){try{return ke.app(t).auth().Ga()}catch(e){return[]}}function _u(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function xu(t){var e=pr();return function(t){return lu(t,Ks,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:wr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Xo(pr())}))}function Su(t){return t.m||(t.m=xr().then((function(){if(!t.u){var e=t.c,n=t.i,r=wu(t.b),i=new yu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new du(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Go(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)}))}(t)}))),t.m}function Eu(t){return t.l||(t.C=t.c?Pr(t.c,wu(t.b)):null,t.l=new rs(t.g,P(t.i),t.C),t.f&&hs(t.l,t.f)),t.l}function ku(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new bu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=gt(u||null),t.f=c,t.yb(l).toString()}function Tu(t){if(this.a=t||ke.INTERNAL.reactNative&&ke.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.f=_(this.c,this)}yu.prototype.toString=function(){return this.f?Bn(this.a,"v",this.f):nr(this.a.b,"v"),this.b?Bn(this.a,"eid",this.b):nr(this.a.b,"eid"),this.c.length?Bn(this.a,"fw",this.c.join(",")):nr(this.a.b,"fw"),this.a.toString()},bu.prototype.yb=function(t){return this.h=t,this},bu.prototype.toString=function(){if(this.v){var t=qn(this.v.url);t=Hn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Hn("https",this.u,null,"/__/auth/handler");if(Bn(t,"apiKey",this.s),Bn(t,"appName",this.c),Bn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=ke.app(this.c).auth().la()}catch(Ne){n=null}for(var r in e.ob=n,Bn(t,"providerId",this.a.providerId),e=Br((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=gt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||Bn(t,"customParameters",Ur(e))}if("function"===typeof this.a.Qb&&((n=this.a.Qb()).length&&Bn(t,"scopes",n.join(","))),this.l?Bn(t,"redirectUrl",this.l):nr(t.b,"redirectUrl"),this.g?Bn(t,"eventId",this.g):nr(t.b,"eventId"),this.i?Bn(t,"v",this.i):nr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!zn(t,a)&&Bn(t,a,this.b[a]);return this.h?Bn(t,"tid",this.h):nr(t.b,"tid"),this.f?Bn(t,"eid",this.f):nr(t.b,"eid"),(a=wu(this.c)).length&&Bn(t,"fw",a.join(",")),t.toString()},(t=_u.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return Su(t).then((function(){return function(t,e){return t.rb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new _e((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Cn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Or();return!Vr(t)&&!Hr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return De(new T("popup-blocked"));if(a&&!Vr())return this.ma().o((function(e){yr(t),i(e)})),r(),Ce();this.a||(this.a=xu(Eu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){(Wo(n),a)||gr(ku(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=xu(Eu(this)));var i=this;return this.a.then((function(){Wo(e),gr(ku(i.s,i.g,i.b,t,e,pr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return Su(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Q(this.h,(function(e){return e==t}))},(t=Tu.prototype).get=function(t){return Ce(this.a.getItem(t)).then((function(t){return t&&zr(t)}))},t.set=function(t,e){return Ce(this.a.setItem(t,Ur(e)))},t.U=function(t){return Ce(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Nu,Au=[];function Cu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Du(t){this.a=t}function Pu(t){this.c=t,this.b=!1,this.a=[]}function Ou(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return De(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Mu(t,c),e})).o((function(e){throw Mu(t,c),e}))}function Mu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(t.a,(function(t){return t==e}))}}function Ru(){if(!Vu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;kr()&&self?(this.v=function(){var t=kr()?self:null;if(H(Au,(function(n){n.b==t&&(e=n)})),!e){var e=new Iu(t);Au.push(e)}return e}(),Cu(this.v,"keyChanged",(function(e,n){return Hu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),Cu(this.v,"ping",(function(){return Ce(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ce().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ce(null)}().then((function(e){(t.h=e)&&(t.g=new Pu(new Du(e)),Ou(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Lu(t){return new _e((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Lu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Fu(t){return t.i||(t.i=Lu(t)),t.i}function ju(t,e){var n=0;return new _e((function r(i,o){Fu(t).then(e).then(i).o((function(e){if(!(3<++n))return Fu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Vu(){try{return!!s.indexedDB}catch(ga){return!1}}function Uu(t){return t.objectStore("firebaseLocalStorage")}function Bu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function zu(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function qu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ou(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ce()}function Hu(t){return Fu(t).then((function(t){var e=Uu(Bu(t,!1));return e.getAll?zu(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=mr(t.c,n),t.c=n}return r}))}function Wu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ku(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then((function(){if(Vu()){var t=qr(),r="__sak"+t;return Nu||(Nu=new Ru),(n=Nu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Gu(){this.a={},this.type="inMemory"}function Yu(){if(!function(){var t="Node"==Tr();if(t=$u()||t&&ke.INTERNAL.node&&ke.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=$u()||ke.INTERNAL.node.localStorage,this.type="localStorage"}function $u(){try{var t=s.localStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Qu(){this.type="nullStorage"}function Xu(){if(!function(){var t="Node"==Tr();if(t=Ju()||t&&ke.INTERNAL.node&&ke.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ju()||ke.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ju(){try{var t=s.sessionStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Zu(){var t={};t.Browser=nc,t.Node=rc,t.ReactNative=ic,t.Worker=oc,this.a=t[Tr()]}Iu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Ce().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Du.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Pu.prototype.close=function(){for(;0<this.a.length;)Mu(this,this.a[0]);this.b=!0},(t=Ru.prototype).set=function(t,e){var n=this,r=!1;return ju(this,(function(e){return zu((e=Uu(Bu(e,!0))).get(t))})).then((function(i){return ju(n,(function(o){if(o=Uu(Bu(o,!0)),i)return i.value=e,zu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,zu(o.add(a))}))})).then((function(){return n.c[t]=e,qu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return ju(this,(function(e){return zu(Uu(Bu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return ju(this,(function(r){return n=!0,e.b++,zu(Uu(Bu(r,!0)).delete(t))})).then((function(){return delete e.c[t],qu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Hu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Wu(t),e()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t})),0==this.a.length&&Wu(this)},(t=Ku.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t}))},(t=Gu.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.U=function(t){return delete this.a[t],Ce()},t.ca=function(){},t.ia=function(){},(t=Yu.prototype).get=function(t){var e=this;return Ce().then((function(){return zr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&dn(s.window,"storage",t)},t.ia=function(t){s.window&&mn(s.window,"storage",t)},(t=Qu.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.U=function(){return Ce()},t.ca=function(){},t.ia=function(){},(t=Xu.prototype).get=function(t){var e=this;return Ce().then((function(){return zr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var tc,ec,nc={F:Yu,bb:Xu},rc={F:Yu,bb:Xu},ic={F:Tu,bb:Qu},oc={F:Yu,bb:Qu},ac={rd:"local",NONE:"none",td:"session"};function sc(){var t=!(Hr(Or())||!Er()),e=Vr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},tc||(tc=new Zu),t=tc;try{this.g=!dr()&&$r()||!s.indexedDB?new t.a.F:new Ku(kr()?new Gu:new t.a.F)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Gu}this.v=new Gu,this.f=_(this.Yb,this),this.b={}}function uc(){return ec||(ec=new sc),ec}function cc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function lc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function hc(t,e,n){return n=lc(e,n),"local"==e.F&&(t.b[n]=null),cc(t,e.F).U(n)}function fc(t){t.c&&(clearInterval(t.c),t.c=null)}function dc(t){this.a=t,this.b=uc()}(t=sc.prototype).get=function(t,e){return cc(this,t.F).get(lc(t,e))},t.set=function(t,e,n){var r=lc(t,n),i=this,o=cc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=lc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&(cc(this,"local").ca(this.f),this.h||(dr()||!$r())&&s.indexedDB||!this.l||function(t){fc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new en({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=lc(t,e),this.a[t]&&(Q(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(cc(this,"local").ia(this.f),fc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?cc(this,"local").ia(this.f):fc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Yt&&se&&10==se&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,_(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var pc,gc={name:"authEvent",F:"local"};function mc(){this.a=uc()}function vc(t,e){this.b=yc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===pc&&(pc=s.Int32Array?new Int32Array(kc):kc),this.reset()}E(vc,(function(){this.b=-1}));for(var yc=64,bc=yc-1,wc=[],_c=0;_c<bc;_c++)wc[_c]=0;var xc=X(128,wc);function Sc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|pc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Ec(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Sc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Sc(t),i=0)}}t.c=i,t.g+=n}vc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var kc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){vc.call(this,8,Ic)}E(Tc,vc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Nc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new mc,this.g=new dc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ac(t){return new T("invalid-cordova-configuration",t)}function Cc(t){var e=new Tc;Ec(e,t),t=[];var n=8*e.g;56>e.c?Ec(e,xc,56-e.c):Ec(e,xc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Sc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Pc(t){return t.f||(t.f=t.ma().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Oc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=lo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=zr(zn(o=qn(i),"firebaseError")||null))?I(o):null)?new Ko(r.c,r.b,null,null,o,null,r.T()):new Ko(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Dc(t,i)}))}var n=new Ko("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Cn(500).then((function(){return Oc(t).then((function(){r||Dc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Mr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(Ne){console.error(Ne)}},Qo||(Qo=new Yo),function(t){var e=Qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Mr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Oc(t){var e=null;return function(t){return t.b.get(gc,t.a).then((function(t){return Go(t)}))}(t.g).then((function(n){return e=n,hc((n=t.g).b,gc,n.a)})).then((function(){return e}))}function Mc(t){this.a=t,this.b=uc()}(t=Nc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Sr(void 0)?xr().then((function(){return new _e((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):De(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Mr("universalLinks.subscribe",s))throw Ac("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Mr("BuildInfo.packageName",s))throw Ac("cordova-plugin-buildinfo is not installed");if("function"!==typeof Mr("cordova.plugins.browsertab.openUrl",s))throw Ac("cordova-plugin-browsertab is not installed");if("function"!==typeof Mr("cordova.InAppBrowser.open",s))throw Ac("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ce()},t.Mb=function(){return De(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return De(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ce().then((function(){return Wo(e),Pc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Ko(e,r,null,o,new T("no-auth-event"),null,i),u=Mr("BuildInfo.packageName",s);if("string"!==typeof u)throw new T("invalid-cordova-configuration");var c=Mr("BuildInfo.displayName",s),l={};if(Or().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Or().toLowerCase().match(/android/))return De(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Cc(o),l.sessionId=o;var h=ku(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(gc,a.w(),e)})).then((function(){var e=Mr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Mr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Mr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Or(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){u=function(){var e=Mr("cordova.plugins.browsertab.close",s);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Cn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Oc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Pc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ko("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){Q(this.b,(function(e){return e==t}))};var Rc={name:"pendingRedirect",F:"session"};function Lc(t){return hc(t.b,Rc,t.a)}function Fc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Jc,this.C=new rl,this.g=new Mc(Qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jc(this.D,this.v,this.m,N,this.J)}function jc(t,e,n,r,i){var o=ke.SDK_VERSION||null;return Sr()?new Nc(t,e,n,o,r,i):new _u(t,e,n,o,r,i)}function Vc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Uc(t){t.a.Xb()&&Vc(t).o((function(e){var n=new Ko("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Kc(e)&&t.s(n)})),t.a.Tb()||Zc(t.b)}function Bc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Rc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Lc(t.g).then((function(){Vc(t).o((function(e){var n=new Ko("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Kc(e)&&t.s(n)}))})):Uc(t)})).o((function(){Uc(t)}))}function zc(t,e){Q(t.h,(function(t){return t==e}))}Fc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=jc(this.D,this.v,this.m,null,this.J),this.i={}},Fc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Zc(this.b),e};var qc=new Kr(2e3,1e4),Hc=new Kr(3e4,6e4);function Wc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Kc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Gc(t,e,n,r,i){var o;return function(t){return t.b.set(Rc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Kc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Lc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new _e((function(){})):Lc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Yc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),qc.get())}Fc.prototype.qa=function(){return this.b.qa()};var $c={};function Qc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Xc(t,e,n,r){var i=Qc(e,n,r);return $c[i]||($c[i]=new Fc(t,e,n,r)),$c[i]}function Jc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Zc(t){t.g||(t.g=!0,nl(t,!1,null,null))}function tl(t){t.g&&!t.i&&nl(t,!1,null,null)}function el(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function nl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return De(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):el(t,n):el(t,{user:null}),t.f=[],t.c=[]}function rl(){}function il(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function ol(t,e){this.a=e,ti(this,"verificationId",t)}function al(t,e,n,r){return new zo(t).fb(e,n).then((function(t){return new ol(t,r)}))}function sl(t){var e=Qi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ei(this,{token:t,expirationTime:Yr(1e3*e.exp),authTime:Yr(1e3*e.auth_time),issuedAtTime:Yr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ul(t,e,n){var r=e&&e[ll];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new ho(null,r),this.b=[];var i=this;H(e[cl]||[],(function(t){(t=oi(t))&&i.b.push(t)})),ti(this,"auth",this.a),ti(this,"session",this.c),ti(this,"hints",this.b)}Jc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Jc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(nl(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){nl(t,s,e,null)})).o((function(e){nl(t,s,null,e)}))}(this,t,e):De(new T("invalid-auth-event")):(nl(this,!1,null,null),Ce())}else De(new T("invalid-auth-event"))},Jc.prototype.qa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Cn(Hc.get()).then((function(){t.b||(t.g=!0,nl(t,!0,null,e))}))}(t))}))},rl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):De(new T("invalid-auth-event"))}else De(new T("invalid-auth-event"))},ol.prototype.confirm=function(t){return t=qo(this.verificationId,t),this.a(t)};var cl="mfaInfo",ll="mfaPendingCredential";function hl(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new ul(t,e,n),ti(this,"resolver",this.b)}function fl(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new hl(e,t.serverResponse,n,t.message)}catch(r){}return null}function dl(){}function pl(t){ti(this,"factorId",t.fa),this.a=t}function gl(t){if(pl.call(this,t),this.a.fa!=zo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ml(t,e){for(var n in tn.call(this,t),e)this[n]=e[n]}function vl(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),dn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ui]=t.uid),t.displayName&&(r[ai]=t.displayName),t.enrollmentTime&&(r[si]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ci]=t.phoneNumber);try{e=new li(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),yl(this,n)}function yl(t,e){t.b=e,ti(t,"enrolledFactors",e)}function bl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function wl(t,e){t.stop(),t.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Gr()||!t?Ce():new _e((function(n){e=function(){Gr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){wl(t,!0)})).o((function(e){t.i(e)&&wl(t,!1)}))}function _l(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function xl(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function Sl(t,e){t.b=$i(e[os]||""),t.a=e.refreshToken,xl(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function El(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ps(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(fu(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",er(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=$i(e.access_token),t.a=e.refresh_token,xl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function kl(t,e){this.a=t||null,this.b=e||null,ei(this,{lastSignInTime:Yr(e||null),creationTime:Yr(t||null)})}function Tl(t,e,n,r,i,o){ei(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Il(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=ke.SDK_VERSION?Pr(ke.SDK_VERSION):null;this.a=new rs(this.l,P(N),r),t.emulatorConfig&&hs(this.a,t.emulatorConfig),this.b=new _l(this.a),Rl(this,e[os]),Sl(this.b,e),ti(this,"refreshToken",this.b.a),jl(this,n||{}),kn.call(this),this.R=!1,this.s&&Lr()&&(this.i=Xc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new bl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=_(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){hs(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Cl(i,t.f)},this.ba=null,this.O=new vl(this,n),ti(this,"multiFactor",this.O)}function Nl(t,e){t.ja&&mn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&dn(e,"languageCodeChanged",t.Oa)}function Al(t,e){t.X&&mn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&dn(e,"emulatorConfigChanged",t.Aa)}function Cl(t,e){t.$=e,ds(t.a,ke.SDK_VERSION?Pr(ke.SDK_VERSION,t.$):null)}function Dl(t,e){t.ba&&mn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&dn(e,"frameworkChanged",t.Ba)}function Pl(t){try{return ke.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ol(t){t.D||t.u.b||(t.u.start(),mn(t,"tokenChanged",t.aa),dn(t,"tokenChanged",t.aa))}function Ml(t){mn(t,"tokenChanged",t.aa),t.u.stop()}function Rl(t,e){t.za=e,ti(t,"_lat",e)}function Ll(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Oe(e).then((function(){return t}))}function Fl(t){t.i&&!t.R&&(t.R=!0,Bc(t.i,t))}function jl(t,e){ei(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new kl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Vl(){}function Ul(t){return Ce().then((function(){if(t.D)throw new T("app-deleted")}))}function Bl(t){return K(t.providerData,(function(t){return t.providerId}))}function zl(t,e){e&&(ql(t,e.providerId),t.providerData.push(e))}function ql(t,e){Q(t.providerData,(function(t){return t.providerId==e}))}function Hl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&ti(t,e,n)}function Wl(t,e){t!=e&&(ei(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?ti(t,"metadata",function(t){return new kl(t.a,t.b)}(e.metadata)):ti(t,"metadata",new kl),H(e.providerData,(function(e){zl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),ti(t,"refreshToken",t.b.a),yl(t.O,e.O.b))}function Kl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return lu(t.a,Bs,{idToken:e}).then(_(t.Kc,t))}(t,e).then((function(){return n||Hl(t,"isAnonymous",!1),e}))}))}function Gl(t,e){e[os]&&t.za!=e[os]&&(Sl(t.b,e),t.dispatchEvent(new ml("tokenChanged")),Rl(t,e[os]),Hl(t,"refreshToken",t.b.a))}function Yl(t,e){return Kl(t).then((function(){if(Y(Bl(t),e))return Ll(t).then((function(){throw new T("provider-already-linked")}))}))}function $l(t,e,n){return ni({user:t,credential:Ho(e),additionalUserInfo:e=eo(e),operationType:n})}function Ql(t,e){return Gl(t,e),t.reload().then((function(){return t}))}function Xl(t,e,n,r,i){if(!Lr())return De(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return De(t.h);var o=to(n.providerId),a=qr(t.uid+":::"),s=null;(!Vr()||Er())&&t.s&&n.isOAuthProvider&&(s=ku(t.s,t.l,t.m,e,n,null,a,ke.SDK_VERSION||null,null,null,t.tenantId));var u=br(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Zl(t),!i)return t.I().then((function(){}))})).then((function(){return Wc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new _e((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Yc(t.i,t,e,u,a)}))})).then((function(t){return u&&yr(u),t?ni(t):null})).o((function(t){throw u&&yr(u),t})),th(t,r,i)}function Jl(t,e,n,r,i){if(!Lr())return De(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return De(t.h);var o=null,a=qr(t.uid+":::");return r=r().then((function(){if(Zl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Ll(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(rh,t.w(),e.a)),e})).then((function(){return Gc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return ih(t.ha);throw o})).then((function(){if(o)throw o})),th(t,r,i)}function Zl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function th(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),De(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ml("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){$(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=fl(e.w(),Pl(t),_(t.jc,t))),n||e}))}function eh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[os]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&zl(i,ni(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function nh(t){this.a=t,this.b=uc()}ul.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[cl],delete n[ll],vt(n,t),e.g(n)}))},E(hl,T),dl.prototype.sb=function(t,e,n){return e.type==fo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Bo(t.a)}),lu(e,Vs,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Bo(t.a)}),lu(e,Us,n)}))}(this,t,e)},E(pl,dl),E(gl,pl),E(ml,tn),(t=vl.prototype).yc=function(t){yl(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=oi(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ho(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Gl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return lu(r,cu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return yl(e,r),Gl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},bl.prototype.start=function(){this.a=this.c,wl(this,!0)},bl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_l.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},_l.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?De(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?El(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},kl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(Il,kn),Il.prototype.wa=function(t){this.ya=t,ls(this.a,t)},Il.prototype.la=function(){return this.ya},Il.prototype.Ga=function(){return J(this.$)},Il.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},ti(Il.prototype,"providerId","firebase"),(t=Il.prototype).reload=function(){var t=this;return th(this,Ul(this).then((function(){return Kl(t).then((function(){return Ll(t)})).then(Vl)})))},t.oc=function(t){return this.I(t).then((function(t){return new sl(t)}))},t.I=function(t){var e=this;return th(this,Ul(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Rl(e,t.accessToken),e.dispatchEvent(new ml("tokenChanged"))),Hl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");jl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new Tl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)zl(this,e[n]);Hl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ml("userReloaded",{hd:t}))},t.Lc=function(t){return Jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return th(this,t.c(this.a,this.uid).then((function(t){return Gl(e,t),n=$l(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return th(this,Yl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=$l(e,t,"link"),Ql(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return th(this,Yl(this,"phone").then((function(){return al(Pl(n),t,e,_(n.qb,n))})))},t.Mc=function(t,e){var n=this;return th(this,Ce().then((function(){return al(Pl(n),t,e,_(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return th(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Gl(e,t),e.reload()})))},t.ed=function(t){var e=this;return th(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Gl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return th(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Gl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ul(this);var e=this;return th(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Gl(e,t),Hl(e,"displayName",t.displayName||null),Hl(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(ti(t,"displayName",e.displayName),ti(t,"photoURL",e.photoURL))})),Ll(e)})).then(Vl))},t.cd=function(t){var e=this;return th(this,Kl(this).then((function(n){return Y(Bl(e),t)?function(t,e,n){return lu(t,Ls,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Bl(e),(function(t){n[t]||ql(e,t)})),n[zo.PROVIDER_ID]||ti(e,"phoneNumber",null),Ll(e)})):Ll(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return th(this,this.I().then((function(e){return lu(t.a,Rs,{idToken:e})})).then((function(){t.dispatchEvent(new ml("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");Nl(t,null),Al(t,null),Dl(t,null),t.J=[],t.D=!0,Ml(t),ti(t,"refreshToken",null),t.i&&zc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):null},t.Ec=function(t){var e=this;return Xl(this,"linkViaPopup",t,(function(){return Yl(e,t.providerId).then((function(){return Ll(e)}))}),!1)},t.Nc=function(t){return Xl(this,"reauthViaPopup",t,(function(){return Ce()}),!0)},t.Fc=function(t){var e=this;return Jl(this,"linkViaRedirect",t,(function(){return Yl(e,t.providerId)}),!1)},t.Oc=function(t){return Jl(this,"reauthViaRedirect",t,(function(){return Ce()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return th(this,this.I().then((function(n){return Ns(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=$l(i,t,"link"),Ql(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Ce().then((function(){return mo(As(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=$l(i,t,"reauthenticate"),Gl(i,t),i.h=null,i.reload()})).then((function(){return o}));return th(this,a,!0)},t.ub=function(t){var e=this,n=null;return th(this,this.I().then((function(e){return n=e,"undefined"===typeof t||pt(t)?{}:Hi(new Mi(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return th(this,this.I().then((function(t){return r=t,"undefined"===typeof e||pt(e)?{}:Hi(new Mi(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return th(this,t=mo(Ce(t),n.uid).then((function(t){return e=$l(n,t,"reauthenticate"),Gl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.O.w()),t};var rh={name:"redirectUser",F:"session"};function ih(t){return hc(t.b,rh,t.a)}function oh(t){this.a=t,this.b=uc(),this.c=null,this.f=function(t){var e=uh("local"),n=uh("session"),r=uh("none");return function(t,e,n){var r=lc(e,n),i=cc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=zr(s.localStorage.getItem(r))}catch(Ne){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(sh,t.a).then((function(t){return t?uh(t):e}))}))}))})).then((function(e){return t.c=e,ah(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(uh("local"),this.a,_(this.g,this))}function ah(t,e){var n,r=[];for(n in ac)ac[n]!==e&&r.push(hc(t.b,uh(ac[n]),t.a));return r.push(hc(t.b,sh,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Pe(t[s],x(o,s),a);else e(i)}))}(r)}oh.prototype.g=function(){var t=this,e=uh("local");fh(this,(function(){return Ce().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return ah(t,"local").then((function(){t.c=e}))}))}))};var sh={name:"persistence",F:"session"};function uh(t){return{name:"authUser",F:t}}function ch(t,e){return fh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function lh(t){return fh(t,(function(){return hc(t.b,t.c,t.a)}))}function hh(t,e,n){return fh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),eh(t||{})}))}))}function fh(t,e){return t.f=t.f.then(e,e),t.f}function dh(t){if(this.l=!1,ti(this,"settings",new il),ti(this,"app",t),!xh(this).options||!xh(this).options.apiKey)throw new T("invalid-api-key");t=ke.SDK_VERSION?Pr(ke.SDK_VERSION):null,this.a=new rs(xh(this).options&&xh(this).options.apiKey,P(N),t),this.R=[],this.s=[],this.O=[],this.hb=ke.INTERNAL.createSubscribe(_(this.zc,this)),this.X=void 0,this.bc=ke.INTERNAL.createSubscribe(_(this.Ac,this)),wh(this,null),this.i=new oh(xh(this).options.apiKey+":"+xh(this).name),this.D=new nh(xh(this).options.apiKey+":"+xh(this).name),this.$=Th(this,function(t){var e=xh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(rh,t.a).then((function(t){return t&&e&&(t.authDomain=e),eh(t||{})}))}(t.D,xh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),ih(t.D)}));return Th(t,e)}(t).then((function(){return hh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return ch(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:lh(t.i)}))):null})).then((function(e){wh(t,e||null)}));return Th(t,n)}(this)),this.h=Th(this,function(t){return t.$.then((function(){return yh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(uh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.ya=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=xh(t).options.authDomain,n=xh(t).options.apiKey;e&&Lr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Xc(e,n,xh(t).name,t.P),Bc(t.b,t),Sh(t)&&Fl(Sh(t)),t.m){Fl(t.m);var r=t.m;r.wa(t.la()),Nl(r,t),Cl(r=t.m,t.J),Dl(r,t),hs((r=t.m).a,t.P),Al(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,kn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=qn(this.P.url);t=ni({protocol:t.c,host:t.a,port:t.g,options:ni({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ph(t){tn.call(this,"languageCodeChanged"),this.h=t}function gh(t){tn.call(this,"emulatorConfigChanged"),this.c=t}function mh(t){tn.call(this,"frameworkChanged"),this.f=t}function vh(t){return t.Oa||De(new T("auth-domain-config-required"))}function yh(t){if(!Lr())return De(new T("operation-not-supported-in-this-environment"));var e=vh(t).then((function(){return t.b.qa()})).then((function(t){return t?ni(t):null}));return Th(t,e)}function bh(t,e){var n={};return n.apiKey=xh(t).options.apiKey,n.authDomain=xh(t).options.authDomain,n.appName=xh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new Il(t,e);return n&&(i.ha=n),r&&Cl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return Sh(t)&&e.uid==Sh(t).uid?(Wl(Sh(t),e),t.da(e)):(wh(t,e),Fl(e),t.da(e))})).then((function(){kh(t)}))}function wh(t,e){Sh(t)&&(function(t,e){Q(t.S,(function(t){return t==e}))}(Sh(t),t.Ba),mn(Sh(t),"tokenChanged",t.ya),mn(Sh(t),"userDeleted",t.za),mn(Sh(t),"userInvalidated",t.Aa),Ml(Sh(t))),e&&(e.S.push(t.Ba),dn(e,"tokenChanged",t.ya),dn(e,"userDeleted",t.za),dn(e,"userInvalidated",t.Aa),0<t.u&&Ol(e)),ti(t,"currentUser",e),e&&(e.wa(t.la()),Nl(e,t),Cl(e,t.J),Dl(e,t),hs(e.a,t.P),Al(e,t))}function _h(t,e){var n=null,r=null;return Th(t,e.then((function(e){return n=Ho(e),r=eo(e),bh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=fl(e.w(),t,_(t.kc,t))),n||e})).then((function(){return ni({user:Sh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function xh(t){return t.app}function Sh(t){return t.currentUser}function Eh(t){return Sh(t)&&Sh(t)._lat||null}function kh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](Eh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Eh(t))}}function Th(t,e){return t.R.push(e),e.oa((function(){$(t.R,e)})),e}function Ih(){}function Nh(){this.a={},this.b=1e12}oh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in ac)if(ac[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Vu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),fh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,ah(n,t)})).then((function(){if(n.c=uh(t),e)return n.b.set(n.c,e,n.a)})):Ce()}))},E(dh,kn),E(ph,tn),E(gh,tn),E(mh,tn),(t=dh.prototype).xb=function(t){return Th(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ls(this.a,this.aa),this.dispatchEvent(new ph(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&xr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,hs(this.a,this.P),this.dispatchEvent(new gh(this.P))}},t.Gc=function(t){this.J.push(t),ds(this.a,ke.SDK_VERSION?Pr(ke.SDK_VERSION,this.J):null),this.dispatchEvent(new mh(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:xh(this).options.apiKey,authDomain:xh(this).options.authDomain,appName:xh(this).name,currentUser:Sh(this)&&Sh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return _h(i,Is(i.a,o))}))},t.Xc=function(t){if(!Lr())return De(new T("operation-not-supported-in-this-environment"));var e=this,n=to(t.providerId),r=qr(),i=null;(!Vr()||Er())&&xh(this).options.authDomain&&t.isOAuthProvider&&(i=ku(xh(this).options.authDomain,xh(this).options.apiKey,xh(this).name,"signInViaPopup",t,null,r,ke.SDK_VERSION||null,null,null,this.T(),this.P));var o=br(i,n&&n.ua,n&&n.ta);return n=vh(this).then((function(n){return Wc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new _e((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Yc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&yr(o),t?ni(t):null})).o((function(t){throw o&&yr(o),t})),Th(this,n)},t.Yc=function(t){if(!Lr())return De(new T("operation-not-supported-in-this-environment"));var e=this,n=vh(this).then((function(){return function(t){return fh(t,(function(){return t.b.set(sh,t.c.F,t.a)}))}(e.i)})).then((function(){return Gc(e.b,"signInViaRedirect",t,void 0,e.T())}));return Th(this,n)},t.qa=function(){var t=this;return yh(this).then((function(e){return t.b&&tl(t.b.b),e})).o((function(e){throw t.b&&tl(t.b.b),e}))},t.dd=function(t){if(!t)return De(new T("null-user"));if(this.S!=t.tenantId)return De(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=xh(this).options.apiKey,n.authDomain=xh(this).options.authDomain,n.appName=xh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[os]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Il(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Cl(e,r),Wl(e,t),e}(t,n,e.D,e.Ga());return Th(this,this.h.then((function(){if(xh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Sh(e)&&t.uid==Sh(e).uid?(Wl(Sh(e),t),e.da(t)):(wh(e,r),Fl(r),e.da(r))})).then((function(){kh(e)})))},t.Ab=function(){var t=this;return Th(this,this.h.then((function(){return t.b&&tl(t.b.b),Sh(t)?(wh(t,null),lh(t.i).then((function(){kh(t)}))):Ce()})))},t.Zc=function(){var t=this;return hh(this.i,xh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Sh(t)&&e){n=Sh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Wl(Sh(t),e),Sh(t).I();(Sh(t)||e)&&(wh(t,e),e&&(Fl(e),e.ha=t.D),t.b&&Bc(t.b,t),kh(t))}}))},t.da=function(t){return ch(this.i,t)},t.mc=function(){kh(this),this.da(Sh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return _h(e,Ce(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Sh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),Th(t,t.h.then((function(){!t.l&&Y(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(Eh(t)))})))}(this,(function(){t.next(Sh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(Sh(r)):"function"===typeof t.next&&t.next(Sh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(Sh(r)):"function"===typeof t.next&&t.next(Sh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return Th(this,this.h.then((function(){return Sh(e)?Sh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return _h(e,lu(e.a,iu,{token:t}))})).then((function(t){var n=t.user;return Hl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return _h(n,lu(n.a,ou,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return _h(n,lu(n.a,Os,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return _h(e,t.ka(e.a))}))},t.Sc=function(t){return Jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=Sh(t);if(e&&e.isAnonymous){var n=ni({providerId:null,isNewUser:!1});return ni({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return _h(t,t.a.zb()).then((function(e){var n=e.user;return Hl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return Sh(this)&&Sh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Sh(this)&&Ol(Sh(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&Sh(this)&&Ml(Sh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),Th(this,this.h.then((function(){e.l||Y(e.s,t)&&t(Eh(e))})))},t.removeAuthTokenListener=function(t){Q(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(uh("local"),t.a,this.ja),this.b&&(zc(this.b,this),tl(this.b.b)),Promise.resolve()},t.hc=function(t){return Th(this,function(t,e){return lu(t,Ms,{identifier:e,continueUri:Fr()?pr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!jo(t)},t.wb=function(t,e){var n=this;return Th(this,Ce().then((function(){var t=new Mi(e);if(!t.c)throw new T("argument-error",Fi+" must be true when sending sign in link to email");return Hi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return Th(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return Th(this,this.a.Ra(t).then((function(t){return new hi(t)})))},t.jb=function(t){return Th(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return Th(this,Ce().then((function(){return"undefined"===typeof e||pt(e)?{}:Hi(new Mi(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return Th(this,al(this,t,e,_(this.$a,this)))},t.Vc=function(t,e){var n=this;return Th(this,Ce().then((function(){var r=e||pr(),i=Fo(t,r);if(!(r=jo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Ah=null;function Ch(t,e){return(e=Dh(e))&&t.a[e]||null}function Dh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Ph(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():dn(this.f,"click",this.i)}function Oh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Mh(){}function Rh(){}Nh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ph(t,e),this.b++},Nh.prototype.reset=function(t){var e=Ch(this,t);t=Dh(t),e&&t&&(e.delete(),delete this.a[t])},Nh.prototype.getResponse=function(t){return(t=Ch(this,t))?t.getResponse():null},Nh.prototype.execute=function(t){(t=Ch(this,t))&&t.execute()},Ph.prototype.getResponse=function(){return Oh(this),this.b},Ph.prototype.execute=function(){Oh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Ph.prototype.delete=function(){Oh(this),this.g=!0,clearTimeout(this.a),this.a=null,mn(this.f,"click",this.i)},ti(Mh,"FACTOR_ID","phone"),Rh.prototype.g=function(){return Ah||(Ah=new Nh),Ce(Ah)},Rh.prototype.c=function(){};var Lh=null;function Fh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jh=new bt(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Vh=new Kr(3e4,6e4);Fh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Vh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Ce(Qa(It(jh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Fh.prototype.c=function(){this.b--};var Uh=null;function Bh(t,e,n,r,i,o,a){if(ti(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Lh||(Lh=new Rh),a=Lh):(Uh||(Uh=new Fh),a=Uh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Hh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Wh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new rs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[zh];this.a[zh]=function(t){if(Kh(u,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Mr(c,s);"function"===typeof e&&e(t)}};var l=this.a[qh];this.a[qh]=function(){if(Kh(u,null),"function"===typeof l)l();else if("string"===typeof l){var t=Mr(l,s);"function"===typeof t&&t()}}}var zh="callback",qh="expired-callback",Hh="sitekey",Wh="size";function Kh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Gh(t,e){return t.h.push(e),e.oa((function(){$(t.h,e)})),e}function Yh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function $h(t,e,n){var r=!1;try{this.b=n||ke.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=ke.SDK_VERSION?Pr(ke.SDK_VERSION,o):null,Bh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(Ne){t=null}return t}),o,P(N),r)}function Qh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Xh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Xh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Bh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Gh(this,Ce().then((function(){if(Fr()&&!kr())return xr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,lu(t.s,Gs,{})})).then((function(e){t.a[Hh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Yh(this);var t=this;return Gh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=pe("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Yh(this);var t=this;return Gh(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Yh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Yh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E($h,Bh);var Xh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Jh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Zh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function tf(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function ef(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function nf(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function rf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function of(t,e){return g(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function af(t){return g(t)&&"string"===typeof t.uid}function sf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function uf(t,e){for(var n in e){var r=e[n].name;t[r]=hf(r,t[n],e[n].j)}}function cf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:x((function(t){return this[t]}),n),set:x((function(t,e,n,r){Qh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function lf(t,e,n,r){t[e]=hf(e,n,r)}function hf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Qh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return t=t.split("."),t[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}uf(dh.prototype,{jb:{name:"applyActionCode",j:[Jh("code")]},Ra:{name:"checkActionCode",j:[Jh("code")]},nb:{name:"confirmPasswordReset",j:[Jh("code"),Jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Jh("email"),Jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Jh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sf(tf(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sf(tf(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Jh("email"),sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Jh("email"),tf("actionCodeSettings")]},xb:{name:"setPersistence",j:[Jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[rf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[rf()]},Tc:{name:"signInWithCustomToken",j:[Jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Jh("email"),Jh("password")]},Vc:{name:"signInWithEmailLink",j:[Jh("email"),Jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Il)}},nf(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Jh("url"),tf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Jh("code")]}}),cf(dh.prototype,{lc:{name:"languageCode",kb:sf(Jh(),nf(),"languageCode")},ti:{name:"tenantId",kb:sf(Jh(),nf(),"tenantId")}}),dh.Persistence=ac,dh.Persistence.LOCAL="local",dh.Persistence.SESSION="session",dh.Persistence.NONE="none",uf(Il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[rf()]},qb:{name:"linkWithCredential",j:[rf()]},Dc:{name:"linkWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[rf()]},tb:{name:"reauthenticateWithCredential",j:[rf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},cd:{name:"unlink",j:[Jh("provider")]},Bb:{name:"updateEmail",j:[Jh("email")]},Cb:{name:"updatePassword",j:[Jh("password")]},ed:{name:"updatePhoneNumber",j:[rf("phone")]},Db:{name:"updateProfile",j:[tf("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Jh("email"),sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]}}),uf(Nh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),cf(il.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Zh("appVerificationDisabledForTesting")}}),uf(ol.prototype,{confirm:{name:"confirm",j:[Jh("verificationCode")]}}),lf(go,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[xo,Ro,Uo,bo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[sf(Jh(),tf(),"json")]),lf(Lo,"credential",(function(t,e){return new Mo(t,e)}),[Jh("email"),Jh("password")]),uf(Mo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(To.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),lf(To,"credential",Io,[sf(Jh(),tf(),"token")]),lf(Lo,"credentialWithLink",Fo,[Jh("email"),Jh("emailLink")]),uf(No.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),lf(No,"credential",Ao,[sf(Jh(),tf(),"token")]),uf(Co.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),lf(Co,"credential",Do,[sf(Jh(),sf(tf(),nf()),"idToken"),sf(Jh(),nf(),"accessToken",!0)]),uf(Po.prototype,{Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),lf(Po,"credential",Oo,[sf(Jh(),tf(),"token"),Jh("secret",!0)]),uf(ko.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},credential:{name:"credential",j:[sf(Jh(),sf(tf(),nf()),"optionsOrIdToken"),sf(Jh(),nf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),uf(wo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(vo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),lf(zo,"credential",qo,[Jh("verificationId"),Jh("verificationCode")]),uf(zo.prototype,{fb:{name:"verifyPhoneNumber",j:[sf(Jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?of(t.session,fo)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?of(t.session,po)&&af(t.multiFactorHint):t.session&&t.multiFactorUid?of(t.session,po)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),uf(Vo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(T.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Jo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Xo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(hl.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(ul.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),uf(vl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Jh("displayName",!0)]},bd:{name:"unenroll",j:[sf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:af},Jh(),"multiFactorInfoIdentifier")]}}),uf($h.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lf(ki,"parseLink",Oi,[Jh("link")]),lf(Mh,"assertion",(function(t){return new gl(t)}),[rf("phone")]),function(){if("undefined"===typeof ke||!ke.INTERNAL||!ke.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:di,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:dh,AuthCredential:go,Error:T};lf(t,"EmailAuthProvider",Lo,[]),lf(t,"FacebookAuthProvider",To,[]),lf(t,"GithubAuthProvider",No,[]),lf(t,"GoogleAuthProvider",Co,[]),lf(t,"TwitterAuthProvider",Po,[]),lf(t,"OAuthProvider",ko,[Jh("providerId")]),lf(t,"SAMLAuthProvider",Eo,[Jh("providerId")]),lf(t,"PhoneAuthProvider",zo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof dh)}}]),lf(t,"RecaptchaVerifier",$h,[sf(Jh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),tf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof ke.app.App)}}]),lf(t,"ActionCodeURL",ki,[]),lf(t,"PhoneMultiFactorGenerator",Mh,[]),ke.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new dh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),ke.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ke.registerVersion("@firebase/auth","0.16.5"),ke.INTERNAL.extendNamespace({User:Il})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});ke.initializeApp({apiKey:"AIzaSyBgy_O0YFw0iEwjHz1B5VKMnRT9JNREZZ0",authDomain:"nbabettingtracker.firebaseapp.com",projectId:"nbabettingtracker",storageBucket:"nbabettingtracker.appspot.com",messagingSenderId:"11276115862",appId:"1:11276115862:web:aa6c7c37524a61cc56c7b7"});const Wg=ke.firestore(),Kg=ke.auth(),Gg=ke.firestore.Timestamp;var Yg=n(184);const $g=(0,e.createContext)({}),Qg=(t,e)=>{switch(e.type){case"LOGIN":return{...t,user:e.payload};case"LOGOUT":return{...t,user:null};case"AUTH_IS_READY":return{...t,user:e.payload,authIsReady:!0};default:return t}},Xg=t=>{let{children:n}=t;const[r,i]=(0,e.useReducer)(Qg,{user:null,authIsReady:!1});return(0,e.useEffect)((()=>{const t=Kg.onAuthStateChanged((e=>{i({type:"AUTH_IS_READY",payload:e}),t()}))}),[]),(0,Yg.jsx)($g.Provider,{value:{...r,dispatch:i},children:n})},Jg=()=>{const t=(0,e.useContext)($g);if(!t)throw Error("useAuthContext must be inside an AuthContextProvider");return t};function Zg(){const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(""),{login:s,error:u,isPending:c}=function(){const t=it(),[n,r]=(0,e.useState)(!1),[i,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(!1),{dispatch:u}=Jg();return(0,e.useEffect)((()=>()=>{r(!0)}),[]),{login:async(e,r)=>{o(null),s(!0);try{const i=await Kg.signInWithEmailAndPassword(e,r);u({type:"LOGIN",payload:i.user}),t("/NBA-Betting-App/"),n||(s(!1),o(null))}catch(i){n||(o(i.message),s(!1))}},error:i,isPending:a}}();return(0,Yg.jsxs)(Yg.Fragment,{children:[(0,Yg.jsxs)("div",{className:"login-container",children:[(0,Yg.jsx)("img",{className:"cat",src:Tt}),u&&(0,Yg.jsx)("p",{className:"error-login",children:u}),(0,Yg.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s(r,o)},children:[(0,Yg.jsx)("div",{children:(0,Yg.jsxs)("label",{className:"email-container",children:["Email",(0,Yg.jsx)("input",{className:"email",type:"email",onChange:t=>{i(t.target.value)},value:r})]})}),(0,Yg.jsx)("div",{children:(0,Yg.jsxs)("label",{className:"pw-container",children:["Password",(0,Yg.jsx)("input",{className:"pw",type:"password",onChange:t=>a(t.target.value),value:o})]})}),c?(0,Yg.jsx)("button",{className:"login-button",disabled:!0,children:"Loading..."}):(0,Yg.jsx)("button",{className:"login-button",children:"Login"}),(0,Yg.jsxs)("h3",{className:"member",children:["Not a member?",(0,Yg.jsx)("span",{children:(0,Yg.jsx)(St,{to:"/signup",className:"signup-member-button",children:(0,Yg.jsx)("h3",{className:"signup-member",children:"Sign Up"})})})]})]})]}),(0,Yg.jsx)("h1",{className:"footer",children:"Created by Don Do - Beta Version 0.1"})]})}const tm=()=>{const t=it(),{dispatch:n}=Jg(),[r,i]=(0,e.useState)(!1),[o,a]=(0,e.useState)(null),[s,u]=(0,e.useState)(null);return(0,e.useEffect)((()=>()=>{i(!0)}),[]),{error:o,isPending:s,signup:async(e,i,o)=>{a(null),u(!0);try{const s=await Kg.createUserWithEmailAndPassword(e,i);if(!s)throw new Error("Could not complete signup");s.user&&(s.user.updateProfile({displayName:o}),n({type:"LOGIN",payload:s.user}),t("/")),r||(u(!1),a(null))}catch(s){r||(a(s.message),u(!1))}}}};function em(){const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(""),{error:s,isPending:u,signup:c}=tm();return(0,Yg.jsxs)("div",{className:"login-container",children:[(0,Yg.jsx)("img",{className:"cat",src:Tt}),s&&(0,Yg.jsx)("p",{className:"error-signup",children:s}),(0,Yg.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c(t,r,o)},children:[(0,Yg.jsx)("div",{children:(0,Yg.jsxs)("label",{className:"email-container",children:["Email",(0,Yg.jsx)("input",{className:"email",type:"email",value:t,onChange:t=>n(t.target.value)})]})}),(0,Yg.jsxs)("div",{children:[(0,Yg.jsxs)("label",{className:"pw-container",children:["Password",(0,Yg.jsx)("input",{className:"pw",type:"password",value:r,onChange:t=>i(t.target.value)})]}),(0,Yg.jsxs)("label",{className:"user-container",children:["Username",(0,Yg.jsx)("input",{className:"user",type:"text",value:o,onChange:t=>a(t.target.value),maxLength:12})]})]}),u?(0,Yg.jsx)("button",{className:"login-button",disabled:!0,children:"Loading..."}):(0,Yg.jsx)("button",{className:"login-button",children:"Sign Up"})]})]})}function nm(){return(0,Yg.jsxs)("div",{className:"nav-container",children:[(0,Yg.jsx)(St,{to:"/NBA-Betting-App/",className:"nav-buttons",children:(0,Yg.jsx)("h1",{children:"NBA Betting Tracker"})}),(0,Yg.jsxs)("div",{className:"login-section",children:[(0,Yg.jsx)(St,{to:"/login",className:"nav-buttons",children:(0,Yg.jsx)("h2",{className:"login",children:"Login"})}),(0,Yg.jsx)(St,{to:"/signup",className:"nav-buttons",children:(0,Yg.jsx)("h2",{className:"signup",children:"Signup"})})]})]})}function rm(){const{user:t}=Jg(),{logout:n}=function(){const t=it(),[n,r]=(0,e.useState)(!1),[i,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(!1),{dispatch:u}=Jg();return(0,e.useEffect)((()=>()=>{r(!0)}),[]),{logout:async()=>{o(null),s(!0);try{await Kg.signOut(),u({type:"LOGOUT"}),t("/NBA-Betting-App/"),n||(s(!1),o(null))}catch(e){n||(o(e.message),s(!1))}},error:i,isPending:a}}();return(0,Yg.jsxs)("nav",{className:"nav",children:[(0,Yg.jsx)("img",{src:Tt,alt:"",className:"user-profile"}),(0,Yg.jsx)("h1",{children:t.displayName}),(0,Yg.jsx)(St,{to:"/NBA-Betting-App/",className:"home",children:(0,Yg.jsx)("h3",{children:"Home"})}),(0,Yg.jsx)(St,{to:"/bets",className:"bet",children:(0,Yg.jsx)("h3",{children:"Open Bets"})}),(0,Yg.jsx)(St,{to:"/profits",className:"profit",children:(0,Yg.jsx)("h3",{children:"Profit"})}),(0,Yg.jsx)("button",{onClick:function(){n()},className:"logout",children:"Logout"})]})}const im=(t,n,r)=>{const[i,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(null),u=(0,e.useRef)(n).current;return(0,e.useEffect)((()=>{let e;e=u?Wg.collection(t).where("user","==",r):Wg.collection(t);const n=e.onSnapshot((t=>{let e=[];t.docs.forEach((t=>{e.push({...t.data(),docid:t.id})})),o(e),s(null)}),(t=>{s("Could not fetch data")}));return()=>n()}),[t,u]),{documents:i,error:a}};function om(t){const n=t.transactions,[r,i]=(0,e.useState)(null),[o,a]=(0,e.useState)([]),[s,u]=(0,e.useState)(""),[c,l]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{(async()=>{await Promise.all(n.map((async t=>{const e=await fetch("https://www.balldontlie.io/api/v1/games/".concat(t.gameId)),n=await e.json();a((t=>[...t,n]))})))})()}),[n]),0===n.length?(0,Yg.jsx)("h1",{className:"noBet",children:"No Bets Found!"}):(0,Yg.jsx)("div",{className:"bet-container",children:n.map((t=>{if(n.length===o.length){let e=o.filter((e=>e.id===t.gameId));if("Final"!==e[0].status)return(0,Yg.jsxs)("div",{className:"bets",children:[(0,Yg.jsx)("h1",{className:"game",children:t.date}),(0,Yg.jsxs)("h1",{className:"game",children:[e[0].home_team.abbreviation," ",e[0].home_team_score," - ",e[0].visitor_team_score," ",e[0].visitor_team.abbreviation," "]}),(0,Yg.jsx)("p",{className:"result",children:"Pending"}),(0,Yg.jsxs)("div",{className:"teamSpread",children:[t[t.spreadHome.homeTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadHome.homeTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadHome[t.spreadHome.homeTeam]})]}),t[t.spreadAway.awayTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadAway.awayTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadHome[t.spreadHome.homeTeam]})]}),(0,Yg.jsx)("p",{className:"odds",children:"-110"})]}),(0,Yg.jsxs)("div",{className:"wagerAmount",children:[(0,Yg.jsxs)("p",{className:"betAmount",children:["Wager: $",t.wager]}),(0,Yg.jsx)("p",{className:"profit",children:"Profit: Pending"})]})]},t.docid);if("Final"===e[0].status)if(!1===t[e[0].home_team.abbreviation]){let n=Number(e[0].home_team_score)+Number(t.spreadHome[e[0].home_team.abbreviation]);if(n>e[0].visitor_team_score){return Wg.collection("transactions").doc("".concat(t.docid)).update({finished:!0,profit:"".concat(-t.wager)}),(0,Yg.jsxs)("div",{className:"bets",children:[(0,Yg.jsx)("h1",{className:"game",children:t.date}),(0,Yg.jsxs)("h1",{className:"game",children:[e[0].home_team.abbreviation," ",e[0].home_team_score," - ",e[0].visitor_team_score," ",e[0].visitor_team.abbreviation," "]}),(0,Yg.jsx)("p",{className:"result",children:"Loss"}),(0,Yg.jsxs)("div",{className:"teamSpread",children:[t[t.spreadHome.homeTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadHome.homeTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadHome[t.spreadHome.homeTeam]})]}),t[t.spreadAway.awayTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadAway.awayTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadAway[t.spreadAway.awayTeam]})]}),(0,Yg.jsx)("p",{className:"odds",children:"-110"})]}),(0,Yg.jsxs)("div",{className:"wagerAmount",children:[(0,Yg.jsxs)("p",{className:"betAmount",children:["Wager: $",t.wager]}),(0,Yg.jsxs)("p",{className:"profit loss",children:["Profit: -$",t.wager]})]})]},t.docid)}if(n<e[0].visitor_team_score){return Wg.collection("transactions").doc("".concat(t.docid)).update({finished:!0}),(0,Yg.jsxs)("div",{className:"bets",children:[(0,Yg.jsx)("h1",{className:"game",children:t.date}),(0,Yg.jsxs)("h1",{className:"game",children:[e[0].home_team.abbreviation," ",e[0].home_team_score," - ",e[0].visitor_team_score," ",e[0].visitor_team.abbreviation," "]}),(0,Yg.jsx)("p",{className:"result",children:"Win"}),(0,Yg.jsxs)("div",{className:"teamSpread",children:[t[t.spreadHome.homeTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadHome.homeTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadHome[t.spreadHome.homeTeam]})]}),t[t.spreadAway.awayTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadAway.awayTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadAway[t.spreadAway.awayTeam]})]}),(0,Yg.jsx)("p",{className:"odds",children:"-110"})]}),(0,Yg.jsxs)("div",{className:"wagerAmount",children:[(0,Yg.jsxs)("p",{className:"betAmount",children:["Wager: $",t.wager]}),(0,Yg.jsxs)("p",{className:"profit win",children:["Profit: $",Math.round(1.91*t.wager)-t.wager]})]})]},t.docid)}if(n===e[0].visitor_team_score)return(0,Yg.jsxs)("div",{className:"bets",children:[(0,Yg.jsx)("h1",{className:"game",children:t.date}),(0,Yg.jsxs)("h1",{className:"game",children:[e[0].home_team.abbreviation," ",e[0].home_team_score," - ",e[0].visitor_team_score," ",e[0].visitor_team.abbreviation," "]}),(0,Yg.jsx)("p",{className:"result",children:"Tie"}),(0,Yg.jsxs)("div",{className:"teamSpread",children:[t[t.spreadHome.homeTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadHome.homeTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadHome[t.spreadHome.homeTeam]})]}),t[t.spreadAway.awayTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadAway.awayTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadAway[t.spreadAway.awayTeam]})]}),(0,Yg.jsx)("p",{className:"odds",children:"-110"})]}),(0,Yg.jsxs)("div",{className:"wagerAmount",children:[(0,Yg.jsxs)("p",{className:"betAmount",children:["Wager: $",t.wager]}),(0,Yg.jsx)("p",{className:"profit",children:"Profit: $0"})]})]},t.docid)}else if(!0===t[e[0].home_team.abbreviation]){let n=Number(e[0].home_team_score)+Number(t.spreadHome[e[0].home_team.abbreviation]);if(n>e[0].visitor_team_score){return Wg.collection("transactions").doc("".concat(t.docid)).update({finished:!0}),(0,Yg.jsxs)("div",{className:"bets",children:[(0,Yg.jsx)("h1",{className:"game",children:t.date}),(0,Yg.jsxs)("h1",{className:"game",children:[e[0].home_team.abbreviation," ",e[0].home_team_score," - ",e[0].visitor_team_score," ",e[0].visitor_team.abbreviation," "]}),(0,Yg.jsx)("p",{className:"result",children:"Win"}),(0,Yg.jsxs)("div",{className:"teamSpread",children:[t[t.spreadHome.homeTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadHome.homeTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadHome[t.spreadHome.homeTeam]})]}),t[t.spreadAway.awayTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadAway.awayTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadAway[t.spreadAway.awayTeam]})]}),(0,Yg.jsx)("p",{className:"odds",children:"-110"})]}),(0,Yg.jsxs)("div",{className:"wagerAmount",children:[(0,Yg.jsxs)("p",{className:"betAmount",children:["Wager: $",t.wager]}),(0,Yg.jsxs)("p",{className:"profit win",children:["Profit: $",Math.round(1.91*t.wager)-t.wager]})]})]},t.docid)}if(n<e[0].visitor_team_score){return Wg.collection("transactions").doc("".concat(t.docid)).update({finished:!0,profit:"".concat(-t.wager)}),(0,Yg.jsxs)("div",{className:"bets",children:[(0,Yg.jsx)("h1",{className:"game",children:t.date}),(0,Yg.jsxs)("h1",{className:"game",children:[e[0].home_team.abbreviation," ",e[0].home_team_score," - ",e[0].visitor_team_score," ",e[0].visitor_team.abbreviation," "]}),(0,Yg.jsx)("p",{className:"result",children:"Loss"}),(0,Yg.jsxs)("div",{className:"teamSpread",children:[t[t.spreadHome.homeTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadHome.homeTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadHome[t.spreadHome.homeTeam]})]}),t[t.spreadAway.awayTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadAway.awayTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadAway[t.spreadAway.awayTeam]})]}),(0,Yg.jsx)("p",{className:"odds",children:"-110"})]}),(0,Yg.jsxs)("div",{className:"wagerAmount",children:[(0,Yg.jsxs)("p",{className:"betAmount",children:["Wager: $",t.wager]}),(0,Yg.jsxs)("p",{className:"profit loss",children:["Profit: -$",t.wager]})]})]},t.docid)}if(n===e[0].visitor_team_score)return(0,Yg.jsxs)("div",{className:"bets",children:[(0,Yg.jsx)("h1",{className:"game",children:t.date}),(0,Yg.jsxs)("h1",{className:"game",children:[e[0].home_team.abbreviation," ",e[0].home_team_score," - ",e[0].visitor_team_score," ",e[0].visitor_team.abbreviation," "]}),(0,Yg.jsx)("p",{className:"result",children:"Tie"}),(0,Yg.jsxs)("div",{className:"teamSpread",children:[t[t.spreadHome.homeTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadHome.homeTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadHome[t.spreadHome.homeTeam]})]}),t[t.spreadAway.awayTeam]&&(0,Yg.jsxs)("p",{className:"myTeam",children:[t.spreadAway.awayTeam," ",(0,Yg.jsx)("span",{className:"spread",children:t.spreadAway[t.spreadAway.awayTeam]})]}),(0,Yg.jsx)("p",{className:"odds",children:"-110"})]}),(0,Yg.jsxs)("div",{className:"wagerAmount",children:[(0,Yg.jsxs)("p",{className:"betAmount",children:["Wager: $",t.wager]}),(0,Yg.jsx)("p",{className:"profit",children:"Profit: $0"})]})]},t.docid)}}}))})}function am(){const{user:t}=Jg(),e=["uid","==",t.uid],{documents:n,error:r}=im("transactions",e,t.uid);return(0,Yg.jsxs)("div",{className:"bet-container",children:[n&&(0,Yg.jsx)(om,{transactions:n}),r&&(0,Yg.jsx)("p",{children:r})]})}function sm(t){return sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(t)}function um(t){var e=function(t,e){if("object"!==sm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===sm(e)?e:String(e)}function cm(t,e,n){return(e=um(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lm(t){return t+.5|0}const hm=(t,e,n)=>Math.max(Math.min(t,n),e);function fm(t){return hm(lm(2.55*t),0,255)}function dm(t){return hm(lm(255*t),0,255)}function pm(t){return hm(lm(t/2.55)/100,0,1)}function gm(t){return hm(lm(100*t),0,100)}const mm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vm=[..."0123456789ABCDEF"],ym=t=>vm[15&t],bm=t=>vm[(240&t)>>4]+vm[15&t],wm=t=>(240&t)>>4===(15&t);function _m(t){var e=(t=>wm(t.r)&&wm(t.g)&&wm(t.b)&&wm(t.a))(t)?ym:bm;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const xm=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Sm(t,e,n){const r=e*Math.min(n,1-n),i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Em(t,e,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function km(t,e,n){const r=Sm(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Tm(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),o=Math.min(e,n,r),a=(i+o)/2;let s,u,c;return i!==o&&(c=i-o,u=a>.5?c/(2-i-o):c/(i+o),s=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,c,i),s=60*s+.5),[0|s,u||0,a]}function Im(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(dm)}function Nm(t,e,n){return Im(Sm,t,e,n)}function Am(t){return(t%360+360)%360}function Cm(t){const e=xm.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?fm(+e[5]):dm(+e[5]));const i=Am(+e[2]),o=+e[3]/100,a=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Im(km,t,e,n)}(i,o,a):"hsv"===e[1]?function(t,e,n){return Im(Em,t,e,n)}(i,o,a):Nm(i,o,a),{r:n[0],g:n[1],b:n[2],a:r}}const Dm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Om;function Mm(t){Om||(Om=function(){const t={},e=Object.keys(Pm),n=Object.keys(Dm);let r,i,o,a,s;for(r=0;r<e.length;r++){for(a=s=e[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,Dm[o]);o=parseInt(Pm[a],16),t[s]=[o>>16&255,o>>8&255,255&o]}return t}(),Om.transparent=[0,0,0,0]);const e=Om[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Rm=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Lm=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Fm=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function jm(t,e,n){if(t){let r=Tm(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Nm(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Vm(t,e){return t?Object.assign(e||{},t):t}function Um(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=dm(t[3]))):(e=Vm(t,{r:0,g:0,b:0,a:1})).a=dm(e.a),e}function Bm(t){return"r"===t.charAt(0)?function(t){const e=Rm.exec(t);let n,r,i,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?fm(t):hm(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?fm(n):hm(n,0,255)),r=255&(e[4]?fm(r):hm(r,0,255)),i=255&(e[6]?fm(i):hm(i,0,255)),{r:n,g:r,b:i,a:o}}}(t):Cm(t)}class zm{constructor(t){if(t instanceof zm)return t;const e=typeof t;let n;"object"===e?n=Um(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*mm[t[1]],g:255&17*mm[t[2]],b:255&17*mm[t[3]],a:5===n?17*mm[t[4]]:255}:7!==n&&9!==n||(e={r:mm[t[1]]<<4|mm[t[2]],g:mm[t[3]]<<4|mm[t[4]],b:mm[t[5]]<<4|mm[t[6]],a:9===n?mm[t[7]]<<4|mm[t[8]]:255})),e}(t)||Mm(t)||Bm(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Vm(this._rgb);return t&&(t.a=pm(t.a)),t}set rgb(t){this._rgb=Um(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(pm(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?_m(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Tm(t),n=e[0],r=gm(e[1]),i=gm(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(pm(t.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const o=e===i?.5:e,a=2*o-1,s=n.a-r.a,u=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;i=1-u,n.r=255&u*n.r+i*r.r+.5,n.g=255&u*n.g+i*r.g+.5,n.b=255&u*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=Fm(pm(t.r)),i=Fm(pm(t.g)),o=Fm(pm(t.b));return{r:dm(Lm(r+n*(Fm(pm(e.r))-r))),g:dm(Lm(i+n*(Fm(pm(e.g))-i))),b:dm(Lm(o+n*(Fm(pm(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new zm(this.rgb)}alpha(t){return this._rgb.a=dm(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=lm(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jm(this._rgb,2,t),this}darken(t){return jm(this._rgb,2,-t),this}saturate(t){return jm(this._rgb,1,t),this}desaturate(t){return jm(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Tm(t);n[0]=Am(n[0]+e),n=Nm(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function qm(){}const Hm=(()=>{let t=0;return()=>t++})();function Wm(t){return null===t||"undefined"===typeof t}function Km(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Gm(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Ym(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function $m(t,e){return Ym(t)?t:e}function Qm(t,e){return"undefined"===typeof t?e:t}const Xm=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Jm(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function Zm(t,e,n,r){let i,o,a;if(Km(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(Gm(t))for(a=Object.keys(t),o=a.length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function tv(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function ev(t){if(Km(t))return t.map(ev);if(Gm(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=ev(t[n[i]]);return e}return t}function nv(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function rv(t,e,n,r){if(!nv(t))return;const i=e[t],o=n[t];Gm(i)&&Gm(o)?iv(i,o,r):e[t]=ev(o)}function iv(t,e,n){const r=Km(e)?e:[e],i=r.length;if(!Gm(t))return t;const o=(n=n||{}).merger||rv;let a;for(let s=0;s<i;++s){if(a=r[s],!Gm(a))continue;const e=Object.keys(a);for(let r=0,i=e.length;r<i;++r)o(e[r],t,a,n)}return t}function ov(t,e){return iv(t,e,{merger:av})}function av(t,e,n){if(!nv(t))return;const r=e[t],i=n[t];Gm(r)&&Gm(i)?ov(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ev(i))}const sv={"":t=>t,x:t=>t.x,y:t=>t.y};function uv(t,e){const n=sv[e]||(sv[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function cv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const lv=t=>"undefined"!==typeof t,hv=t=>"function"===typeof t,fv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const dv=Math.PI,pv=2*dv,gv=pv+dv,mv=Number.POSITIVE_INFINITY,vv=dv/180,yv=dv/2,bv=dv/4,wv=2*dv/3,_v=Math.log10,xv=Math.sign;function Sv(t,e,n){return Math.abs(t-e)<n}function Ev(t){const e=Math.round(t);t=Sv(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(_v(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function kv(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Tv(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Iv(t){return t*(dv/180)}function Nv(t){return t*(180/dv)}function Av(t){if(!Ym(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Cv(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*dv&&(o+=pv),{angle:o,distance:i}}function Dv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Pv(t,e){return(t-e+gv)%pv-dv}function Ov(t){return(t%pv+pv)%pv}function Mv(t,e,n,r){const i=Ov(t),o=Ov(e),a=Ov(n),s=Ov(o-i),u=Ov(a-i),c=Ov(i-o),l=Ov(i-a);return i===o||i===a||r&&o===a||s>u&&c<l}function Rv(t,e,n){return Math.max(e,Math.min(n,t))}function Lv(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Fv(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const jv=(t,e,n,r)=>Fv(t,n,r?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),Vv=(t,e,n)=>Fv(t,n,(r=>t[r][e]>=n));const Uv=["push","pop","shift","splice","unshift"];function Bv(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Uv.forEach((e=>{delete t[e]})),delete t._chartjs)}function zv(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}const qv="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function Hv(t,e){let n=[],r=!1;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n=o,r||(r=!0,qv.call(window,(()=>{r=!1,t.apply(e,n)})))}}const Wv=t=>"start"===t?"left":"end"===t?"right":"center",Kv=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function Gv(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,_parsed:s}=t,u=a.axis,{min:c,max:l,minDefined:h,maxDefined:f}=a.getUserBounds();h&&(i=Rv(Math.min(jv(s,a.axis,c).lo,n?r:jv(e,u,a.getPixelForValue(c)).lo),0,r-1)),o=f?Rv(Math.max(jv(s,a.axis,l,!0).hi+1,n?0:jv(e,u,a.getPixelForValue(l),!0).hi+1),i,r)-i:r-i}return{start:i,count:o}}function Yv(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const $v=t=>0===t||1===t,Qv=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*pv/n),Xv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*pv/n)+1,Jv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*yv),easeOutSine:t=>Math.sin(t*yv),easeInOutSine:t=>-.5*(Math.cos(dv*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>$v(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>$v(t)?t:Qv(t,.075,.3),easeOutElastic:t=>$v(t)?t:Xv(t,.075,.3),easeInOutElastic(t){const e=.1125;return $v(t)?t:t<.5?.5*Qv(2*t,e,.45):.5+.5*Xv(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Jv.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Jv.easeInBounce(2*t):.5*Jv.easeOutBounce(2*t-1)+.5};function Zv(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function ty(t){return Zv(t)?t:new zm(t)}function ey(t){return Zv(t)?t:new zm(t).saturate(.5).darken(.1).hexString()}const ny=["x","y","borderWidth","radius","tension"],ry=["color","borderColor","backgroundColor"];const iy=new Map;function oy(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=iy.get(n);return r||(r=new Intl.NumberFormat(t,e),iy.set(n,r)),r}(e,n).format(t)}const ay={values:t=>Km(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const a=_v(Math.abs(o)),s=Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(u,this.options.ticks.format),oy(t,r,u)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(_v(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?ay.numeric.call(this,t,e,n):""}};var sy={formatters:ay};const uy=Object.create(null),cy=Object.create(null);function ly(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function hy(t,e,n){return"string"===typeof e?iv(ly(t,e),n):iv(ly(t,""),e)}class fy{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>ey(e.backgroundColor),this.hoverBorderColor=(t,e)=>ey(e.borderColor),this.hoverColor=(t,e)=>ey(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return hy(this,t,e)}get(t){return ly(this,t)}describe(t,e){return hy(cy,t,e)}override(t,e){return hy(uy,t,e)}route(t,e,n,r){const i=ly(this,t),o=ly(this,n),a="_"+e;Object.defineProperties(i,{[a]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=o[r];return Gm(t)?Object.assign({},e,t):Qm(t,e)},set(t){this[a]=t}}})}apply(t){t.forEach((t=>t(this)))}}var dy=new fy({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:ry},numbers:{type:"number",properties:ny}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function py(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function gy(t,e,n,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const s=n.length;let u,c,l,h,f;for(u=0;u<s;u++)if(h=n[u],void 0!==h&&null!==h&&!0!==Km(h))a=py(t,i,o,a,h);else if(Km(h))for(c=0,l=h.length;c<l;c++)f=h[c],void 0===f||null===f||Km(f)||(a=py(t,i,o,a,f));t.restore();const d=o.length/2;if(d>n.length){for(u=0;u<d;u++)delete i[o[u]];o.splice(0,d)}return a}function my(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function vy(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function yy(t,e,n,r){by(t,e,n,r,null)}function by(t,e,n,r,i){let o,a,s,u,c,l,h,f;const d=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*vv;if(d&&"object"===typeof d&&(o=d.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,r),t.rotate(m),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),d){default:i?t.ellipse(n,r,i/2,g,0,0,pv):t.arc(n,r,g,0,pv),t.closePath();break;case"triangle":l=i?i/2:g,t.moveTo(n+Math.sin(m)*l,r-Math.cos(m)*g),m+=wv,t.lineTo(n+Math.sin(m)*l,r-Math.cos(m)*g),m+=wv,t.lineTo(n+Math.sin(m)*l,r-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,u=g-c,a=Math.cos(m+bv)*u,h=Math.cos(m+bv)*(i?i/2-c:u),s=Math.sin(m+bv)*u,f=Math.sin(m+bv)*(i?i/2-c:u),t.arc(n-h,r-s,c,m-dv,m-yv),t.arc(n+f,r-a,c,m-yv,m),t.arc(n+h,r+s,c,m,m+yv),t.arc(n-f,r+a,c,m+yv,m+dv),t.closePath();break;case"rect":if(!p){u=Math.SQRT1_2*g,l=i?i/2:u,t.rect(n-l,r-u,2*l,2*u);break}m+=bv;case"rectRot":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-s),t.lineTo(n+f,r-a),t.lineTo(n+h,r+s),t.lineTo(n-f,r+a),t.closePath();break;case"crossRot":m+=bv;case"cross":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"star":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a),m+=bv,h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"line":a=i?i/2:Math.cos(m)*g,s=Math.sin(m)*g,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function wy(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function _y(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xy(t){t.restore()}function Sy(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Ey(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function ky(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Km(e)?e:[e],s=o.strokeWidth>0&&""!==o.strokeColor;let u,c;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);Wm(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),u=0;u<a.length;++u)c=a[u],o.backdrop&&Iy(t,o.backdrop),s&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Wm(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,r,o.maxWidth)),t.fillText(c,n,r,o.maxWidth),Ty(t,n,r,c,o),r+=i.lineHeight;t.restore()}function Ty(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,s=e+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,l=i.strikethrough?(u+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,l),t.lineTo(s,l),t.stroke()}}function Iy(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ny(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-yv,dv,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,dv,yv,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,yv,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-yv,!0),t.lineTo(n+a.topLeft,r)}const Ay=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Cy=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Dy(t,e){const n=(""+t).match(Ay);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Py=t=>+t||0;function Oy(t,e){const n={},r=Gm(e),i=r?Object.keys(e):e,o=Gm(t)?r?n=>Qm(t[n],t[e[n]]):e=>t[e]:()=>t;for(const a of i)n[a]=Py(o(a));return n}function My(t){return Oy(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ry(t){return Oy(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ly(t){const e=My(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fy(t,e){t=t||{},e=e||dy.font;let n=Qm(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=Qm(t.style,e.style);r&&!(""+r).match(Cy)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Qm(t.family,e.family),lineHeight:Dy(Qm(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Qm(t.weight,e.weight),string:""};return i.string=function(t){return!t||Wm(t.size)||Wm(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function jy(t,e,n,r){let i,o,a,s=!0;for(i=0,o=t.length;i<o;++i)if(a=t[i],void 0!==a&&(void 0!==e&&"function"===typeof a&&(a=a(e),s=!1),void 0!==n&&Km(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function Vy(t,e){return Object.assign(Object.create(t),e)}function Uy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];lv(r)||(r=Xy("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>Uy([i,...t],e,n,r)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>Wy(n,r,(()=>function(t,e,n,r){let i;for(const o of e)if(i=Xy(qy(o,t),n),lv(i))return Hy(t,i)?$y(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Jy(t).includes(e),ownKeys:t=>Jy(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function By(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:zy(t,r),setContext:e=>By(t,e,n,r),override:i=>By(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Wy(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;let s=r[e];hv(s)&&a.isScriptable(e)&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t),e=e(o,a||r),s.delete(t),Hy(t,e)&&(e=$y(i._scopes,i,t,e));return e}(e,s,t,n));Km(s)&&s.length&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:s}=n;if(lv(o.index)&&r(t))e=e[o.index%e.length];else if(Gm(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const u of n){const n=$y(r,i,t,u);e.push(By(n,o,a&&a[t],s))}}return e}(e,s,t,a.isIndexable));Hy(e,s)&&(s=By(s,i,o&&o[e],a));return s}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function zy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:hv(n)?n:()=>n,isIndexable:hv(r)?r:()=>r}}const qy=(t,e)=>t?t+cv(e):e,Hy=(t,e)=>Gm(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Wy(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function Ky(t,e,n){return hv(t)?t(e,n):t}const Gy=(t,e)=>!0===t?e:"string"===typeof t?uv(e,t):void 0;function Yy(t,e,n,r,i){for(const o of e){const e=Gy(n,o);if(e){t.add(e);const o=Ky(e._fallback,n,i);if(lv(o)&&o!==n&&o!==r)return o}else if(!1===e&&lv(r)&&n!==r)return null}return!1}function $y(t,e,n,r){const i=e._rootScopes,o=Ky(e._fallback,n,r),a=[...t,...i],s=new Set;s.add(r);let u=Qy(s,a,n,o||n,r);return null!==u&&((!lv(o)||o===n||(u=Qy(s,a,o,u,r),null!==u))&&Uy(Array.from(s),[""],i,o,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];if(Km(i)&&Gm(n))return n;return i||{}}(e,n,r))))}function Qy(t,e,n,r,i){for(;n;)n=Yy(t,e,n,r,i);return n}function Xy(t,e){for(const n of e){if(!n)continue;const e=n[t];if(lv(e))return e}}function Jy(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Zy(t,e,n,r){const{iScale:i}=t,{key:o="r"}=this._parsing,a=new Array(r);let s,u,c,l;for(s=0,u=r;s<u;++s)c=s+n,l=e[c],a[s]={r:i.parse(uv(l,o),c)};return a}const tb=Number.EPSILON||1e-14,eb=(t,e)=>e<t.length&&!t[e].skip&&t[e],nb=t=>"x"===t?"y":"x";function rb(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,s=Dv(o,i),u=Dv(a,o);let c=s/(s+u),l=u/(s+u);c=isNaN(c)?0:c,l=isNaN(l)?0:l;const h=r*c,f=r*l;return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+f*(a.x-i.x),y:o.y+f*(a.y-i.y)}}}function ib(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=nb(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,s,u,c=eb(t,0);for(a=0;a<r;++a)if(s=u,u=c,c=eb(t,a+1),u){if(c){const t=c[e]-u[e];i[a]=0!==t?(c[n]-u[n])/t:0}o[a]=s?c?xv(i[a-1])!==xv(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(t,e,n){const r=t.length;let i,o,a,s,u,c=eb(t,0);for(let l=0;l<r-1;++l)u=c,c=eb(t,l+1),u&&c&&(Sv(e[l],0,tb)?n[l]=n[l+1]=0:(i=n[l]/e[l],o=n[l+1]/e[l],s=Math.pow(i,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[l]=i*a*e[l],n[l+1]=o*a*e[l])))}(t,i,o),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=nb(n),i=t.length;let o,a,s,u=eb(t,0);for(let c=0;c<i;++c){if(a=s,s=u,u=eb(t,c+1),!s)continue;const i=s[n],l=s[r];a&&(o=(i-a[n])/3,s["cp1".concat(n)]=i-o,s["cp1".concat(r)]=l-o*e[c]),u&&(o=(u[n]-i)/3,s["cp2".concat(n)]=i+o,s["cp2".concat(r)]=l+o*e[c])}}(t,o,e)}function ob(t,e,n){return Math.max(Math.min(t,n),e)}function ab(t,e,n,r,i){let o,a,s,u;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)ib(t,i);else{let n=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)s=t[o],u=rb(n,s,t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=u.previous.x,s.cp1y=u.previous.y,s.cp2x=u.next.x,s.cp2y=u.next.y,n=s}e.capBezierPoints&&function(t,e){let n,r,i,o,a,s=wy(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&wy(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=ob(i.cp1x,e.left,e.right),i.cp1y=ob(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=ob(i.cp2x,e.left,e.right),i.cp2y=ob(i.cp2y,e.top,e.bottom)))}(t,n)}function sb(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ub(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function cb(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const lb=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const hb=["top","right","bottom","left"];function fb(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=hb[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const db=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function pb(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=lb(n),o="border-box"===i.boxSizing,a=fb(i,"padding"),s=fb(i,"border","width"),{x:u,y:c,box:l}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let a,s,u=!1;if(db(i,o,t.target))a=i,s=o;else{const t=e.getBoundingClientRect();a=r.clientX-t.left,s=r.clientY-t.top,u=!0}return{x:a,y:s,box:u}}(t,n),h=a.left+(l&&s.left),f=a.top+(l&&s.top);let{width:d,height:p}=e;return o&&(d-=a.width+s.width,p-=a.height+s.height),{x:Math.round((u-h)/d*n.width/r),y:Math.round((c-f)/p*n.height/r)}}const gb=t=>Math.round(10*t)/10;function mb(t,e,n,r){const i=lb(t),o=fb(i,"margin"),a=cb(i.maxWidth,t,"clientWidth")||mv,s=cb(i.maxHeight,t,"clientHeight")||mv,u=function(t,e,n){let r,i;if(void 0===e||void 0===n){const o=ub(t);if(o){const t=o.getBoundingClientRect(),a=lb(o),s=fb(a,"border","width"),u=fb(a,"padding");e=t.width-u.width-s.width,n=t.height-u.height-s.height,r=cb(a.maxWidth,o,"clientWidth"),i=cb(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||mv,maxHeight:i||mv}}(t,e,n);let{width:c,height:l}=u;if("content-box"===i.boxSizing){const t=fb(i,"border","width"),e=fb(i,"padding");c-=e.width+t.width,l-=e.height+t.height}c=Math.max(0,c-o.width),l=Math.max(0,r?c/r:l-o.height),c=gb(Math.min(c,a,u.maxWidth)),l=gb(Math.min(l,s,u.maxHeight)),c&&!l&&(l=gb(c/2));return(void 0!==e||void 0!==n)&&r&&u.height&&l>u.height&&(l=u.height,c=gb(Math.floor(l*r))),{width:c,height:l}}function vb(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(t.height,"px"),a.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}const yb=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(qg){}return t}();function bb(t,e){const n=function(t,e){return lb(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function wb(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _b(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function xb(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=wb(t,i,n),s=wb(i,o,n),u=wb(o,e,n),c=wb(a,s,n),l=wb(s,u,n);return wb(c,l,n)}function Sb(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Eb(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function kb(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Tb(t){return"angle"===t?{between:Mv,compare:Pv,normalize:Ov}:{between:Lv,compare:(t,e)=>t-e,normalize:t=>t}}function Ib(t){let{start:e,end:n,count:r,loop:i,style:o}=t;return{start:e%r,end:n%r,loop:i&&(n-e+1)%r===0,style:o}}function Nb(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:s,between:u,normalize:c}=Tb(r),{start:l,end:h,loop:f,style:d}=function(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=Tb(r),u=e.length;let c,l,{start:h,end:f,loop:d}=t;if(d){for(h+=u,f+=u,c=0,l=u;c<l&&a(s(e[h%u][r]),i,o);++c)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:d,style:t.style}}(t,e,n),p=[];let g,m,v,y=!1,b=null;const w=()=>y||u(i,v,g)&&0!==s(i,v),_=()=>!y||0===s(o,g)||u(o,v,g);for(let x=l,S=l;x<=h;++x)m=e[x%a],m.skip||(g=c(m[r]),g!==v&&(y=u(g,i,o),null===b&&w()&&(b=0===s(g,i)?x:S),null!==b&&_()&&(p.push(Ib({start:b,end:x,loop:f,count:a,style:d})),b=null),S=x,v=g));return null!==b&&p.push(Ib({start:b,end:h,loop:f,count:a,style:d})),p}function Ab(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=Nb(r[i],t.points,e);o.length&&n.push(...o)}return n}function Cb(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),o=Db(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,u=n.length,c=[];let l=o,h=e[0].start,f=h;function d(t,e,r,i){const o=s?-1:1;if(t!==e){for(t+=u;n[t%u].skip;)t-=o;for(;n[e%u].skip;)e+=o;t%u!==e%u&&(c.push({start:t%u,end:e%u,loop:r,style:i}),l=i,h=e%u)}}for(const p of e){h=s?h:p.start;let t,e=n[h%u];for(f=h+1;f<=p.end;f++){const o=n[f%u];t=Db(r.setContext(Vy(i,{type:"segment",p0:e,p1:o,p0DataIndex:(f-1)%u,p1DataIndex:f%u,datasetIndex:a}))),Pb(t,l)&&d(h,f-1,p.loop,l),e=o,l=t}h<f-1&&d(h,f-1,p.loop,l)}return c}(t,e,n,r):e}function Db(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Pb(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}class Ob{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],o=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=qv.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,a=i.length-1,s=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Mb=new Ob;const Rb="transparent",Lb={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=ty(t||Rb),i=r.valid&&ty(e||Rb);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Fb{constructor(t,e,n,r){const i=e[n];r=jy([t.to,r,i,t.from]);const o=jy([t.from,i,r]);this._active=!0,this._fn=t.fn||Lb[t.type||typeof o],this._easing=Jv[t.easing]||Jv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=jy([t.to,e,r,t.from]),this._from=jy([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let s;if(this._active=i!==a&&(o||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=i:(s=e/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,a,s))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class jb{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Gm(t))return;const e=Object.keys(dy.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((r=>{const i=t[r];if(!Gm(i))return;const o={};for(const t of e)o[t]=i[t];(Km(i.properties)&&i.properties||[r]).forEach((t=>{t!==r&&n.has(t)||n.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const u=o[s];if("$"===u.charAt(0))continue;if("options"===u){r.push(...this._animateOptions(t,e));continue}const c=e[u];let l=i[u];const h=n.get(u);if(l){if(h&&l.active()){l.update(h,c,a);continue}l.cancel()}h&&h.duration?(i[u]=l=new Fb(h,t,u,c),r.push(l)):t[u]=c}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Mb.add(this._chart,n),!0):void 0}}function Vb(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Ub(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function Bb(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.keys,o="single"===r.mode;let a,s,u,c;if(null!==e){for(a=0,s=i.length;a<s;++a){if(u=+i[a],u===n){if(r.all)continue;break}c=t.values[u],Ym(c)&&(o||0===e||xv(e)===xv(c))&&(e+=c)}return e}}function zb(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function qb(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Hb(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function Wb(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,u=o.axis,c=a.axis,l=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(o,a,r),h=e.length;let f;for(let d=0;d<h;++d){const t=e[d],{[u]:n,[c]:o}=t;f=(t._stacks||(t._stacks={}))[c]=qb(i,l,n),f[s]=o,f._top=Hb(f,a,!0,r.type),f._bottom=Hb(f,a,!1,r.type);(f._visualValues||(f._visualValues={}))[s]=o}}function Kb(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Gb(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n],void 0!==e[r]._visualValues&&void 0!==e[r]._visualValues[n]&&delete e[r]._visualValues[n]}}}const Yb=t=>"reset"===t||"none"===t,$b=(t,e)=>e?t:Object.assign({},t);class Qb{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=zb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Gb(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=Qm(n.xAxisID,Kb(t,"x")),o=e.yAxisID=Qm(n.yAxisID,Kb(t,"y")),a=e.rAxisID=Qm(n.rAxisID,Kb(t,"r")),s=e.indexAxis,u=e.iAxisID=r(s,i,o,a),c=e.vAxisID=r(s,o,i,a);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Bv(this._data,this),t._stacked&&Gb(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Gm(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}(e);else if(n!==e){if(n){Bv(n,this);const t=this._cachedMeta;Gb(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(r=e)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Uv.forEach((t=>{const e="_onData"+cv(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const a=n.apply(this,i);return r._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...i)})),a}})})))),this._syncList=[],this._data=e}var r,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=zb(e.vScale,e),e.stack!==n.stack&&(r=!0,Gb(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&Wb(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,a=i.axis;let s,u,c,l=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Km(r[t])?this.parseArrayData(n,r,t,e):Gm(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===u[a]||h&&u[a]<h[a];for(s=0;s<e;++s)n._parsed[s+t]=u=c[s],l&&(i()&&(l=!1),h=u);n._sorted=l}o&&Wb(this,c)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:o}=t,a=i.axis,s=o.axis,u=i.getLabels(),c=i===o,l=new Array(r);let h,f,d;for(h=0,f=r;h<f;++h)d=h+n,l[h]={[a]:c||i.parse(u[d],d),[s]:o.parse(e[d],d)};return l}parseArrayData(t,e,n,r){const{xScale:i,yScale:o}=t,a=new Array(r);let s,u,c,l;for(s=0,u=r;s<u;++s)c=s+n,l=e[c],a[s]={x:i.parse(l[0],c),y:o.parse(l[1],c)};return a}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,u=new Array(r);let c,l,h,f;for(c=0,l=r;c<l;++c)h=c+n,f=e[h],u[c]={x:i.parse(uv(f,a),h),y:o.parse(uv(f,s),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,o=e[t.axis];return Bb({keys:Ub(r,!0),values:e._stacks[t.axis]._visualValues},o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let o=null===i?NaN:i;const a=r&&n._stacks[e.axis];r&&a&&(r.values=a,o=Bb(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,o=r.length,a=this._getOtherScale(t),s=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ub(n,!0),values:null})(e,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:l}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,f;function d(){f=r[h];const e=f[a.axis];return!Ym(f[t.axis])||c>e||l<e}for(h=0;h<o&&(d()||(this.updateRangeFromParsed(u,t,f,s),!i));++h);if(i)for(h=o-1;h>=0;--h)if(!d()){this.updateRangeFromParsed(u,t,f,s);break}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r][t.axis],Ym(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return Gm(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(Qm(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=Vb(t,n),i=Vb(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,i,a,s),c=a;c<a+s;++c){const e=r[c];e.hidden||(e.active&&u?o.push(e):e.draw(t,i))}for(c=0;c<o.length;++c)o[c].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return Vy(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return Vy(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===e,i=this._cachedDataOpts,o=t+"-"+e,a=i[o],s=this.enableOptionSharing&&lv(n);if(a)return $b(a,s);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),l=r?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),c),f=Object.keys(dy.elements[t]),d=u.resolveNamedOptions(h,f,(()=>this.getContext(n,r,e)),l);return d.$shared&&(d.$shared=s,i[o]=Object.freeze($b(d,s))),d}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,o="animation-".concat(e),a=i[o];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),o=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(o,this.getContext(t,n,e))}const u=new jb(r,s&&s.animations);return s&&s._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Yb(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,r){Yb(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!Yb(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[a,s,u]of this._syncList)this[a](s,u);this._syncList=[];const r=n.length,i=e.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,o=t+e;let a;const s=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(s(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&Gb(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Xb(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=zv(r.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let r,i,o,a,s=e._length;const u=()=>{32767!==o&&-32768!==o&&(lv(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),u();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),u();return s}function Jb(t,e,n,r){return Km(t)?function(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o);let u=a,c=s;Math.abs(a)>Math.abs(s)&&(u=s,c=a),e[n.axis]=c,e._custom={barStart:u,barEnd:c,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Zb(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),s=i===o,u=[];let c,l,h,f;for(c=n,l=n+r;c<l;++c)f=e[c],h={},h[i.axis]=s||i.parse(a[c],c),u.push(Jb(f,h,o,c));return u}function tw(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function ew(t,e,n,r){let i=e.borderSkipped;const o={};if(!i)return void(t.borderSkipped=o);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:u,top:c,bottom:l}=function(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=l:(o[nw(l,a,s,u)]=!0,i=c)),o[nw(i,a,s,u)]=!0,t.borderSkipped=o}function nw(t,e,n,r){var i,o,a;return r?(a=n,t=rw(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=rw(t,e,n),t}function rw(t,e,n){return"start"===t?e:"end"===t?n:t}function iw(t,e,n){let{inflateAmount:r}=e;t.inflateAmount="auto"===r?1===n?.33:0:r}cm(Qb,"defaults",{}),cm(Qb,"datasetElementType",null),cm(Qb,"dataElementType",null);class ow extends Qb{parsePrimitiveData(t,e,n,r){return Zb(t,e,n,r)}parseArrayData(t,e,n,r){return Zb(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,u="x"===i.axis?a:s,c="x"===o.axis?a:s,l=[];let h,f,d,p;for(h=n,f=n+r;h<f;++h)p=e[h],d={},d[i.axis]=i.parse(uv(p,u),h),l.push(Jb(uv(p,c),d,o,h));return l}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),o=i._custom,a=tw(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:l,includeOptions:h}=this._getSharedOptions(e,r);for(let f=e;f<e+n;f++){const e=this.getParsed(f),n=i||Wm(e[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(f),d=this._calculateBarIndexPixels(f,c),p=(e._stacks||{})[a.axis],g={horizontal:u,base:n.base,enableBorderRadius:!p||tw(e._custom)||o===p._top||o===p._bottom,x:u?n.head:d.center,y:u?d.center:n.head,height:u?d.size:Math.abs(n.size),width:u?Math.abs(n.size):d.size};h&&(g.options=l||this.resolveDataElementOptions(f,t[f].active?"active":r));const m=g.options||t[f].options;ew(g,m,p,o),iw(g,m,c.ratio),this.updateElement(t[f],f,g,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,o=[],a=t=>{const n=t.controller.getParsed(e),r=n&&n[t.vScale.axis];if(Wm(r)||isNaN(r))return!0};for(const s of r)if((void 0===e||!a(s))&&((!1===i||-1===o.indexOf(s.stack)||void 0===i&&void 0===s.stack)&&o.push(s.stack),s.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,o;for(i=0,o=e.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=t.barThickness;return{min:a||Xb(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,s=this.getParsed(t),u=s._custom,c=tw(u);let l,h,f=s[e.axis],d=0,p=n?this.applyStack(e,s,n):f;p!==f&&(d=p-f,p=f),c&&(f=u.barStart,p=u.barEnd-u.barStart,0!==f&&xv(f)!==xv(u.barEnd)&&(d=0),d+=f);const g=Wm(i)||c?d:i;let m=e.getPixelForValue(g);if(l=this.chart.getDataVisibility(t)?e.getPixelForValue(d+p):m,h=l-m,Math.abs(h)<o){h=function(t,e,n){return 0!==t?xv(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,a)*o,f===a&&(m-=h/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),u=Math.min(t,i),d=Math.max(t,i);m=Math.max(Math.min(m,d),u),l=m+h,n&&!c&&(s._stacks[e.axis]._visualValues[r]=e.getValueForPixel(l)-e.getValueForPixel(m))}if(m===e.getPixelForValue(a)){const t=xv(h)*e.getLineWidthForValue(a)/2;m+=t,h-=t}return{size:h,base:m,head:l,center:l+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,o=Qm(r.maxBarThickness,1/0);let a,s;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,u="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null;const u=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);const c=o-(o-Math.min(a,s))/2*u;return{chunk:Math.abs(s-a)/2*u/r,ratio:n.barPercentage,start:c}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let o,a;return Wm(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}(t,e,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=u.start+u.chunk*c+u.chunk/2,s=Math.min(o,u.chunk*u.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),s=Math.min(o,e.min*e.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[e.axis]&&n[i].draw(this._ctx)}}cm(ow,"id","bar"),cm(ow,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),cm(ow,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class aw extends Qb{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let o=0;o<i.length;o++){const t=e[n+o];i[o]._custom=Qm(t[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let o=0;o<i.length;o++){const t=e[n+o];i[o]._custom=Qm(t&&t.r&&+t.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,o=this.getParsed(t),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y),u=o._custom;return{label:n[t]||"",value:"("+a+", "+s+(u?", "+u:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:u}=this._getSharedOptions(e,r),c=o.axis,l=a.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!i&&this.getParsed(h),f={},d=f[c]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[c]),p=f[l]=i?a.getBasePixel():a.getPixelForValue(n[l]);f.skip=isNaN(d)||isNaN(p),u&&(f.options=s||this.resolveDataElementOptions(h,e.active?"active":r),i&&(f.options.radius=0)),this.updateElement(e,h,f,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=Qm(n&&n._custom,i),r}}cm(aw,"id","bubble"),cm(aw,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),cm(aw,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class sw extends Qb{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,o,a=t=>+n[t];if(Gm(n[t])){const{key:t="value"}=this._parsing;a=e=>+uv(n[e],t)}for(i=t,o=t+e;i<o;++i)r._parsed[i]=a(i)}}_getRotation(){return Iv(this.options.rotation-90)}_getCircumference(){return Iv(this.options.circumference)}_getRotationExtents(){let t=pv,e=-pv;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),s=Math.min((u=this.options.cutout,c=a,"string"===typeof u&&u.endsWith("%")?parseFloat(u)/100:+u/c),1);var u,c;const l=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let r=1,i=1,o=0,a=0;if(e<pv){const s=t,u=s+e,c=Math.cos(s),l=Math.sin(s),h=Math.cos(u),f=Math.sin(u),d=(t,e,r)=>Mv(t,s,u,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>Mv(t,s,u,!0)?-1:Math.min(e,e*n,r,r*n),g=d(0,c,h),m=d(yv,l,f),v=p(dv,c,h),y=p(dv+yv,l,f);r=(g-v)/2,i=(m-y)/2,o=-(g+v)/2,a=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(f,h,s),v=(n.width-o)/d,y=(n.height-o)/p,b=Math.max(Math.min(v,y)/2,0),w=Xm(this.options.radius,b),_=(w-Math.max(w*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*l,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/pv)}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.chartArea,s=o.options.animation,u=(a.left+a.right)/2,c=(a.top+a.bottom)/2,l=i&&s.animateScale,h=l?0:this.innerRadius,f=l?0:this.outerRadius,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(e,r);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,i);for(g=e;g<e+n;++g){const e=this._circumference(g,i),n=t[g],o={x:u+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:f,innerRadius:h};p&&(o.options=d||this.resolveDataElementOptions(g,n.active?"active":r)),m+=e,this.updateElement(n,g,o,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?pv*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=oy(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,o,a,s;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),t=o.data,a=o.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(e=Math.max(e,s.borderWidth||0,s.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Qm(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}cm(sw,"id","doughnut"),cm(sw,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),cm(sw,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t}),cm(sw,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class uw extends Qb{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:a,count:s}=Gv(e,r,o);this._drawStart=a,this._drawCount=s,Yv(e)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},t),this.updateElements(r,a,s,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:l}=this._getSharedOptions(e,r),h=o.axis,f=a.axis,{spanGaps:d,segment:p}=this.options,g=kv(d)?d:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,v=e+n,y=t.length;let b=e>0&&this.getParsed(e-1);for(let w=0;w<y;++w){const n=t[w],d=m?n:{};if(w<e||w>=v){d.skip=!0;continue}const y=this.getParsed(w),_=Wm(y[f]),x=d[h]=o.getPixelForValue(y[h],w),S=d[f]=i||_?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,y,s):y[f],w);d.skip=isNaN(x)||isNaN(S)||_,d.stop=w>0&&Math.abs(y[h]-b[h])>g,p&&(d.parsed=y,d.raw=u.data[w]),l&&(d.options=c||this.resolveDataElementOptions(w,n.active?"active":r)),m||this.updateElement(n,w,d,r),b=y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}cm(uw,"id","line"),cm(uw,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),cm(uw,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class cw extends Qb{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=oy(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,e,n,r){return Zy.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),o=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.options.animation,s=this._cachedMeta.rScale,u=s.xCenter,c=s.yCenter,l=s.getIndexAngle(0)-.5*dv;let h,f=l;const d=360/this.countVisibleElements();for(h=0;h<e;++h)f+=this._computeAngle(h,r,d);for(h=e;h<e+n;h++){const e=t[h];let n=f,p=f+this._computeAngle(h,r,d),g=o.getDataVisibility(h)?s.getDistanceFromCenterForValue(this.getParsed(h).r):0;f=p,i&&(a.animateScale&&(g=0),a.animateRotate&&(n=p=l));const m={x:u,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":r)};this.updateElement(e,h,m,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Iv(this.resolveDataElementOptions(t,e).angle||n):0}}cm(cw,"id","polarArea"),cm(cw,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),cm(cw,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class lw extends sw{}cm(lw,"id","pie"),cm(lw,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class hw extends Qb{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return Zy.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:e};this.updateElement(n,void 0,o,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let a=e;a<e+n;a++){const e=t[a],n=this.resolveDataElementOptions(a,e.active?"active":r),s=i.getPointPositionForValue(a,this.getParsed(a).r),u=o?i.xCenter:s.x,c=o?i.yCenter:s.y,l={x:u,y:c,angle:s.angle,skip:isNaN(u)||isNaN(c),options:n};this.updateElement(e,a,l,r)}}}cm(hw,"id","radar"),cm(hw,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),cm(hw,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class fw extends Qb{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,o=this.getParsed(t),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y);return{label:n[t]||"",value:"("+a+", "+s+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:i,count:o}=Gv(e,n,r);if(this._drawStart=i,this._drawCount=o,Yv(e)&&(i=0,o=n.length),this.options.showLine){const{dataset:i,_dataset:o}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:a},t)}this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(e,r),l=this.getSharedOptions(c),h=this.includeOptions(r,l),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=kv(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let y=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=v?e:{},p=Wm(n[d]),w=c[f]=o.getPixelForValue(n[f],b),_=c[d]=i||p?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,n,s):n[d],b);c.skip=isNaN(w)||isNaN(_)||p,c.stop=b>0&&Math.abs(n[f]-y[f])>m,g&&(c.parsed=n,c.raw=u.data[b]),h&&(c.options=l||this.resolveDataElementOptions(b,e.active?"active":r)),v||this.updateElement(e,b,c,r),y=n}this.updateSharedOptions(l,r,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,i,o)/2}}cm(fw,"id","scatter"),cm(fw,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),cm(fw,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var dw=Object.freeze({__proto__:null,BarController:ow,BubbleController:aw,DoughnutController:sw,LineController:uw,PolarAreaController:cw,PieController:lw,RadarController:hw,ScatterController:fw});function pw(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gw{static override(t){Object.assign(gw.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return pw()}parse(){return pw()}format(){return pw()}add(){return pw()}diff(){return pw()}startOf(){return pw()}endOf(){return pw()}}var mw=gw;function vw(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,s=i._cachedMeta.iScale;if(s&&e===s.axis&&"r"!==e&&a&&o.length){const t=s._reversePixels?Vv:jv;if(!r)return t(o,e,n);if(i._sharedOptions){const r=o[0],i="function"===typeof r.getRange&&r.getRange(e);if(i){const r=t(o,e,n-i),a=t(o,e,n+i);return{lo:r.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function yw(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let s=0,u=o.length;s<u;++s){const{index:t,data:n}=o[s],{lo:u,hi:c}=vw(o[s],e,a,i);for(let e=u;e<=c;++e){const i=n[e];i.skip||r(i,t,e)}}}function bw(t,e,n,r,i){const o=[];if(!i&&!t.isPointInArea(e))return o;return yw(t,n,e,(function(n,a,s){(i||wy(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&o.push({element:n,datasetIndex:a,index:s})}),!0),o}function ww(t,e,n,r,i,o){let a=[];const s=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let u=Number.POSITIVE_INFINITY;return yw(t,n,e,(function(n,c,l){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const f=n.getCenterPoint(i);if(!(!!o||t.isPointInArea(f))&&!h)return;const d=s(e,f);d<u?(a=[{element:n,datasetIndex:c,index:l}],u=d):d===u&&a.push({element:n,datasetIndex:c,index:l})})),a}function _w(t,e,n,r,i,o){return o||t.isPointInArea(e)?"r"!==n||r?ww(t,e,n,r,i,o):function(t,e,n,r){let i=[];return yw(t,n,e,(function(t,n,o){const{startAngle:a,endAngle:s}=t.getProps(["startAngle","endAngle"],r),{angle:u}=Cv(t,{x:e.x,y:e.y});Mv(u,a,s)&&i.push({element:t,datasetIndex:n,index:o})})),i}(t,e,n,i):[]}function xw(t,e,n,r,i){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return yw(t,n,e,((t,r,u)=>{t[a](e[n],i)&&(o.push({element:t,datasetIndex:r,index:u}),s=s||t.inRange(e.x,e.y,i))})),r&&!s?[]:o}var Sw={evaluateInteractionItems:yw,modes:{index(t,e,n,r){const i=pb(e,t),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?bw(t,i,o,r,a):_w(t,i,o,!1,r,a),u=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,n=t.data[e];n&&!n.skip&&u.push({element:n,datasetIndex:t.index,index:e})})),u):[]},dataset(t,e,n,r){const i=pb(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?bw(t,i,o,r,a):_w(t,i,o,!1,r,a);if(s.length>0){const e=s[0].datasetIndex,n=t.getDatasetMeta(e).data;s=[];for(let t=0;t<n.length;++t)s.push({element:n[t],datasetIndex:e,index:t})}return s},point:(t,e,n,r)=>bw(t,pb(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=pb(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return _w(t,i,o,n.intersect,r,a)},x:(t,e,n,r)=>xw(t,pb(e,t),"x",n.intersect,r),y:(t,e,n,r)=>xw(t,pb(e,t),"y",n.intersect,r)}};const Ew=["left","top","right","bottom"];function kw(t,e){return t.filter((t=>t.pos===e))}function Tw(t,e){return t.filter((t=>-1===Ew.indexOf(t.pos)&&t.box.axis===e))}function Iw(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Nw(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!Ew.includes(r))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,s;for(o=0,a=t.length;o<a;++o){s=t[o];const{fullSize:a}=s.box,u=n[s.stack],c=u&&s.stackWeight/u.weight;s.horizontal?(s.width=c?c*r:a&&e.availableWidth,s.height=i):(s.width=r,s.height=c?c*i:a&&e.availableHeight)}return n}function Aw(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Cw(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Dw(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!Gm(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[i]+=n.size}o.getPadding&&Cw(a,o.getPadding());const s=Math.max(0,e.outerWidth-Aw(a,t,"left","right")),u=Math.max(0,e.outerHeight-Aw(a,t,"top","bottom")),c=s!==t.w,l=u!==t.h;return t.w=s,t.h=u,n.horizontal?{same:c,other:l}:{same:l,other:c}}function Pw(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function Ow(t,e,n,r){const i=[];let o,a,s,u,c,l;for(o=0,a=t.length,c=0;o<a;++o){s=t[o],u=s.box,u.update(s.width||e.w,s.height||e.h,Pw(s.horizontal,e));const{same:a,other:h}=Dw(e,n,s,r);c|=a&&i.length,l=l||h,u.fullSize||i.push(s)}return c&&Ow(i,e,n,r)||l}function Mw(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Rw(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const s of t){const t=s.box,u=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/u.weight||1;if(s.horizontal){const r=e.w*c,o=u.size||t.height;lv(u.start)&&(a=u.start),t.fullSize?Mw(t,i.left,a,n.outerWidth-i.right-i.left,o):Mw(t,e.left+u.placed,a,r,o),u.start=a,u.placed+=r,a=t.bottom}else{const r=e.h*c,a=u.size||t.width;lv(u.start)&&(o=u.start),t.fullSize?Mw(t,o,i.top,a,n.outerHeight-i.bottom-i.top):Mw(t,o,e.top+u.placed,a,r),u.start=o,u.placed+=r,o=t.right}}e.x=o,e.y=a}var Lw={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ly(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=function(t){const e=function(t){const e=[];let n,r,i,o,a,s;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:o,options:{stack:a,stackWeight:s=1}}=i),e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return e}(t),n=Iw(e.filter((t=>t.box.fullSize)),!0),r=Iw(kw(e,"left"),!0),i=Iw(kw(e,"right")),o=Iw(kw(e,"top"),!0),a=Iw(kw(e,"bottom")),s=Tw(e,"x"),u=Tw(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(u).concat(a).concat(s),chartArea:kw(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:o.concat(a).concat(s)}}(t.boxes),u=s.vertical,c=s.horizontal;Zm(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const l=u.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/l,hBoxMaxHeight:a/2}),f=Object.assign({},i);Cw(f,Ly(r));const d=Object.assign({maxPadding:f,w:o,h:a,x:i.left,y:i.top},i),p=Nw(u.concat(c),h);Ow(s.fullSize,d,h,p),Ow(u,d,h,p),Ow(c,d,h,p)&&Ow(u,d,h,p),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(d),Rw(s.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,Rw(s.rightAndBottom,d,h,p),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Zm(s.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}};class Fw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class jw extends Fw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Vw="$chartjs",Uw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bw=t=>null===t||""===t;const zw=!!yb&&{passive:!0};function qw(t,e,n){t.canvas.removeEventListener(e,n,zw)}function Hw(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Ww(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Hw(n.addedNodes,r),e=e&&!Hw(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Kw(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Hw(n.removedNodes,r),e=e&&!Hw(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Gw=new Map;let Yw=0;function $w(){const t=window.devicePixelRatio;t!==Yw&&(Yw=t,Gw.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Qw(t,e,n){const r=t.canvas,i=r&&ub(r);if(!i)return;const o=Hv(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),a=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)}));return a.observe(i),function(t,e){Gw.size||window.addEventListener("resize",$w),Gw.set(t,e)}(t,o),a}function Xw(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Gw.delete(t),Gw.size||window.removeEventListener("resize",$w)}(t)}function Jw(t,e,n){const r=t.canvas,i=Hv((e=>{null!==t.ctx&&n(function(t,e){const n=Uw[t.type]||t.type,{x:r,y:i}=pb(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))}),t);return function(t,e,n){t.addEventListener(e,n,zw)}(r,e,i),i}class Zw extends Fw{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Vw]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Bw(i)){const e=bb(t,"width");void 0!==e&&(t.width=e)}if(Bw(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=bb(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Vw])return!1;const n=e[Vw].initial;["height","width"].forEach((t=>{const r=n[t];Wm(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[Vw],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:Ww,detach:Kw,resize:Qw}[e]||Jw;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:Xw,detach:Xw,resize:Xw}[e]||qw)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return mb(t,e,n,r)}isAttached(t){const e=ub(t);return!(!e||!e.isConnected)}}class t_{constructor(){cm(this,"active",!1)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return kv(this.x)&&kv(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}function e_(t,e){const n=t.options.ticks,r=function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],a=o.length,s=o[0],u=o[a-1],c=[];if(a>i)return function(t,e,n,r){let i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),o++,a=n[o*r])}(e,c,o,a/i),c;const l=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const o=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let a=0,s=o.length-1;a<s;a++){const t=o[a];if(t>i)return t}return Math.max(i,1)}(o,e,i);if(a>0){let t,n;const r=a>1?Math.round((u-s)/(a-1)):null;for(n_(e,c,l,Wm(r)?0:s-r,s),t=0,n=a-1;t<n;t++)n_(e,c,l,o[t],o[t+1]);return n_(e,c,l,u,Wm(r)?e.length:u+r),c}return n_(e,c,l),c}function n_(t,e,n,r,i){const o=Qm(r,0),a=Math.min(Qm(i,t.length),t.length);let s,u,c,l=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),c=o;c<0;)l++,c=Math.round(o+l*n);for(u=Math.max(o,0);u<a;u++)u===c&&(e.push(t[u]),l++,c=Math.round(o+l*n))}cm(t_,"defaults",{}),cm(t_,"defaultRoutes",void 0);const r_=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,i_=(t,e)=>Math.min(e||t,t);function o_(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function a_(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,s=1e-6;let u,c=t.getPixelForTick(i);if(!(n&&(u=1===r?Math.max(c-o,a-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<o-s||c>a+s)))return c}function s_(t){return t.drawTicks?t.tickLength:0}function u_(t,e){if(!t.display)return 0;const n=Fy(t.font,e),r=Ly(t.padding);return(Km(t.text)?t.text.length:1)*n.lineHeight+r.height}function c_(t,e,n){let r=Wv(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class l_ extends t_{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=$m(t,Number.POSITIVE_INFINITY),e=$m(e,Number.NEGATIVE_INFINITY),n=$m(n,Number.POSITIVE_INFINITY),r=$m(r,Number.NEGATIVE_INFINITY),{min:$m(t,n),max:$m(e,r),minDefined:Ym(t),maxDefined:Ym(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,u=a.length;s<u;++s)e=a[s].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),o||(r=Math.max(r,e.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:$m(n,$m(r,n)),max:$m(r,$m(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jm(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,o=Xm(e,(i-r)/2),a=(t,e)=>n&&0===t?0:t+e;return{min:a(r,-Math.abs(o)),max:a(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?o_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=e_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jm(this.options.afterUpdate,[this])}beforeSetDimensions(){Jm(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jm(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Jm(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jm(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=Jm(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){Jm(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jm(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=i_(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,i=e.maxRotation;let o,a,s,u=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),l=c.widest.width,h=c.highest.height,f=Rv(this.chart.width-l,0,this.maxWidth);o=t.offset?this.maxWidth/n:f/(n-1),l+6>o&&(o=f/(n-(t.offset?.5:1)),a=this.maxHeight-s_(t.grid)-e.padding-u_(t.title,this.chart.options.font),s=Math.sqrt(l*l+h*h),u=Nv(Math.min(Math.asin(Rv((c.highest.height+6)/o,-1,1)),Math.asin(Rv(a/s,-1,1))-Math.asin(Rv(h/s,-1,1)))),u=Math.max(r,Math.min(i,u))),this.labelRotation=u}afterCalculateLabelRotation(){Jm(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jm(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=u_(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=s_(i)+o):(t.height=this.maxHeight,t.width=s_(i)+o),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:o}=this._getLabelSizes(),s=2*n.padding,u=Iv(this.labelRotation),c=Math.cos(u),l=Math.sin(u);if(a){const e=n.mirror?0:l*i.width+c*o.height;t.height=Math.min(this.maxHeight,t.height+e+s)}else{const e=n.mirror?0:c*i.width+l*o.height;t.width=Math.min(this.maxWidth,t.width+e+s)}this._calculatePadding(e,r,l,c)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,s=0!==this.labelRotation,u="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let l=0,h=0;s?u?(l=r*t.width,h=n*e.height):(l=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?l=t.width:"inner"!==i&&(l=t.width/2,h=e.width/2),this.paddingLeft=Math.max((l-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jm(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Wm(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=o_(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],s=Math.floor(e/i_(e,n));let u,c,l,h,f,d,p,g,m,v,y,b=0,w=0;for(u=0;u<e;u+=s){if(h=t[u].label,f=this._resolveTickFontOptions(u),r.font=d=f.string,p=i[d]=i[d]||{data:{},gc:[]},g=f.lineHeight,m=v=0,Wm(h)||Km(h)){if(Km(h))for(c=0,l=h.length;c<l;++c)y=h[c],Wm(y)||Km(y)||(m=py(r,p.data,p.gc,m,y),v+=g)}else m=py(r,p.data,p.gc,m,h),v=g;o.push(m),a.push(v),b=Math.max(m,b),w=Math.max(v,w)}!function(t,e){Zm(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(i,e);const _=o.indexOf(b),x=a.indexOf(w),S=t=>({width:o[t]||0,height:a[t]||0});return{first:S(0),last:S(e-1),widest:S(_),highest:S(x),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Rv(this._alignToPixels?my(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Vy(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=Vy(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Iv(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:a}=r,s=i.offset,u=this.isHorizontal(),c=this.ticks.length+(s?1:0),l=s_(i),h=[],f=a.setContext(this.getContext()),d=f.display?f.width:0,p=d/2,g=function(t){return my(n,t,d)};let m,v,y,b,w,_,x,S,E,k,T,I;if("top"===o)m=g(this.bottom),_=this.bottom-l,S=m-p,k=g(t.top)+p,I=t.bottom;else if("bottom"===o)m=g(this.top),k=t.top,I=g(t.bottom)-p,_=m+p,S=this.top+l;else if("left"===o)m=g(this.right),w=this.right-l,x=m-p,E=g(t.left)+p,T=t.right;else if("right"===o)m=g(this.left),E=t.left,T=g(t.right)-p,w=m+p,x=this.left+l;else if("x"===e){if("center"===o)m=g((t.top+t.bottom)/2+.5);else if(Gm(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}k=t.top,I=t.bottom,_=m+p,S=_+l}else if("y"===e){if("center"===o)m=g((t.left+t.right)/2);else if(Gm(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}w=m-p,x=w-l,E=t.left,T=t.right}const N=Qm(r.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/N));for(v=0;v<c;v+=A){const t=this.getContext(v),e=i.setContext(t),r=a.setContext(t),o=e.lineWidth,c=e.color,l=r.dash||[],f=r.dashOffset,d=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=a_(this,v,s),void 0!==y&&(b=my(n,y,o),u?w=x=E=T=b:_=S=k=I=b,h.push({tx1:w,ty1:_,tx2:x,ty2:S,x1:E,y1:k,x2:T,y2:I,width:o,color:c,borderDash:l,borderDashOffset:f,tickWidth:d,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:u,padding:c,mirror:l}=i,h=s_(n.grid),f=h+c,d=l?-c:f,p=-Iv(this.labelRotation),g=[];let m,v,y,b,w,_,x,S,E,k,T,I,N="middle";if("top"===r)_=this.bottom-d,x=this._getXAxisLabelAlignment();else if("bottom"===r)_=this.top+d,x=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("x"===e){if("center"===r)_=(t.top+t.bottom)/2+f;else if(Gm(r)){const t=Object.keys(r)[0],e=r[t];_=this.chart.scales[t].getPixelForValue(e)+f}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)w=(t.left+t.right)/2-f;else if(Gm(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===s?N="top":"end"===s&&(N="bottom"));const A=this._getLabelSizes();for(m=0,v=a.length;m<v;++m){y=a[m],b=y.label;const t=i.setContext(this.getContext(m));S=this.getPixelForTick(m)+i.labelOffset,E=this._resolveTickFontOptions(m),k=E.lineHeight,T=Km(b)?b.length:1;const e=T/2,n=t.color,s=t.textStrokeColor,c=t.textStrokeWidth;let h,f=x;if(o?(w=S,"inner"===x&&(f=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),I="top"===r?"near"===u||0!==p?-T*k+k/2:"center"===u?-A.highest.height/2-e*k+k:-A.highest.height+k/2:"near"===u||0!==p?k/2:"center"===u?A.highest.height/2-e*k:A.highest.height-T*k,l&&(I*=-1),0===p||t.showLabelBackdrop||(w+=k/2*Math.sin(p))):(_=S,I=(1-T)*k/2),t.showLabelBackdrop){const e=Ly(t.backdropPadding),n=A.heights[m],r=A.widths[m];let i=I-e.top,o=0-e.left;switch(N){case"middle":i-=n/2;break;case"bottom":i-=n}switch(x){case"center":o-=r/2;break;case"right":o-=r}h={left:o,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:b,font:E,textOffset:I,options:{rotation:p,color:n,strokeColor:s,strokeWidth:c,textAlign:f,textBaseline:N,translation:[w,_],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Iv(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=t+i,a=this._getLabelSizes().widest.width;let s,u;return"left"===e?r?(u=this.right+i,"near"===n?s="left":"center"===n?(s="center",u+=a/2):(s="right",u+=a)):(u=this.right-o,"near"===n?s="right":"center"===n?(s="center",u-=a/2):(s="left",u=this.left)):"right"===e?r?(u=this.left+i,"near"===n?s="right":"center"===n?(s="center",u-=a/2):(s="left",u-=a)):(u=this.left+o,"near"===n?s="left":"center"===n?(s="center",u+=a/2):(s="right",u=this.right)):s="right",{textAlign:s,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=r.length;i<o;++i){const t=r[i];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let u,c,l,h;this.isHorizontal()?(u=my(t,this.left,o)-o/2,c=my(t,this.right,a)+a/2,l=h=s):(l=my(t,this.top,o)-o/2,h=my(t,this.bottom,a)+a/2,u=c=s),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(u,l),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&_y(e,n);const r=this.getLabelItems(t);for(const i of r){const t=i.options,n=i.font;ky(e,i.label,0,i.textOffset,n,t)}n&&xy(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=Fy(n.font),o=Ly(n.padding),a=n.align;let s=i.lineHeight/2;"bottom"===e||"center"===e||Gm(e)?(s+=o.bottom,Km(n.text)&&(s+=i.lineHeight*(n.text.length-1))):s+=o.top;const{titleX:u,titleY:c,maxWidth:l,rotation:h}=function(t,e,n,r){const{top:i,left:o,bottom:a,right:s,chart:u}=t,{chartArea:c,scales:l}=u;let h,f,d,p=0;const g=a-i,m=s-o;if(t.isHorizontal()){if(f=Kv(r,o,s),Gm(n)){const t=Object.keys(n)[0],r=n[t];d=l[t].getPixelForValue(r)+g-e}else d="center"===n?(c.bottom+c.top)/2+g-e:r_(t,n,e);h=s-o}else{if(Gm(n)){const t=Object.keys(n)[0],r=n[t];f=l[t].getPixelForValue(r)-m+e}else f="center"===n?(c.left+c.right)/2-m+e:r_(t,n,e);d=Kv(r,a,i),p="left"===n?-yv:yv}return{titleX:f,titleY:d,maxWidth:h,rotation:p}}(this,s,e,a);ky(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:h,textAlign:c_(a,e,r),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Qm(t.grid&&t.grid.z,-1),r=Qm(t.border&&t.border.z,0);return this._isVisible()&&this.draw===l_.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];o[n]!==this.id||t&&o.type!==t||r.push(o)}return r}_resolveTickFontOptions(t){return Fy(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class h_{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=iv(Object.create(null),[n?dy.get(n):{},dy.get(e),t.defaults]);dy.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),u=a.join(".");dy.route(o,i,u,s)}))}(e,t.defaultRoutes);t.descriptors&&dy.describe(e,t.descriptors)}(t,o,n),this.override&&dy.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in dy[r]&&(delete dy[r][n],this.override&&delete uy[n])}}class f_{constructor(){this.controllers=new h_(Qb,"datasets",!0),this.elements=new h_(t_,"elements"),this.plugins=new h_(Object,"plugins"),this.scales=new h_(l_,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):Zm(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=cv(t);Jm(n["before"+r],[],n),e[t](n),Jm(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var d_=new f_;class p_{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===Jm(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){Wm(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=Qm(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(d_.plugins.items);for(let o=0;o<r.length;o++)n.push(d_.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const t=i[o];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,e,n,r){let{plugins:i,localIds:o}=e;const a=[],s=t.getContext();for(const u of i){const e=u.id,i=g_(n[e],r);null!==i&&a.push({plugin:u,options:m_(t.config,{plugin:u,local:o[e]},i,s)})}return a}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function g_(t,e){return e||!1!==t?!0===t?{}:t:null}function m_(t,e,n,r){let{plugin:i,local:o}=e;const a=t.pluginScopeKeys(i),s=t.getOptionScopes(n,a);return o&&i.defaults&&s.push(i.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function v_(t,e){const n=dy.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function y_(t,e){if("x"===t||"y"===t||"r"===t)return t;var n;if(t=e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.length>1&&y_(t[0].toLowerCase(),e))return t;throw new Error("Cannot determine type of '".concat(name,"' axis. Please provide 'axis' or 'position' option."))}function b_(t){const e=t.options||(t.options={});e.plugins=Qm(e.plugins,{}),e.scales=function(t,e){const n=uy[t.type]||{scales:{}},r=e.scales||{},i=v_(t.type,e),o=Object.create(null);return Object.keys(r).forEach((t=>{const e=r[t];if(!Gm(e))return console.error("Invalid scale configuration for scale: ".concat(t));if(e._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const a=y_(t,e),s=function(t,e){return t===e?"_index_":"_value_"}(a,i),u=n.scales||{};o[t]=ov(Object.create(null),[{axis:a},e,u[a],u[s]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,a=n.indexAxis||v_(i,e),s=(uy[i]||{}).scales||{};Object.keys(s).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,a),i=n[e+"AxisID"]||e;o[i]=o[i]||Object.create(null),ov(o[i],[{axis:e},r[i],s[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];ov(e,[dy.scales[e.type],dy.scale])})),o}(t,e)}function w_(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const __=new Map,x_=new Set;function S_(t,e){let n=__.get(t);return n||(n=e(),__.set(t,n),x_.add(n)),n}const E_=(t,e,n)=>{const r=uv(e,n);void 0!==r&&t.add(r)};class k_{constructor(t){this._config=function(t){return(t=t||{}).data=w_(t.data),b_(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=w_(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),b_(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return S_(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return S_("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return S_("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return S_("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;const s=new Set;e.forEach((e=>{t&&(s.add(t),e.forEach((e=>E_(s,t,e)))),e.forEach((t=>E_(s,r,t))),e.forEach((t=>E_(s,uy[i]||{},t))),e.forEach((t=>E_(s,dy,t))),e.forEach((t=>E_(s,cy,t)))}));const u=Array.from(s);return 0===u.length&&u.push(Object.create(null)),x_.has(e)&&o.set(e,u),u}chartOptionScopes(){const{options:t,type:e}=this;return[t,uy[e]||{},dy.datasets[e]||{},{type:e},dy,cy]}resolveNamedOptions(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:o,subPrefixes:a}=T_(this._resolverCache,t,r);let s=o;if(function(t,e){const{isScriptable:n,isIndexable:r}=zy(t);for(const i of e){const e=n(i),o=r(i),a=(o||e)&&t[i];if(e&&(hv(a)||I_(a))||o&&Km(a))return!0}return!1}(o,e)){i.$shared=!1;s=By(o,n=hv(n)?n():n,this.createResolver(t,n,a))}for(const u of e)i[u]=s[u];return i}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=T_(this._resolverCache,t,n);return Gm(e)?By(i,e,void 0,r):i}}function T_(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);if(!o){o={resolver:Uy(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,o)}return o}const I_=t=>Gm(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||hv(t[n])),!1);const N_=["top","bottom","left","right","chartArea"];function A_(t,e){return"top"===t||"bottom"===t||-1===N_.indexOf(t)&&"x"===e}function C_(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function D_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Jm(n&&n.onComplete,[t],e)}function P_(t){const e=t.chart,n=e.options.animation;Jm(n&&n.onProgress,[t],e)}function O_(t){return sb()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const M_={},R_=t=>{const e=O_(t);return Object.values(M_).filter((t=>t.canvas===e)).pop()};function L_(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}class F_{static register(){d_.add(...arguments),j_()}static unregister(){d_.remove(...arguments),j_()}constructor(t,e){const n=this.config=new k_(e),r=O_(t),i=R_(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!sb()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?jw:Zw}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),s=a&&a.canvas,u=s&&s.height,c=s&&s.width;this.id=Hm(),this.ctx=a,this.canvas=s,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new p_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],M_[this.id]=this,a&&s?(Mb.listen(this,"complete",D_),Mb.listen(this,"progress",P_),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return Wm(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return d_}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vy(this.canvas,this.ctx),this}stop(){return Mb.stop(this),this}resize(t,e){Mb.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vb(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Jm(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Zm(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=y_(t,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),Zm(i,(e=>{const i=e.options,o=i.id,a=y_(o,i),s=Qm(i.type,e.dtype);void 0!==i.position&&A_(i.position,a)===A_(e.dposition)||(i.position=e.dposition),r[o]=!0;let u=null;if(o in n&&n[o].type===s)u=n[o];else{u=new(d_.getScale(s))({id:o,type:s,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(i,t)})),Zm(r,((t,e)=>{t||delete n[e]})),Zm(n,(t=>{Lw.configure(this,t,t.options),Lw.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(C_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||v_(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=d_.getController(o),{datasetElementType:r,dataElementType:a}=dy.datasets[o];Object.assign(e,{dataElementType:d_.getElement(a),datasetElementType:r&&d_.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){Zm(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:t}=this.getDatasetMeta(u),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||Zm(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(C_("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Zm(this.scales,(t=>{Lw.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);fv(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){L_(t,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!fv(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Lw.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],Zm(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,hv(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Mb.has(this)?this.attached&&!Mb.running(this)&&Mb.start(this):(this.draw(),D_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=function(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&_y(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&xy(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return wy(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=Sw.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Vy(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);lv(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Mb.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),vy(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete M_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};Zm(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Zm(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Zm(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,o,a,s;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.getDatasetMeta(e);if(!r)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[n],index:n}}));!tv(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=i(e,t),a=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,o=e,a=this._getActiveElements(t,r,n,o),s=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),u=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,s);n&&(this._lastEvent=null,Jm(i.onHover,[t,a,this],this),s&&Jm(i.onClick,[t,a,this],this));const c=!tv(a,r);return(c||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=u,c}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}function j_(){return Zm(F_.instances,(t=>t._plugins.invalidate()))}function V_(t,e,n,r){const i=Oy(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(n-e)/2,a=Math.min(o,r*e/2),s=t=>{const e=(n-Math.min(o,t))*r/2;return Rv(t,0,Math.min(o,e))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Rv(i.innerStart,0,a),innerEnd:Rv(i.innerEnd,0,a)}}function U_(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function B_(t,e,n,r,i,o){const{x:a,y:s,startAngle:u,pixelMargin:c,innerRadius:l}=e,h=Math.max(e.outerRadius+r+n-c,0),f=l>0?l+r+n+c:0;let d=0;const p=i-u;if(r){const t=((l>0?l-r:0)+(h>0?h-r:0))/2;d=(p-(0!==t?p*t/(t+r):p))/2}const g=(p-Math.max(.001,p*h-n/dv)/h)/2,m=u+g+d,v=i-g-d,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:_}=V_(e,f,h,v-m),x=h-y,S=h-b,E=m+y/x,k=v-b/S,T=f+w,I=f+_,N=m+w/T,A=v-_/I;if(t.beginPath(),o){const e=(E+k)/2;if(t.arc(a,s,h,E,e),t.arc(a,s,h,e,k),b>0){const e=U_(S,k,a,s);t.arc(e.x,e.y,b,k,v+yv)}const n=U_(I,v,a,s);if(t.lineTo(n.x,n.y),_>0){const e=U_(I,A,a,s);t.arc(e.x,e.y,_,v+yv,A+Math.PI)}const r=(v-_/f+(m+w/f))/2;if(t.arc(a,s,f,v-_/f,r,!0),t.arc(a,s,f,r,m+w/f,!0),w>0){const e=U_(T,N,a,s);t.arc(e.x,e.y,w,N+Math.PI,m-yv)}const i=U_(x,m,a,s);if(t.lineTo(i.x,i.y),y>0){const e=U_(x,E,a,s);t.arc(e.x,e.y,y,m-yv,E)}}else{t.moveTo(a,s);const e=Math.cos(E)*h+a,n=Math.sin(E)*h+s;t.lineTo(e,n);const r=Math.cos(k)*h+a,i=Math.sin(k)*h+s;t.lineTo(r,i)}t.closePath()}function z_(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s,options:u}=e,{borderWidth:c,borderJoinStyle:l}=u,h="inner"===u.borderAlign;if(!c)return;h?(t.lineWidth=2*c,t.lineJoin=l||"round"):(t.lineWidth=c,t.lineJoin=l||"bevel");let f=e.endAngle;if(o){B_(t,e,n,r,f,i);for(let e=0;e<o;++e)t.stroke();isNaN(s)||(f=a+(s%pv||pv))}h&&function(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:s,innerRadius:u}=e;let c=i/s;t.beginPath(),t.arc(o,a,s,r-c,n+c),u>i?(c=i/u,t.arc(o,a,u,n+c,r-c,!0)):t.arc(o,a,i,n+yv,r-yv),t.closePath(),t.clip()}(t,e,f),o||(B_(t,e,n,r,f,i),t.stroke())}cm(F_,"defaults",dy),cm(F_,"instances",M_),cm(F_,"overrides",uy),cm(F_,"registry",d_),cm(F_,"version","4.2.1"),cm(F_,"getChart",R_);class q_ extends t_{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=Cv(r,{x:t,y:e}),{startAngle:a,endAngle:s,innerRadius:u,outerRadius:c,circumference:l}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,f=Qm(l,s-a)>=pv||Mv(i,a,s),d=Lv(o,u+h,c+h);return f&&d}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:s,spacing:u}=this.options,c=(r+i)/2,l=(o+a+u+s)/2;return{x:e+Math.cos(c)*l,y:n+Math.sin(c)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/4,i=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>pv?Math.floor(n/pv):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const s=r*(1-Math.sin(Math.min(dv,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s}=e;let u=e.endAngle;if(o){B_(t,e,n,r,u,i);for(let e=0;e<o;++e)t.fill();isNaN(s)||(u=a+(s%pv||pv))}B_(t,e,n,r,u,i),t.fill()}(t,this,s,i,o),z_(t,this,s,i,o),t.restore()}}function H_(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=Qm(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Qm(n.borderDash,e.borderDash)),t.lineDashOffset=Qm(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Qm(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Qm(n.borderWidth,e.borderWidth),t.strokeStyle=Qm(n.borderColor,e.borderColor)}function W_(t,e,n){t.lineTo(n.x,n.y)}function K_(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=e,u=Math.max(i,a),c=Math.min(o,s),l=i<a&&o<a||i>s&&o>s;return{count:r,start:u,loop:e.loop,ilen:c<u&&!l?r+c-u:c-u}}function G_(t,e,n,r){const{points:i,options:o}=e,{count:a,start:s,loop:u,ilen:c}=K_(i,n,r),l=function(t){return t.stepped?Sy:t.tension||"monotone"===t.cubicInterpolationMode?Ey:W_}(o);let h,f,d,{move:p=!0,reverse:g}=r||{};for(h=0;h<=c;++h)f=i[(s+(g?c-h:h))%a],f.skip||(p?(t.moveTo(f.x,f.y),p=!1):l(t,d,f,g,o.stepped),d=f);return u&&(f=i[(s+(g?c:0))%a],l(t,d,f,g,o.stepped)),!!u}function Y_(t,e,n,r){const i=e.points,{count:o,start:a,ilen:s}=K_(i,n,r),{move:u=!0,reverse:c}=r||{};let l,h,f,d,p,g,m=0,v=0;const y=t=>(a+(c?s-t:t))%o,b=()=>{d!==p&&(t.lineTo(m,p),t.lineTo(m,d),t.lineTo(m,g))};for(u&&(h=i[y(0)],t.moveTo(h.x,h.y)),l=0;l<=s;++l){if(h=i[y(l)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===f?(n<d?d=n:n>p&&(p=n),m=(v*m+e)/++v):(b(),t.lineTo(e,n),f=r,v=0,d=p=n),g=n}b()}function $_(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Y_:G_}cm(q_,"id","arc"),cm(q_,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),cm(q_,"defaultRoutes",{backgroundColor:"backgroundColor"});const Q_="function"===typeof Path2D;function X_(t,e,n,r){Q_&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),H_(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:o}=e,a=$_(e);for(const s of i)H_(t,o,s.style),t.beginPath(),a(t,e,s,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}class J_ extends t_{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;ab(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:s}=function(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}(n,i,o,r);return Cb(t,!0===r?[{start:a,end:s,loop:o}]:function(t,e,n,r){const i=t.length,o=[];let a,s=e,u=t[e];for(a=e+1;a<=n;++a){const n=t[a%i];n.skip||n.stop?u.skip||(r=!1,o.push({start:e%i,end:(a-1)%i,loop:r}),e=s=n.stop?a:null):(s=a,u.skip&&(e=a)),u=n}return null!==s&&o.push({start:e%i,end:s%i,loop:r}),o}(n,a,s<a?s+i:s,!!t._fullLoop&&0===a&&s===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,o=Ab(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],s=function(t){return t.stepped?_b:t.tension||"monotone"===t.cubicInterpolationMode?xb:wb}(n);let u,c;for(u=0,c=o.length;u<c;++u){const{start:c,end:l}=o[u],h=i[c],f=i[l];if(h===f){a.push(h);continue}const d=s(h,f,Math.abs((r-h[e])/(f[e]-h[e])),n.stepped);d[e]=t[e],a.push(d)}return 1===a.length?a[0]:a}pathSegment(t,e,n){return $_(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=$_(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const a of r)o&=i(t,this,a,{start:e,end:e+n-1});return!!o}draw(t,e,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),X_(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Z_(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}cm(J_,"id","line"),cm(J_,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),cm(J_,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),cm(J_,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class tx extends t_{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Z_(this,t,"x",e)}inYRange(t,e){return Z_(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!wy(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,yy(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function ex(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let s,u,c,l,h;return t.horizontal?(h=a/2,s=Math.min(n,i),u=Math.max(n,i),c=r-h,l=r+h):(h=o/2,s=n-h,u=n+h,c=Math.min(r,i),l=Math.max(r,i)),{left:s,top:c,right:u,bottom:l}}function nx(t,e,n,r){return t?0:Rv(e,n,r)}function rx(t){const e=ex(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=My(r);return{t:nx(i.top,o.top,0,n),r:nx(i.right,o.right,0,e),b:nx(i.bottom,o.bottom,0,n),l:nx(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Ry(i),a=Math.min(e,n),s=t.borderSkipped,u=r||Gm(i);return{topLeft:nx(!u||s.top||s.left,o.topLeft,0,a),topRight:nx(!u||s.top||s.right,o.topRight,0,a),bottomLeft:nx(!u||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:nx(!u||s.bottom||s.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function ix(t,e,n,r){const i=null===e,o=null===n,a=t&&!(i&&o)&&ex(t,r);return a&&(i||Lv(e,a.left,a.right))&&(o||Lv(n,a.top,a.bottom))}function ox(t,e){t.rect(e.x,e.y,e.w,e.h)}function ax(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}cm(tx,"id","point"),cm(tx,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),cm(tx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class sx extends t_{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=rx(this),a=(s=o.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Ny:ox;var s;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,ax(o,e,i)),t.clip(),a(t,ax(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,ax(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return ix(this,t,e,n)}inXRange(t,e){return ix(this,t,null,e)}inYRange(t,e){return ix(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}cm(sx,"id","bar"),cm(sx,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),cm(sx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var ux=Object.freeze({__proto__:null,ArcElement:q_,LineElement:J_,PointElement:tx,BarElement:sx});const cx=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lx=cx.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function hx(t){return cx[t%cx.length]}function fx(t){return lx[t%lx.length]}function dx(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof sw?e=function(t,e){return t.backgroundColor=t.data.map((()=>hx(e++))),e}(n,e):i instanceof cw?e=function(t,e){return t.backgroundColor=t.data.map((()=>fx(e++))),e}(n,e):i&&(e=function(t,e){return t.borderColor=hx(e),t.backgroundColor=fx(e),++e}(n,e))}}function px(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var gx={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:o}=i;if(!n.forceOverride&&(px(r)||(a=i)&&(a.borderColor||a.backgroundColor)||o&&px(o)))return;var a;const s=dx(t);r.forEach(s)}};function mx(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function vx(t){t.data.datasets.forEach((t=>{mx(t)}))}var yx={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void vx(t);const r=t.width;t.data.datasets.forEach(((e,i)=>{const{_data:o,indexAxis:a}=e,s=t.getDatasetMeta(i),u=o||e.data;if("y"===jy([a,t.options.indexAxis]))return;if(!s.controller.supportsDecimation)return;const c=t.scales[s.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:l,count:h}=function(t,e){const n=e.length;let r,i=0;const{iScale:o}=t,{min:a,max:s,minDefined:u,maxDefined:c}=o.getUserBounds();return u&&(i=Rv(jv(e,o.axis,a).lo,0,n-1)),r=c?Rv(jv(e,o.axis,s).hi+1,i,n)-i:n-i,{start:i,count:r}}(s,u);if(h<=(n.threshold||4*r))return void mx(e);let f;switch(Wm(o)&&(e._data=u,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":f=function(t,e,n,r,i){const o=i.samples||r;if(o>=n)return t.slice(e,e+n);const a=[],s=(n-2)/(o-2);let u=0;const c=e+n-1;let l,h,f,d,p,g=e;for(a[u++]=t[g],l=0;l<o-2;l++){let r,i=0,o=0;const c=Math.floor((l+1)*s)+1+e,m=Math.min(Math.floor((l+2)*s)+1,n)+e,v=m-c;for(r=c;r<m;r++)i+=t[r].x,o+=t[r].y;i/=v,o/=v;const y=Math.floor(l*s)+1+e,b=Math.min(Math.floor((l+1)*s)+1,n)+e,{x:w,y:_}=t[g];for(f=d=-1,r=y;r<b;r++)d=.5*Math.abs((w-i)*(t[r].y-_)-(w-t[r].x)*(o-_)),d>f&&(f=d,h=t[r],p=r);a[u++]=h,g=p}return a[u++]=t[c],a}(u,l,h,r,n);break;case"min-max":f=function(t,e,n,r){let i,o,a,s,u,c,l,h,f,d,p=0,g=0;const m=[],v=e+n-1,y=t[e].x,b=t[v].x-y;for(i=e;i<e+n;++i){o=t[i],a=(o.x-y)/b*r,s=o.y;const e=0|a;if(e===u)s<f?(f=s,c=i):s>d&&(d=s,l=i),p=(g*p+o.x)/++g;else{const n=i-1;if(!Wm(c)&&!Wm(l)){const e=Math.min(c,l),r=Math.max(c,l);e!==h&&e!==n&&m.push({...t[e],x:p}),r!==h&&r!==n&&m.push({...t[r],x:p})}i>0&&n!==h&&m.push(t[n]),m.push(o),u=e,g=0,f=d=s,c=l=h=i}}return m}(u,l,h,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=f}))},destroy(t){vx(t)}};function bx(t,e,n,r){if(r)return;let i=e[t],o=n[t];return"angle"===t&&(i=Ov(i),o=Ov(o)),{property:t,start:i,end:o}}function wx(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function _x(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function xx(t,e){let n=[],r=!1;return Km(t)?(r=!0,n=t):n=function(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,o=[];return e.segments.forEach((t=>{let{start:e,end:a}=t;a=wx(e,a,i);const s=i[e],u=i[a];null!==r?(o.push({x:s.x,y:r}),o.push({x:u.x,y:r})):null!==n&&(o.push({x:n,y:s.y}),o.push({x:n,y:u.y}))})),o}(t,e),n.length?new J_({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Sx(t){return t&&!1!==t.fill}function Ex(t,e,n){let r=t[e].fill;const i=[e];let o;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!Ym(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function kx(t,e,n){const r=function(t){const e=t.options,n=e.fill;let r=Qm(n&&n.target,n);void 0===r&&(r=!!e.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(t);if(Gm(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return Ym(i)&&Math.floor(i)===i?function(t,e,n,r){"-"!==t&&"+"!==t||(n=e+n);if(n===e||n<0||n>=r)return!1;return n}(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Tx(t,e,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:a,last:s,point:u}=Ix(o,e,"x");if(!(!u||a&&s))if(a)r.unshift(u);else if(t.push(u),!s)break}t.push(...r)}function Ix(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],o=t.segments,a=t.points;let s=!1,u=!1;for(let c=0;c<o.length;c++){const t=o[c],e=a[t.start][n],r=a[t.end][n];if(Lv(i,e,r)){s=i===e,u=i===r;break}}return{first:s,last:u,point:r}}class Nx{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:i,radius:o}=this;return e=e||{start:0,end:pv},t.arc(r,i,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function Ax(t){const{chart:e,fill:n,line:r}=t;if(Ym(n))return function(t,e){const n=t.getDatasetMeta(e),r=n&&t.isDatasetVisible(e);return r?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:r}=t,i=[],o=r.segments,a=r.points,s=function(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const t=r[i];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);s.push(xx({x:null,y:e.bottom},r));for(let u=0;u<o.length;u++){const t=o[u];for(let e=t.start;e<=t.end;e++)Tx(i,a[e],s)}return new J_({points:i,options:{}})}(t);if("shape"===n)return!0;const i=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,a=function(t,e,n){let r;return r="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:Gm(t)?t.value:e.getBaseValue(),r}(n,e,o),s=[];if(r.grid.circular){const t=e.getPointPositionForValue(0,o);return new Nx({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<i;++u)s.push(e.getPointPositionForValue(u,a));return s}(t);return function(t){const{scale:e={},fill:n}=t,r=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:Gm(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(Ym(r)){const t=e.isHorizontal();return{x:t?r:null,y:t?null:r}}return null}(t)}(t);return i instanceof Nx?i:xx(i,r)}function Cx(t,e,n){const r=Ax(e),{line:i,scale:o,axis:a}=e,s=i.options,u=s.fill,c=s.backgroundColor,{above:l=c,below:h=c}=u||{};r&&i.points.length&&(_y(t,n),function(t,e){const{line:n,target:r,above:i,below:o,area:a,scale:s}=e,u=n._loop?"angle":e.axis;t.save(),"x"===u&&o!==i&&(Dx(t,r,a.top),Px(t,{line:n,target:r,color:i,scale:s,property:u}),t.restore(),t.save(),Dx(t,r,a.bottom));Px(t,{line:n,target:r,color:o,scale:s,property:u}),t.restore()}(t,{line:i,target:r,above:l,below:h,area:n,scale:o,axis:a}),xy(t))}function Dx(t,e,n){const{segments:r,points:i}=e;let o=!0,a=!1;t.beginPath();for(const s of r){const{start:r,end:u}=s,c=i[r],l=i[wx(r,u,i)];o?(t.moveTo(c.x,c.y),o=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),a=!!e.pathSegment(t,s,{move:a}),a?t.closePath():t.lineTo(l.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Px(t,e){const{line:n,target:r,property:i,color:o,scale:a}=e,s=function(t,e,n){const r=t.segments,i=t.points,o=e.points,a=[];for(const s of r){let{start:t,end:r}=s;r=wx(t,r,i);const u=bx(n,i[t],i[r],s.loop);if(!e.segments){a.push({source:s,target:u,start:i[t],end:i[r]});continue}const c=Ab(e,u);for(const e of c){const t=bx(n,o[e.start],o[e.end],e.loop),r=Nb(s,i,t);for(const i of r)a.push({source:i,target:e,start:{[n]:_x(u,t,"start",Math.max)},end:{[n]:_x(u,t,"end",Math.min)}})}}return a}(n,r,i);for(const{source:u,target:c,start:l,end:h}of s){const{style:{backgroundColor:e=o}={}}=u,s=!0!==r;t.save(),t.fillStyle=e,Ox(t,a,s&&bx(i,l,h)),t.beginPath();const f=!!n.pathSegment(t,u);let d;if(s){f?t.closePath():Mx(t,r,h,i);const e=!!r.pathSegment(t,c,{move:f,reverse:!0});d=f&&e,d||Mx(t,r,l,i)}t.closePath(),t.fill(d?"evenodd":"nonzero"),t.restore()}}function Ox(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:o,start:a,end:s}=n||{};"x"===o&&(t.beginPath(),t.rect(a,r,s-a,i-r),t.clip())}function Mx(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var Rx={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let o,a,s,u;for(a=0;a<r;++a)o=t.getDatasetMeta(a),s=o.dataset,u=null,s&&s.options&&s instanceof J_&&(u={visible:t.isDatasetVisible(a),index:a,fill:kx(s,a,r),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:s}),o.$filler=u,i.push(u);for(a=0;a<r;++a)u=i[a],u&&!1!==u.fill&&(u.fill=Ex(i,a,n.propagate))},beforeDraw(t,e,n){const r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let a=i.length-1;a>=0;--a){const e=i[a].$filler;e&&(e.line.updateControlPoints(o,e.axis),r&&e.fill&&Cx(t.ctx,e,o))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const e=r[i].$filler;Sx(e)&&Cx(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;Sx(r)&&"beforeDatasetDraw"===n.drawTime&&Cx(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lx=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class Fx extends t_{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Jm(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=Fy(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=Lx(n,i);let u,c;e.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,i,a,s)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,s)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let l=t;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-c;return this.legendItems.forEach(((t,d)=>{const p=n+e/2+i.measureText(t.text).width;(0===d||u[u.length-1]+p+2*a>o)&&(l+=c,u[u.length-(d>0?0:1)]=0,f+=c,h++),s[d]={left:0,top:f,row:h,width:p,height:r},u[u.length-1]+=p+a})),l}_fitCols(t,e,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let l=a,h=0,f=0,d=0,p=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,r,i){const o=function(t,e,n,r){let i=t.text;i&&"string"!==typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+r.measureText(i).width}(r,t,e,n),a=function(t,e,n){let r=t;"string"!==typeof e.text&&(r=jx(e,n));return r}(i,r,e.lineHeight);return{itemWidth:o,itemHeight:a}}(n,e,i,t,r);o>0&&f+m+2*a>c&&(l+=h+a,u.push({width:h,height:f}),d+=h+a,p++,h=f=0),s[o]={left:d,top:f,col:p,width:g,height:m},h=Math.max(h,g),f+=m+a})),l+=h,u.push({width:h,height:f}),l}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,o=Sb(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=Kv(n,this.left+r,this.right-this.lineWidths[i]);for(const s of e)i!==s.row&&(i=s.row,a=Kv(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+t+r,s.left=o.leftForLtr(o.x(a),s.width),a+=s.width+r}else{let i=0,a=Kv(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const s of e)s.col!==i&&(i=s.col,a=Kv(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),s.top=a,s.left+=this.left+r,s.left=o.leftForLtr(o.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;_y(t,this),this._draw(),xy(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:o}=t,a=dy.color,s=Sb(t.rtl,this.left,this.width),u=Fy(o.font),{padding:c}=o,l=u.size,h=l/2;let f;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:d,boxHeight:p,itemHeight:g}=Lx(o,l),m=this.isHorizontal(),v=this._computeTitleHeight();f=m?{x:Kv(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Kv(i,this.top+v+c,this.bottom-e[0].height),line:0},Eb(this.ctx,t.textDirection);const y=g+c;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const _=r.measureText(b.text).width,x=s.textAlign(b.textAlign||(b.textAlign=o.textAlign)),S=d+h+_;let E=f.x,k=f.y;s.setWidth(this.width),m?w>0&&E+S+c>this.right&&(k=f.y+=y,f.line++,E=f.x=Kv(i,this.left+c,this.right-n[f.line])):w>0&&k+y>this.bottom&&(E=f.x=E+e[f.line].width+c,f.line++,k=f.y=Kv(i,this.top+v+c,this.bottom-e[f.line].height));if(function(t,e,n){if(isNaN(d)||d<=0||isNaN(p)||p<0)return;r.save();const i=Qm(n.lineWidth,1);if(r.fillStyle=Qm(n.fillStyle,a),r.lineCap=Qm(n.lineCap,"butt"),r.lineDashOffset=Qm(n.lineDashOffset,0),r.lineJoin=Qm(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Qm(n.strokeStyle,a),r.setLineDash(Qm(n.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},u=s.xPlus(t,d/2);by(r,a,u,e+h,o.pointStyleWidth&&d)}else{const o=e+Math.max((l-p)/2,0),a=s.leftForLtr(t,d),u=Ry(n.borderRadius);r.beginPath(),Object.values(u).some((t=>0!==t))?Ny(r,{x:a,y:o,w:d,h:p,radius:u}):r.rect(a,o,d,p),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(E),k,b),E=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(x,E+d+h,m?E+S:this.right,t.rtl),function(t,e,n){ky(r,n.text,t,e+g/2,u,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(E),k,b),m)f.x+=S+c;else if("string"!==typeof b.text){const t=u.lineHeight;f.y+=jx(b,t)}else f.y+=y})),kb(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Fy(e.font),r=Ly(e.padding);if(!e.display)return;const i=Sb(t.rtl,this.left,this.width),o=this.ctx,a=e.position,s=n.size/2,u=r.top+s;let c,l=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+u,l=Kv(t.align,l,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=u+Kv(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const f=Kv(a,l,l+h);o.textAlign=i.textAlign(Wv(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,ky(o,e.text,f,c,n)}_computeTitleHeight(){const t=this.options.title,e=Fy(t.font),n=Ly(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(Lv(t,this.left,this.right)&&Lv(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Lv(t,r.left,r.left+r.width)&&Lv(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=(i=n,null!==(r=o)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);o&&!a&&Jm(e.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!a&&Jm(e.onHover,[t,n,this],this)}else n&&Jm(e.onClick,[t,n,this],this);var r,i}}function jx(t,e){return e*(t.text?t.text.length+.5:0)}var Vx={id:"legend",_element:Fx,start(t,e,n){const r=t.legend=new Fx({ctx:t.ctx,options:n,chart:t});Lw.configure(t,r,n),Lw.addBox(t,r)},stop(t){Lw.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Lw.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:a,borderRadius:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const u=t.controller.getStyle(n?0:void 0),c=Ly(u.borderWidth);return{text:e[t.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(s||u.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ux extends t_{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Km(n.text)?n.text.length:1;this._padding=Ly(n.padding);const i=r*Fy(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:o}=this,a=o.align;let s,u,c,l=0;return this.isHorizontal()?(u=Kv(a,n,i),c=e+t,s=i-n):("left"===o.position?(u=n+t,c=Kv(a,r,e),l=-.5*dv):(u=i-t,c=Kv(a,e,r),l=.5*dv),s=r-e),{titleX:u,titleY:c,maxWidth:s,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Fy(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:a,rotation:s}=this._drawArgs(r);ky(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:s,textAlign:Wv(e.align),textBaseline:"middle",translation:[i,o]})}}var Bx={id:"title",_element:Ux,start(t,e,n){!function(t,e){const n=new Ux({ctx:t.ctx,options:e,chart:t});Lw.configure(t,n,e),Lw.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Lw.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Lw.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zx=new WeakMap;var qx={id:"subtitle",start(t,e,n){const r=new Ux({ctx:t.ctx,options:n,chart:t});Lw.configure(t,r,n),Lw.addBox(t,r),zx.set(t,r)},stop(t){Lw.removeBox(t,zx.get(t)),zx.delete(t)},beforeUpdate(t,e,n){const r=zx.get(t);Lw.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hx={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r+=t.x,i+=t.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=Dv(e,r.getCenterPoint());t<s&&(s=t,i=r)}}if(i){const t=i.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Wx(t,e){return e&&(Km(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Kx(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Gx(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Yx(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:s}=e,u=Fy(e.bodyFont),c=Fy(e.titleFont),l=Fy(e.footerFont),h=o.length,f=i.length,d=r.length,p=Ly(e.padding);let g=p.height,m=0,v=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){g+=d*(e.displayColors?Math.max(s,u.lineHeight):u.lineHeight)+(v-d)*u.lineHeight+(v-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*l.lineHeight+(f-1)*e.footerSpacing);let y=0;const b=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=c.string,Zm(t.title,b),n.font=u.string,Zm(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?a+2+e.boxPadding:0,Zm(r,(t=>{Zm(t.before,b),Zm(t.lines,b),Zm(t.after,b)})),y=0,n.font=l.string,Zm(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function $x(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:u}}=t;let c="center";return"center"===r?c=i<=(s+u)/2?"left":"right":i<=o/2?c="left":i>=a-o/2&&(c="right"),function(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(c,t,e,n)&&(c="center"),c}function Qx(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||$x(t,e,n,r),yAlign:r}}function Xx(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:s,yAlign:u}=n,c=i+o,{topLeft:l,topRight:h,bottomLeft:f,bottomRight:d}=Ry(a);let p=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s);const g=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,u,c);return"center"===u?"left"===s?p+=c:"right"===s&&(p-=c):"left"===s?p-=Math.max(l,f)+i:"right"===s&&(p+=Math.max(h,d)+i),{x:Rv(p,0,r.width-e.width),y:Rv(g,0,r.height-e.height)}}function Jx(t,e,n){const r=Ly(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function Zx(t){return Wx([],Kx(t))}function tS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const eS={beforeTitle:qm,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:qm,beforeBody:qm,beforeLabel:qm,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Wm(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:qm,afterBody:qm,beforeFooter:qm,footer:qm,afterFooter:qm};function nS(t,e,n,r){const i=t[e].call(n,r);return"undefined"===typeof i?eS[e].call(n,r):i}class rS extends t_{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new jb(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Vy(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,r=nS(n,"beforeTitle",this,t),i=nS(n,"title",this,t),o=nS(n,"afterTitle",this,t);let a=[];return a=Wx(a,Kx(r)),a=Wx(a,Kx(i)),a=Wx(a,Kx(o)),a}getBeforeBody(t,e){return Zx(nS(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return Zm(t,(t=>{const e={before:[],lines:[],after:[]},i=tS(n,t);Wx(e.before,Kx(nS(i,"beforeLabel",this,t))),Wx(e.lines,nS(i,"label",this,t)),Wx(e.after,Kx(nS(i,"afterLabel",this,t))),r.push(e)})),r}getAfterBody(t,e){return Zx(nS(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=nS(n,"beforeFooter",this,t),i=nS(n,"footer",this,t),o=nS(n,"afterFooter",this,t);let a=[];return a=Wx(a,Kx(r)),a=Wx(a,Kx(i)),a=Wx(a,Kx(o)),a}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],o=[];let a,s,u=[];for(a=0,s=e.length;a<s;++a)u.push(Gx(this.chart,e[a]));return t.filter&&(u=u.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(u=u.sort(((e,r)=>t.itemSort(e,r,n)))),Zm(u,(e=>{const n=tS(t.callbacks,e);r.push(nS(n,"labelColor",this,e)),i.push(nS(n,"labelPointStyle",this,e)),o.push(nS(n,"labelTextColor",this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=u,u}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const t=Hx[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=Yx(this,n),a=Object.assign({},t,e),s=Qx(this.chart,n,a),u=Xx(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:u.x,y:u.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:u,bottomLeft:c,bottomRight:l}=Ry(a),{x:h,y:f}=t,{width:d,height:p}=e;let g,m,v,y,b,w;return"center"===i?(b=f+p/2,"left"===r?(g=h,m=g-o,y=b+o,w=b-o):(g=h+d,m=g+o,y=b-o,w=b+o),v=g):(m="left"===r?h+Math.max(s,c)+o:"right"===r?h+d-Math.max(u,l)-o:this.caretX,"top"===i?(y=f,b=y-o,g=m-o,v=m+o):(y=f+p,b=y+o,g=m+o,v=m-o),w=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:w}}drawTitle(t,e,n){const r=this.title,i=r.length;let o,a,s;if(i){const u=Sb(n.rtl,this.x,this.width);for(t.x=Jx(this,n.titleAlign,n),e.textAlign=u.textAlign(n.titleAlign),e.textBaseline="middle",o=Fy(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,s=0;s<i;++s)e.fillText(r[s],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,s+1===i&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,r,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:u,boxPadding:c}=i,l=Fy(i.bodyFont),h=Jx(this,"left",i),f=r.x(h),d=s<l.lineHeight?(l.lineHeight-s)/2:0,p=e.y+d;if(i.usePointStyle){const e={radius:Math.min(u,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(f,u)+u/2,c=p+s/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,yy(t,e,n,c),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,yy(t,e,n,c)}else{t.lineWidth=Gm(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=r.leftForLtr(f,u-c),n=r.leftForLtr(r.xPlus(f,1),u-c-2),a=Ry(o.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Ny(t,{x:e,y:p,w:u,h:s,radius:a}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Ny(t,{x:n,y:p+1,w:u-2,h:s-2,radius:a}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,p,u,s),t.strokeRect(e,p,u,s),t.fillStyle=o.backgroundColor,t.fillRect(n,p+1,u-2,s-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:u,boxPadding:c}=n,l=Fy(n.bodyFont);let h=l.lineHeight,f=0;const d=Sb(n.rtl,this.x,this.width),p=function(n){e.fillText(n,d.x(t.x+f),t.y+h/2),t.y+=h+i},g=d.textAlign(o);let m,v,y,b,w,_,x;for(e.textAlign=o,e.textBaseline="middle",e.font=l.string,t.x=Jx(this,g,n),e.fillStyle=n.bodyColor,Zm(this.beforeBody,p),f=a&&"right"!==g?"center"===o?u/2+c:u+2+c:0,b=0,_=r.length;b<_;++b){for(m=r[b],v=this.labelTextColors[b],e.fillStyle=v,Zm(m.before,p),y=m.lines,a&&y.length&&(this._drawColorBox(e,t,b,d,n),h=Math.max(l.lineHeight,s)),w=0,x=y.length;w<x;++w)p(y[w]),h=l.lineHeight;Zm(m.after,p)}f=0,h=l.lineHeight,Zm(this.afterBody,p),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let o,a;if(i){const s=Sb(n.rtl,this.x,this.width);for(t.x=Jx(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=s.textAlign(n.footerAlign),e.textBaseline="middle",o=Fy(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,a=0;a<i;++a)e.fillText(r[a],s.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:o}=this,{x:a,y:s}=t,{width:u,height:c}=n,{topLeft:l,topRight:h,bottomLeft:f,bottomRight:d}=Ry(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+l,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+u-h,s),e.quadraticCurveTo(a+u,s,a+u,s+h),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+u,s+c-d),e.quadraticCurveTo(a+u,s+c,a+u-d,s+c),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+f,s+c),e.quadraticCurveTo(a,s+c,a,s+c-f),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+l),e.quadraticCurveTo(a,s,a+l,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=Hx[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=Yx(this,t),a=Object.assign({},n,this._size),s=Qx(e,t,a),u=Xx(t,a,s,e);r._to===u.x&&i._to===u.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ly(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),Eb(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),kb(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.chart.getDatasetMeta(e);if(!r)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[n],index:n}})),i=!tv(n,r),o=this._positionChanged(r,e);(i||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),a=this._positionChanged(o,t),s=e||!tv(o,i)||a;return s&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),s}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e;const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,o=Hx[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}cm(rS,"positioners",Hx);var iS={id:"tooltip",_element:rS,positioners:Hx,afterInit(t,e,n){n&&(t.tooltip=new rS({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},oS=Object.freeze({__proto__:null,Colors:gx,Decimation:yx,Filler:Rx,Legend:Vx,SubTitle:qx,Title:Bx,Tooltip:iS});function aS(t,e,n,r){const i=t.indexOf(e);if(-1===i)return((t,e,n,r)=>("string"===typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r);return i!==t.lastIndexOf(e)?n:i}function sS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class uS extends l_{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Wm(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Rv(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:aS(n,t,Qm(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return sS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function cS(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:s,count:u,maxTicks:c,maxDigits:l,includeBounds:h}=t,f=i||1,d=c-1,{min:p,max:g}=e,m=!Wm(o),v=!Wm(a),y=!Wm(u),b=(g-p)/(l+1);let w,_,x,S,E=Ev((g-p)/d/f)*f;if(E<1e-14&&!m&&!v)return[{value:p},{value:g}];S=Math.ceil(g/E)-Math.floor(p/E),S>d&&(E=Ev(S*E/d/f)*f),Wm(s)||(w=Math.pow(10,s),E=Math.ceil(E*w)/w),"ticks"===r?(_=Math.floor(p/E)*E,x=Math.ceil(g/E)*E):(_=p,x=g),m&&v&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((a-o)/i,E/1e3)?(S=Math.round(Math.min((a-o)/E,c)),E=(a-o)/S,_=o,x=a):y?(_=m?o:_,x=v?a:x,S=u-1,E=(x-_)/S):(S=(x-_)/E,S=Sv(S,Math.round(S),E/1e3)?Math.round(S):Math.ceil(S));const k=Math.max(Av(E),Av(_));w=Math.pow(10,Wm(s)?k:s),_=Math.round(_*w)/w,x=Math.round(x*w)/w;let T=0;for(m&&(h&&_!==o?(n.push({value:o}),_<o&&T++,Sv(Math.round((_+T*E)*w)/w,o,lS(o,b,t))&&T++):_<o&&T++);T<S;++T)n.push({value:Math.round((_+T*E)*w)/w});return v&&h&&x!==a?n.length&&Sv(n[n.length-1].value,a,lS(a,b,t))?n[n.length-1].value=a:n.push({value:a}):v&&x!==a||n.push({value:x}),n}function lS(t,e,n){let{horizontal:r,minRotation:i}=n;const o=Iv(i),a=(r?Math.sin(o):Math.cos(o))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}cm(uS,"id","category"),cm(uS,"defaults",{ticks:{callback:sS}});class hS extends l_{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Wm(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=t=>r=e?r:t,a=t=>i=n?i:t;if(t){const t=xv(r),e=xv(i);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(r===i){let e=0===i?1:Math.abs(.05*i);a(i+e),t||o(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=cS({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Tv(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return oy(t,this.chart.options.locale,this.options.ticks.format)}}class fS extends hS{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ym(t)?t:0,this.max=Ym(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Iv(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}cm(fS,"id","linear"),cm(fS,"defaults",{ticks:{callback:sy.formatters.numeric}});const dS=t=>Math.floor(_v(t)),pS=(t,e)=>Math.pow(10,dS(t)+e);function gS(t){return 1===t/Math.pow(10,dS(t))}function mS(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function vS(t,e){let{min:n,max:r}=e;n=$m(t.min,n);const i=[],o=dS(n);let a=function(t,e){let n=dS(e-t);for(;mS(t,e,n)>10;)n++;for(;mS(t,e,n)<10;)n--;return Math.min(n,dS(t))}(n,r),s=a<0?Math.pow(10,Math.abs(a)):1;const u=Math.pow(10,a),c=o>a?Math.pow(10,o):0,l=Math.round((n-c)*s)/s,h=Math.floor((n-c)/u/10)*u*10;let f=Math.floor((l-h)/Math.pow(10,a)),d=$m(t.min,Math.round((c+h+f*Math.pow(10,a))*s)/s);for(;d<r;)i.push({value:d,major:gS(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,s=a>=0?1:s),d=Math.round((c+h+f*Math.pow(10,a))*s)/s;const p=$m(t.max,d);return i.push({value:p,major:gS(p),significand:f}),i}class yS extends l_{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=hS.prototype.parse.apply(this,[t,e]);if(0!==n)return Ym(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ym(t)?Math.max(0,t):null,this.max=Ym(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ym(this._userMin)&&(this.min=t===pS(this.min,0)?pS(this.min,-1):pS(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,o=t=>r=e?r:t;n===r&&(n<=0?(i(1),o(10)):(i(pS(n,-1)),o(pS(r,1)))),n<=0&&i(pS(r,-1)),r<=0&&o(pS(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e=vS({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Tv(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":oy(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=_v(t),this._valueRange=_v(this.max)-_v(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(_v(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function bS(t){const e=t.ticks;if(e.display&&t.display){const t=Ly(e.backdropPadding);return Qm(e.font&&e.font.size,dy.font.size)+t.height}return 0}function wS(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function _S(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],o=t._pointLabels.length,a=t.options.pointLabels,s=a.centerPointLabels?dv/o:0;for(let h=0;h<o;h++){const o=a.setContext(t.getPointLabelContext(h));i[h]=o.padding;const f=t.getPointPosition(h,t.drawingArea+i[h],s),d=Fy(o.font),p=(u=t.ctx,c=d,l=Km(l=t._pointLabels[h])?l:[l],{w:gy(u,c.string,l),h:l.length*c.lineHeight});r[h]=p;const g=Ov(t.getIndexAngle(h)+s),m=Math.round(Nv(g));xS(n,e,g,wS(m,f.x,p.w,0,180),wS(m,f.y,p.h,90,270))}var u,c,l;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const r=[],i=t._pointLabels.length,o=t.options,a=bS(o)/2,s=t.drawingArea,u=o.pointLabels.centerPointLabels?dv/i:0;for(let c=0;c<i;c++){const i=t.getPointPosition(c,s+a+n[c],u),o=Math.round(Nv(Ov(i.angle+yv))),l=e[c],h=kS(i.y,l.h,o),f=SS(o),d=ES(i.x,l.w,f);r.push({x:i.x,y:h,textAlign:f,left:d,top:h,right:d+l.w,bottom:h+l.h})}return r}(t,r,i)}function xS(t,e,n,r,i){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,u=0;r.start<e.l?(s=(e.l-r.start)/o,t.l=Math.min(t.l,e.l-s)):r.end>e.r&&(s=(r.end-e.r)/o,t.r=Math.max(t.r,e.r+s)),i.start<e.t?(u=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-u)):i.end>e.b&&(u=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+u))}function SS(t){return 0===t||180===t?"center":t<180?"left":"right"}function ES(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function kS(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function TS(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,pv);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=t.getPointPosition(o,e),i.lineTo(n.x,n.y)}}cm(yS,"id","logarithmic"),cm(yS,"defaults",{ticks:{callback:sy.formatters.logarithmic,major:{enabled:!0}}});class IS extends hS{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ly(bS(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ym(t)&&!isNaN(t)?t:0,this.max=Ym(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/bS(this.options))}generateTickLabels(t){hS.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=Jm(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?_S(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return Ov(t*(pv/(this._pointLabels.length||1))+Iv(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Wm(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Wm(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return Vy(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(t)-yv+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),TS(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:i}=e,o=this._pointLabels.length;let a,s,u;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=r.setContext(t.getPointLabelContext(i)),o=Fy(e.font),{x:a,y:s,textAlign:u,left:c,top:l,right:h,bottom:f}=t._pointLabelItems[i],{backdropColor:d}=e;if(!Wm(d)){const t=Ry(e.borderRadius),r=Ly(e.backdropPadding);n.fillStyle=d;const i=c-r.left,o=l-r.top,a=h-c+r.width,s=f-l+r.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),Ny(n,{x:i,y:o,w:a,h:s,radius:t}),n.fill()):n.fillRect(i,o,a,s)}ky(n,t._pointLabels[i],a,s+o.lineHeight/2,o,{color:e.color,textAlign:u,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach(((t,e)=>{if(0!==e){s=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),a=r.setContext(n),u=i.setContext(n);!function(t,e,n,r,i){const o=t.ctx,a=e.circular,{color:s,lineWidth:u}=e;!a&&!r||!s||!u||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=u,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),TS(t,n,a,r),o.closePath(),o.stroke(),o.restore())}(this,a,s,o,u)}})),n.display){for(t.save(),a=o-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:o}=r;o&&i&&(t.lineWidth=o,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,s),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&!e.reverse)return;const s=n.setContext(this.getContext(a)),u=Fy(s.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){t.font=u.string,o=t.measureText(r.label).width,t.fillStyle=s.backdropColor;const e=Ly(s.backdropPadding);t.fillRect(-o/2-e.left,-i-u.size/2-e.top,o+e.width,u.size+e.height)}ky(t,r.label,0,-i,u,{color:s.color})})),t.restore()}drawTitle(){}}cm(IS,"id","radialLinear"),cm(IS,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:sy.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),cm(IS,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),cm(IS,"descriptors",{angleLines:{_fallback:"grid"}});const NS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},AS=Object.keys(NS);function CS(t,e){return t-e}function DS(t,e){if(Wm(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let a=e;return"function"===typeof r&&(a=r(a)),Ym(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!kv(o)&&!0!==o?n.startOf(a,i):n.startOf(a,"isoWeek",o)),+a)}function PS(t,e,n,r){const i=AS.length;for(let o=AS.indexOf(t);o<i-1;++o){const t=NS[AS[o]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return AS[o]}return AS[i-1]}function OS(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=Fv(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function MS(t,e,n){const r=[],i={},o=e.length;let a,s;for(a=0;a<o;++a)s=e[a],i[s]=a,r.push({value:s,major:!1});return 0!==o&&n?function(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),a=e[e.length-1].value;let s,u;for(s=o;s<=a;s=+i.add(s,1,r))u=n[s],u>=0&&(e[u].major=!0);return e}(t,r,i,n):r}class RS extends l_{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),r=this._adapter=new mw(t.adapters.date);r.init(e),ov(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:DS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function s(t){o||isNaN(t.min)||(r=Math.min(r,t.min)),a||isNaN(t.max)||(i=Math.max(i,t.max))}o&&a||(s(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||s(this.getMinMax(!1))),r=Ym(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=Ym(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?PS(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let o=AS.length-1;o>=AS.indexOf(n);o--){const n=AS[o];if(NS[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return AS[n?AS.indexOf(n):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=AS.indexOf(t)+1,n=AS.length;e<n;++e)if(NS[AS[e]].common)return AS[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&o.reverse(),MS(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),r=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),i=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const o=n.length<3?.5:.25;r=Rv(r,0,o),i=Rv(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||PS(i.minUnit,e,n,this._getLabelCapacity(e)),a=Qm(r.ticks.stepSize,1),s="week"===o&&i.isoWeekday,u=kv(s)||!0===s,c={};let l,h,f=e;if(u&&(f=+t.startOf(f,"isoWeek",s)),f=+t.startOf(f,u?"day":o),t.diff(n,e,o)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+o);const d="data"===r.ticks.source&&this.getDataTimestamps();for(l=f,h=0;l<n;l=+t.add(l,a,o),h++)OS(c,l,d);return l!==n&&"ticks"!==r.bounds&&1!==h||OS(c,l,d),Object.keys(c).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,i=e||n[r];return this._adapter.format(t,i)}_tickFormatFunction(t,e,n,r){const i=this.options,o=i.ticks.callback;if(o)return Jm(o,[t,e,n],this);const a=i.time.displayFormats,s=this._unit,u=this._majorUnit,c=s&&a[s],l=u&&a[u],h=n[e],f=u&&l&&h&&h.major;return this._adapter.format(t,r||(f?l:c))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=Iv(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,MS(this,[t],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(DS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return zv(t.sort(CS))}}function LS(t,e,n){let r,i,o,a,s=0,u=t.length-1;n?(e>=t[s].pos&&e<=t[u].pos&&({lo:s,hi:u}=jv(t,"pos",e)),({pos:r,time:o}=t[s]),({pos:i,time:a}=t[u])):(e>=t[s].time&&e<=t[u].time&&({lo:s,hi:u}=jv(t,"time",e)),({time:r,pos:o}=t[s]),({time:i,pos:a}=t[u]));const c=i-r;return c?o+(a-o)*(e-r)/c:o}cm(RS,"id","time"),cm(RS,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class FS extends RS{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=LS(e,this.min),this._tableRange=LS(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let o,a,s,u,c;for(o=0,a=t.length;o<a;++o)u=t[o],u>=e&&u<=n&&r.push(u);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],s=r[o-1],u=r[o],Math.round((c+s)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(LS(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return LS(this._table,n*this._tableRange+this._minPos,!0)}}cm(FS,"id","timeseries"),cm(FS,"defaults",RS.defaults);const jS=[dw,ux,oS,Object.freeze({__proto__:null,CategoryScale:uS,LinearScale:fS,LogarithmicScale:yS,RadialLinearScale:IS,TimeScale:RS,TimeSeriesScale:FS})],VS="label";function US(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function BS(t,e){t.labels=e}function zS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:VS;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function qS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VS;const n={labels:[],datasets:[]};return BS(n,t.labels),zS(n,t.datasets,e),n}function HS(t,n){const{height:r=150,width:i=300,redraw:o=!1,datasetIdKey:a,type:s,data:u,options:c,plugins:l=[],fallbackContent:h,updateMode:f,...d}=t,p=(0,e.useRef)(null),g=(0,e.useRef)(),m=()=>{p.current&&(g.current=new F_(p.current,{type:s,data:qS(u,a),options:c&&{...c},plugins:l}),US(n,g.current))},v=()=>{US(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,e.useEffect)((()=>{!o&&g.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(g.current,c)}),[o,c]),(0,e.useEffect)((()=>{!o&&g.current&&BS(g.current.config.data,u.labels)}),[o,u.labels]),(0,e.useEffect)((()=>{!o&&g.current&&u.datasets&&zS(g.current.config.data,u.datasets,a)}),[o,u.datasets]),(0,e.useEffect)((()=>{g.current&&(o?(v(),setTimeout(m)):g.current.update(f))}),[o,c,u.labels,u.datasets,f]),(0,e.useEffect)((()=>{g.current&&(v(),setTimeout(m))}),[s]),(0,e.useEffect)((()=>(m(),()=>v())),[]),e.createElement("canvas",Object.assign({ref:p,role:"img",height:r,width:i},d),h)}const WS=(0,e.forwardRef)(HS);function KS(t,n){return F_.register(n),(0,e.forwardRef)(((n,r)=>e.createElement(WS,Object.assign({},n,{ref:r,type:t}))))}const GS=KS("line",uw);F_.register(...jS);function YS(t){const[n,r]=(0,e.useState)(null);let i=(0,e.useRef)(t.startingAmount);(0,e.useEffect)((()=>{i.current=Number(t.startingAmount)}),[t.startingAmount]),(0,e.useEffect)((()=>{if(t.nbaProfits){let e=t.nbaProfits.map((t=>(i.current+=Number(t.profit),i.current))),n=t.nbaProfits.map(((t,e)=>e+1));r({labels:n,datasets:[{label:"Profit Chart",data:e,backgroundColor:"green",borderColor:"green",tension:.4,color:"dark"}]})}}),[t.nbaProfits]);return(0,Yg.jsx)("div",{children:n&&(0,Yg.jsx)(GS,{data:n,options:{scales:{y:{beginAtZero:!0,title:{display:!0,text:"Profit Amount",color:"dark"}},x:{title:{display:!0,text:"Number of Bets",color:"dark"}}}},className:"chart"})})}function $S(){const{user:t}=Jg(),[n,r]=(0,e.useState)(null),[i,o]=(0,e.useState)(0),[a,s]=(0,e.useState)(!1),u=(0,e.useRef)(0);if((0,e.useEffect)((()=>{!async function(){const e=[];await Wg.collection("transactions").get().then((t=>{t.forEach((t=>{e.push(t.data())}))}));const n=e.filter((e=>!0===e.finished&&t.uid===e.user));r(n)}()}),[i]),n){u.current=0;const t=n.map((t=>Number(t.profit)));for(const e of t)u.current+=e}return(0,Yg.jsxs)("div",{className:"profit-container",children:[(0,Yg.jsx)(YS,{startingAmount:i,nbaProfits:n}),(0,Yg.jsx)("h1",{className:"start-container",children:"Starting Amount"}),a?(0,Yg.jsx)("input",{className:"start-amount",onKeyDown:t=>(t=>{if("Enter"===t.key){if(s((t=>!t)),""===t.target.value||!0===isNaN(t.target.value))return i;o((()=>t.target.value))}})(t),type:"text",autoFocus:!0}):(0,Yg.jsx)("h1",{className:"start-price",onClick:()=>{s((t=>!t))},children:i}),(0,Yg.jsxs)("div",{className:"start-other",children:[(0,Yg.jsx)("h1",{className:"start-profit",children:"Current Profit"}),(0,Yg.jsx)("h1",{className:"bet-title",children:"Number of Bets"})]}),(0,Yg.jsxs)("div",{className:"start-info",children:[(0,Yg.jsxs)("h1",{className:"profit-amount",children:["$",u.current]}),n&&(0,Yg.jsx)("h1",{className:"bet-amount",children:n.length})]})]})}F_.register(uS);const QS=()=>{let t=new Date;const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return{scoreDate:r+"-"+n+"-"+e,oddDate:r+n+e}};var XS=function(t){return t.ISPENDING="IS_PENDING",t.ADDEDDOCUMENT="ADDED_DOCUMENT",t.ERROR="ERROR",t}(XS||{});let JS={document:null,isPending:!1,error:null,success:null};const ZS=(t,e)=>{switch(e.type){case XS.ISPENDING:return{isPending:!0,document:null,success:!1,error:null};case XS.ADDEDDOCUMENT:return{isPending:!1,document:e.payload,success:!0,error:null};case XS.ERROR:return{isPending:!1,document:null,success:!1,error:e.payload};default:return t}},tE=t=>{const[n,r]=(0,e.useReducer)(ZS,JS),[i,o]=(0,e.useState)(!1),a=Wg.collection(t),s=t=>{i||r(t)};return(0,e.useEffect)((()=>()=>o(!0)),[]),{addDocument:async t=>{r({type:XS.ISPENDING,payload:null});try{const e=Gg.fromDate(new Date),n=await a.add({...t,createdAt:e});s({type:XS.ADDEDDOCUMENT,payload:n})}catch(e){s({type:XS.ERROR,payload:e.message})}},response:n}};function eE(){const{user:t}=Jg(),{addDocument:n,response:r}=tE("transactions"),{scoreDate:i,oddDate:o}=QS(),[a,s]=(0,e.useState)(null),[u,c]=(0,e.useState)(!0),[l,h]=(0,e.useState)(null),[f,d]=(0,e.useState)(!1),[p,g]=(0,e.useState)(!1),[m,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[w,_]=(0,e.useState)(null),[x,S]=(0,e.useState)(1),[E,k]=(0,e.useState)(1),[T,I]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{h(null),c(!0);try{const t=await fetch("https://www.balldontlie.io/api/v1/games?start_date=".concat(i,"&end_date=").concat(i)),e=await t.json(),n=await fetch("https://tank01-fantasy-stats.p.rapidapi.com/getNBABettingOdds?gameDate=".concat(o),{method:"GET",headers:{"X-RapidAPI-Key":"".concat("54f4d5f069mshbf4e5665eadf8e2p1511d3jsn946d219e635b"),"X-RapidAPI-Host":"tank01-fantasy-stats.p.rapidapi.com"}}),r=await n.json();if(!t)throw new Error("Could not complete request");t&&n&&(_(r.body),s(e.data),c(!1))}catch(t){h(t.message),c(!1)}})()}),[]),(0,e.useEffect)((()=>{if(w&&a){let e=a.map(((e,n)=>{let r;for(r in w){const o=w[r];if(r.slice(9,12)===e.visitor_team.abbreviation)return{id:n,gameId:e.id,user:t.uid,date:i,[e.home_team.abbreviation]:f,[e.visitor_team.abbreviation]:p,wager:x,profit:E,spreadHome:{[e.home_team.abbreviation]:o.fanduel.homeTeamSpread,homeTeam:e.home_team.abbreviation},spreadAway:{[e.visitor_team.abbreviation]:o.fanduel.awayTeamSpread,awayTeam:e.visitor_team.abbreviation}};if(r.slice(9,11)===e.visitor_team.abbreviation.slice(0,-1))return{id:n,gameId:e.id,user:t.uid,date:i,[e.home_team.abbreviation]:f,[e.visitor_team.abbreviation]:p,wager:x,profit:E,spreadHome:{[e.home_team.abbreviation]:o.fanduel.homeTeamSpread,homeTeam:e.home_team.abbreviation},spreadAway:{[e.visitor_team.abbreviation]:o.fanduel.awayTeamSpread,awayTeam:e.visitor_team.abbreviation}}}}));I(e)}}),[w,a]);const[N,A]=(0,e.useState)({}),C=(t,e,n,r)=>{let{target:i,currentTarget:o}=t;I((t=>{if(o.value===r){d(!1),g((t=>!t));const t=T.map((t=>({...t})));return t.find((t=>t.id===e))[n]=!1,t.find((t=>t.id===e))[o.value]=!p,t}if(o.value===n){g(!1),d((t=>!t));const t=T.map((t=>({...t})));return t.find((t=>t.id===e))[r]=!1,t.find((t=>t.id===e))[o.value]=!f,t}return[...t]}))};let D="",P="";return(0,Yg.jsxs)(Yg.Fragment,{children:[(null===a||Array.isArray(a)&&0===a.length)&&(0,Yg.jsx)("h1",{className:"loading",children:"No NBA Games Today"}),u&&(0,Yg.jsx)("h1",{className:"loading",children:"Loading Games..."}),m&&(0,Yg.jsx)("h1",{className:"betFail loading",children:"Bet Unsuccessful..."}),y&&(0,Yg.jsx)("h1",{className:"betSuccess loading",children:"Bet Successful!"}),(0,Yg.jsx)("main",{className:"main",children:(0,Yg.jsx)("div",{className:"game-container",children:a&&w&&a.map(((t,e)=>{let r;for(r in w){const e=w[r];if(r.slice(9,12)===t.visitor_team.abbreviation){D=e.fanduel.homeTeamSpread,P=e.fanduel.awayTeamSpread;break}if(r.slice(-3)===t.home_team.abbreviation){D=e.fanduel.homeTeamSpread,P=e.fanduel.awayTeamSpread;break}r.slice(9,11)===t.visitor_team.abbreviation.slice(0,-1)&&(D=e.fanduel.homeTeamSpread,P=e.fanduel.awayTeamSpread)}return(0,Yg.jsxs)("div",{className:"game",children:[(0,Yg.jsxs)("h1",{children:["@",t.home_team.full_name," ",D]}),(0,Yg.jsxs)("h1",{children:[t.visitor_team.full_name," ",P]}),(0,Yg.jsxs)("h1",{className:"score",children:[t.home_team.abbreviation," ",(0,Yg.jsxs)("span",{children:[t.home_team_score," - ",t.visitor_team_score]})," ",t.visitor_team.abbreviation]}),(0,Yg.jsxs)("form",{onSubmit:r=>((t,e,r,i)=>{t.preventDefault(),!1===T[e][r]&&!1===T[e][i]?(v(!0),setTimeout((()=>{v(!1)}),500)):(b(!0),setTimeout((()=>{b(!1)}),500),n(T[e]))})(r,e,t.home_team.abbreviation,t.visitor_team.abbreviation),children:[T&&(0,Yg.jsxs)("button",{type:"button",className:"bet bet1 ".concat(T[e][t.home_team.abbreviation]?"betActive":""),value:t.home_team.abbreviation,onClick:n=>{C(n,e,t.home_team.abbreviation,t.visitor_team.abbreviation)},children:[t.home_team.abbreviation," ",D]},t.home_team.id),T&&(0,Yg.jsxs)("button",{className:"bet bet2 ".concat(T[e][t.visitor_team.abbreviation]?"betActive":""),type:"button",value:t.visitor_team.abbreviation,onClick:n=>{C(n,e,t.home_team.abbreviation,t.visitor_team.abbreviation)},children:[t.visitor_team.abbreviation," ",P]},t.visitor_team.id),(0,Yg.jsx)("input",{type:"number",min:"1",className:"wager",onChange:n=>{((t,e,n)=>{S(t.target.value),k(Math.round(1.91*t.target.value)-t.target.value),(t.target.value<0||""===t.target.value)&&(t.target.value=1),I((n=>{const r=T.map((t=>({...t})));return r.find((t=>t.id==e)).wager=t.target.valueAsNumber,r.find((t=>t.id==e)).profit=Math.round(1.91*t.target.valueAsNumber)-t.target.valueAsNumber,r}))})(n,e,t.id)}}),(0,Yg.jsx)("button",{className:"".concat(a[e].status.includes("Qtr")||a[e].status.includes("Final")?"disabledButton":"betButton"),disabled:!(!a[e].status.includes("Qtr")&&!a[e].status.includes("Final")),type:"submit",children:"Bet"})]})]},t.id)}))})})]})}const nE=function(){const{user:t,dispatch:e,authIsReady:n}=Jg();return(0,Yg.jsx)(Yg.Fragment,{children:n&&(0,Yg.jsx)(xt,{children:null===t?(0,Yg.jsxs)(Yg.Fragment,{children:[(0,Yg.jsx)(nm,{}),(0,Yg.jsxs)(mt,{children:[(0,Yg.jsx)(pt,{path:"/NBA-Betting-App/",element:(0,Yg.jsx)(Zg,{})}),(0,Yg.jsx)(pt,{path:"/login",element:(0,Yg.jsx)(Zg,{})}),(0,Yg.jsx)(pt,{path:"/signup",element:(0,Yg.jsx)(em,{})})]})]}):(0,Yg.jsxs)("div",{className:"container",children:[(0,Yg.jsx)(rm,{}),(0,Yg.jsxs)(mt,{children:[(0,Yg.jsx)(pt,{path:"/NBA-Betting-App/",element:(0,Yg.jsx)(eE,{})}),(0,Yg.jsx)(pt,{path:"/bets",element:(0,Yg.jsx)(am,{})}),(0,Yg.jsx)(pt,{path:"/profits",element:(0,Yg.jsx)($S,{})})]})]})})})};i.createRoot(document.getElementById("root")).render((0,Yg.jsx)(Xg,{children:(0,Yg.jsx)(nE,{})}))})()})();
//# sourceMappingURL=main.aec426c3.js.map